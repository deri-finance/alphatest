(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[10],{1196:function(e,t,n){"use strict";n.r(t);var a,c=n(53),i=n(0),s=n.n(i),r=n(2),o=n(7),l=n(9),d=n(36),u=n(88),b=n(44),j=n(845),p=n(814),f=n(854),x=n(788),v=n(775),h=n(21),m=n(32),O=n(163),g=(n(988),n(15)),k=n(48),y=n(47),N=n(35),w=n(789),S=n(10),T=y.a.div(a||(a=Object(k.a)(["\n  .remove-hint{\n    cursor: pointer;\n    .text{\n      display: flex;\n      border:0;\n    }\n    span{\n      margin-left:8px;\n    }\n  }\n"])));function C(e){var t=e.lang,n=e.baseToken,a=e.penalty,c=e.isB0Staked,i=Object(l.useState)(""),s=Object(o.a)(i,2),r=s[0],d=s[1];return Object(l.useEffect)((function(){var e;e=c?"BUSD"===n?"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(a," BUSD ").concat(["this-action-will-update-your"]):"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(a," BUSD ").concat(["this-action-will-trigger-swapping"]," ").concat(n," ").concat(t["to-update-your"]):"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(a," BUSD ").concat(["this-action-will-trigger-swapping"]," ").concat(n," ").concat(t["to-update-your-busd-balance-to-reflect-the-unsettled-amount"]),d(e)}),[c,a,n]),Object(S.jsx)(T,{children:Object(S.jsx)("div",{className:"remove-hint",children:Object(S.jsxs)(w.a,{tip:r,width:"332",children:[Object(S.jsx)(N.a,{token:"warn"})," ",Object(S.jsx)("span",{children:t["negative-unsettled-balance"]})]})})})}function I(e){var t=e.wallet,n=e.lang,a=e.type,c=e.isLp,i=e.bTokenId,d=e.poolConfig,u=e.version,b=e.baseToken,j=e.address,k=e.walletBalance,y=e.poolInfo,N=e.afterTransaction,w=Object(l.useState)(""),T=Object(o.a)(w,2),I=T[0],_=T[1],q=Object(l.useState)(!1),F=Object(o.a)(q,2),E=(F[0],F[1]),A=Object(O.c)(),B=Object(l.useState)({}),L=Object(o.a)(B,2),D=L[0],R=L[1],Z="add"===a||"v2"===u||"v3"===u||"v3_lite"===u?b:n.shares,z=function(){var e=Object(r.a)(s.a.mark((function e(){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="add"===a?I:Object(g.bg)(I).times(Object(g.bg)(-1)).toString(),e.next=3,m.a.request("getEstimatedLiquidityInfo",[t.detail.chainId,j,t.detail.account,n,i]);case 3:c=e.sent,R(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(r.a)(s.a.mark((function e(){var a,r,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(g.bg)(k),!Object(g.bg)(I).gt(a)){e.next=5;break}return A.error(n["not-sufficient-funds"]),e.abrupt("return",!1);case 5:if(!(I<=0||isNaN(I))){e.next=8;break}return A.error(n["it-has-to-be-greater-than-zero"]),e.abrupt("return",!1);case 8:if("lp"!==c){e.next=15;break}return o=[t.detail.chainId,j,t.detail.account,I],e.next=12,m.a.request("addLpLiquidity",o,{includeResponse:!0});case 12:r=e.sent,e.next=19;break;case 15:return l="v3"===u||"v3_lite"===u?[t.detail.chainId,j,t.detail.account,I,b]:[t.detail.chainId,j,t.detail.account,I,i],e.next=18,m.a.request("addLiquidity",l,{includeResponse:!0});case 18:r=e.sent;case 19:if(N(!0),_(""),r&&r.success){e.next=24;break}return A.error(n["failure-of-transaction"]),e.abrupt("return",!1);case 24:return e.abrupt("return",!0);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(r.a)(s.a.mark((function e(){var a,r,o,l,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(g.bg)(y.totalShares),!(r=Object(g.bg)(I)).gt(a)){e.next=5;break}return A.error("".concat(n["your-current-max-removable-shares-are"],"  ").concat(y.totalShares)),e.abrupt("return",!1);case 5:if(!(+I<=0||isNaN(I))){e.next=8;break}return A.error(n["invalid-liquidity"]),e.abrupt("return",!1);case 8:if("lp"!==c){e.next=15;break}return l=[t.detail.chainId,j,t.detail.account,I],e.next=12,m.a.request("removeLpLiquidity",l,{includeResponse:!0});case 12:o=e.sent,e.next=19;break;case 15:return d="v3"===u||"v3_lite"===u?[t.detail.chainId,j,t.detail.account,I,b,a.eq(r)]:[t.detail.chainId,j,t.detail.account,I,i,a.eq(r)],e.next=18,m.a.request("removeLiquidity",d,{includeResponse:!0});case 18:o=e.sent;case 19:return o&&o.success||A.error(n["failure-of-transaction"]),_(""),N(),e.abrupt("return",!0);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){I?(z(),E(!0)):E(!1)}),[I]),Object(l.useEffect)((function(){_("")}),[a]),Object(S.jsxs)("div",{className:"operate",children:[Object(S.jsx)("div",{className:"add-input",children:Object(S.jsx)(p.a,{value:I,unit:Z,onChange:function(e){_(e)},inputWidth:"237px",styles:{"min-width":"332px"}})}),"add"===a&&Object(S.jsxs)("div",{className:"wallet-balance",children:[n["wallet-balance"]," ",Object(S.jsx)(v.a,{value:k,displayType:"text",decimalScale:2})," ",b]}),"remove"===a&&Object(S.jsxs)("div",{className:"wallet-balance",children:[n["staked-balance"]," ",Object(S.jsx)(v.a,{value:y.totalShares,displayType:"text",decimalScale:2})," ",Z]}),"remove"===a&&Object(S.jsx)("div",{children:Object(S.jsx)(C,{lang:n,baseToken:b,penalty:"-2",isB0Staked:!1})}),Object(S.jsx)("div",{className:"check-proportion",children:Object(S.jsx)(x.a,{defaultValue:I,onChange:function(e){e=parseInt(e);var t="add"===a?k:y.totalShares,n=Object(g.bg)(t).times(Object(g.bg)(e/100)).toString();_(n)},outline:!0,bgColor:" rgba(85, 119, 253, 0.1)",width:77,height:40})}),Object(S.jsx)("div",{className:"information",children:I&&Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"percentage",children:[Object(S.jsx)("div",{className:"info-box-title",children:n["my-liquidity-percentage"]}),Object(S.jsxs)("div",{className:"info-box-num",children:[Object(S.jsx)(v.a,{allowZero:!0,value:y.percent,decimalScale:2,suffix:"%"})," ->  ",Object(S.jsx)(v.a,{allowZero:!0,value:100*D.percentage1,decimalScale:2,suffix:"%"})]})]}),Object(S.jsxs)("div",{className:"staked-balance",children:[Object(S.jsx)("div",{className:"info-box-title",children:n["staked-balance"]}),Object(S.jsxs)("div",{className:"info-box-num",children:[Object(S.jsx)(v.a,{allowZero:!0,value:y.formatShares,decimalScale:2})," -> ",Object(S.jsx)(v.a,{allowZero:!0,value:D.shares1,decimalScale:2}),"v2"===u||"v3"===u||"v3_lite"===u?" "+b:" "+n.shares]})]})]})}),Object(S.jsxs)("div",{className:"add-remove-btn",children:["add"===a&&Object(S.jsx)(f.a,{alert:A,fontWeight:"bold",onClick:P,bToken:b,pool:d,wallet:t,bTokenId:i,fontSize:"18",type:h.h,width:"331",label:n["add-liquidity"],lang:n}),"remove"===a&&Object(S.jsx)(f.a,{alert:A,fontWeight:"bold",onClick:V,bToken:b,pool:d,type:h.h,wallet:t,bTokenId:i,fontSize:"18",width:"331",label:n["remove-liquidity"],lang:n})]})]})}var _=n(808),q=n(855),F=n(30),E=n(83),A=n(329),B=(n(989),n.p+"static/media/back.b0297594.svg"),L=n(209),D=n(330),R=n(328),Z=n(164),z=n(853),P=n(331),V=n.p+"static/media/add-icon.6f7516a6.svg",W=n.p+"static/media/remove-icon.1feb361f.svg",U=n.p+"static/media/inactive-add.bd5c1504.svg",M=n.p+"static/media/inactive-remove.026bafcb.svg",Y=n(208),$=E[g.DeriEnv.get()].chainInfo,J=E[g.DeriEnv.get()].chainInfo;t.default=Object(b.b)("wallet","poolManager")(Object(b.c)((function(e){var t,n=e.lang,a=e.wallet,i=void 0===a?{}:a,b=e.poolManager,p=Object(d.i)(),f=p.version,x=p.chainId,h=p.address,O=p.type,k=Object(l.useState)(""),y=Object(o.a)(k,2),T=y[0],C=y[1],E=Object(l.useState)(""),H=Object(o.a)(E,2),K=H[0],G=H[1],Q=Object(l.useState)(!1),X=Object(o.a)(Q,2),ee=X[0],te=X[1],ne=Object(l.useState)(""),ae=Object(o.a)(ne,2),ce=ae[0],ie=ae[1],se=Object(l.useState)([]),re=Object(o.a)(se,2),oe=re[0],le=re[1],de=Object(l.useState)([]),ue=Object(o.a)(de,2),be=ue[0],je=ue[1],pe=Object(l.useState)("show"),fe=Object(o.a)(pe,2),xe=fe[0],ve=fe[1],he=Object(l.useState)({}),me=Object(o.a)(he,2),Oe=me[0],ge=me[1],ke=Object(A.a)(),ye=Object(l.useState)(""),Ne=Object(o.a)(ye,2),we=Ne[0],Se=Ne[1],Te=Object(l.useState)(),Ce=Object(o.a)(Te,2),Ie=Ce[0],_e=Ce[1],qe=Object(l.useState)({}),Fe=Object(o.a)(qe,2),Ee=Fe[0],Ae=Fe[1],Be=J[x]&&J[x].name;Object(l.useEffect)((function(){i.detail.chainId!==x&&i.switchNetwork(ke[x])}),[i.detail]);var Le=function(e){e.target.src=P.default},De=function(){var e=Object(r.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.isConnected()){e.next=17;break}if(t=[i.detail.chainId,h,i.detail.account],n=null,!ce.isLp){e.next=9;break}return e.next=6,m.a.request("getLpWalletBalance",t);case 6:n=e.sent,e.next=16;break;case 9:if("v3"===f||"v3_lite"===f?t.push(T):t.push(K),"v2_lite_open"!==f){e.next=13;break}return e.next=13,g.openConfigListCache.update();case 13:return e.next=15,m.a.request("getBTokenBalance",t);case 15:n=e.sent;case 16:_e(n);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=function(){De(),We(),Ue()},Ze=(t={},Object(c.a)(t,n.add,{content:Object(S.jsx)(I,{poolConfig:ce,isLp:O,wallet:i,afterTransaction:Re,version:f,bTokenId:K,address:h,lang:n,type:"add",poolInfo:Oe,baseToken:T,walletBalance:Ie}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:V,inicon:U,direction:"tab-left"}),Object(c.a)(t,n.remove,{content:Object(S.jsx)(I,{isLp:O,poolConfig:ce,wallet:i,afterTransaction:Re,lang:n,address:h,type:"remove",bTokenId:K,poolInfo:Oe,balance:Oe,baseToken:T,version:f}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:W,inicon:M,direction:"tab-right"}),t),ze=function(){var e=Object(r.a)(s.a.mark((function e(){var t,n,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.load();case 2:if(t=b.pools,"lp"!==O){e.next=7;break}return e.next=6,b.loadDoubleMingingPool();case 6:t=b.lpPools;case 7:if("v2_lite_open"!==f){e.next=11;break}return e.next=10,b.loadOpen();case 10:t=b.openPools;case 11:t=(t=t.filter((function(e){return e.address===h})))[0],n=t.bTokens[0].bTokenSymbol,Object(F.q)(h)?n="CAKE-LP":Object(F.v)(h)&&(n="DERI-USDT SLP"),a=t.bTokens[0].bTokenId,c=(c=t.symbols.map((function(e){var t=[];return t.push(e.symbol),t}))).join(","),Se(c),ie(t),le(t.bTokens),C(n),G(a);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(r.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ce){e.next=6;break}return e.next=3,ce.getPoolInfo(i,ce);case 3:return t=e.sent,oe.map((function(e){return"v2"===f?e.apy=100*+t.bTokensApy.filter((function(t){return t.bTokenId===e.bTokenId}))[0].apy:"v2_lite_open"!==f&&"v3"!==f&&"v3_lite"!==f?(e.apy=100*+t.bTokensApy[0].apy,Object(F.v)(h)&&(e.lpApy=t.lpApy)):"v3"!==f&&"v3_lite"!==f||(e.apy=100*+t.bTokensApy.filter((function(t){return t.bTokenSymbol===e.bTokenSymbol}))[0].apy,e.supplyApy=100*+t.bTokensApy.filter((function(t){return t.bTokenSymbol===e.bTokenSymbol}))[0].supplyApy,e.xvsApy=100*+t.bTokensApy.filter((function(t){return t.bTokenSymbol===e.bTokenSymbol}))[0].xvsApy),e})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=Object(r.a)(s.a.mark((function e(){var t,n,a,c,r,o,l,d,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,!ce){e.next=16;break}return e.next=4,ce.getPoolInfo(i,ce);case 4:if(n=e.sent,"v2"===f&&K?(l=n.bTokensApy.filter((function(e){return e.bTokenId===K})),a=l[0].apy,d=l[0].multiplier,o=(o=n.bTokensLiq.filter((function(e){return e.bTokenId===K})))[0].liquidity):"v2_lite_open"!==f&&"v3"!==f&&"v3_lite"!==f?(a=n.bTokensApy[0].apy,o=n.bTokensLiq[0].liquidity):"v3"!==f&&"v3_lite"!==f||((l=n.bTokensApy.filter((function(e){return e.bTokenSymbol===T}))).length&&(a=l[0].apy,c=l[0].supplyApy,r=l[0].xvsApy,d=l[0].multiplier),(o=n.bTokensLiq.filter((function(e){return e.bTokenSymbol===T}))).length&&(o=o[0].liquidity)),t={total:o,apy:100*+a,supplyApy:100*+c,xvsApy:100*+r,multiplier:d},!i.isConnected()){e.next=15;break}return e.next=10,ce.getLiquidityInfo(i,h,ce.version,ce.isLp,O,T,K);case 10:u=e.sent,t=u,"v3"!==f&&"v3_lite"!==f||(t.supplyApy=100*+c,t.xvsApy=100*+r),t.apy=100*+a,t.multiplier=d;case 15:ge(t);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(r.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.isConnected()||!ce){e.next=7;break}return e.next=3,ce.getIsStaked(i,ce);case 3:t=e.sent,oe.map((function(e){return e.staked="v2"===f&&"option"!==O?t.bTokens.filter((function(t){return t.bTokenId===e.bTokenId}))[0].isStaked:t.isStaked,e})),"v2"===f&&"option"!==O?K&&(n=t.bTokens.filter((function(e){return e.bTokenId===K}))[0].isStaked):n=t.isStaked,te(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=Object(r.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="v3"!==f&&"v3_lite"!==f?ce.bTokens.filter((function(e){return e.bTokenId===t})):ce.bTokens.filter((function(e){return e.bTokenSymbol===n})),G(t),C(a[0].bTokenSymbol),te();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){ze()}),[]),Object(l.useEffect)((function(){je(oe)}),[oe]),Object(l.useEffect)((function(){if(oe.length&&(T||K)){var e={};if("v2"!==f)e=oe.filter((function(e){return e.bTokenSymbol===T}))[0];else if("v2"===f){e=oe.filter((function(e){return e.nowTokenId===K}))[0]}Ae(e)}}),[oe,T,K]),Object(l.useEffect)((function(){Ve()}),[ce,oe]),Object(l.useEffect)((function(){We(),De()}),[K,ce,i.detail.account,T]),Object(l.useEffect)((function(){Ue()}),[ce,i.detail.account,oe,K]),Object(S.jsxs)("div",{className:"pool-detail",children:[Object(S.jsx)("div",{className:"back-pool",children:Object(S.jsx)(u.b,{to:"/pool",children:Object(S.jsxs)("div",{className:"icon-back",children:[Object(S.jsx)("img",{alt:"",src:B}),Object(S.jsx)("span",{children:n.back})]})})}),Object(S.jsxs)("div",{className:"pool-deatail-info",children:[Object(S.jsxs)("div",{className:"pool-detail-basetoken-info",children:[Object(S.jsxs)("div",{className:"pool-info-text",children:[Object(S.jsxs)("div",{className:"pool-network-type",children:[Object(S.jsx)("div",{className:"network-logo",children:Object(S.jsx)("img",{alt:"",src:function(e){var t,n=+e;return 56===n||97===n?t=L.default:137===n?t=D.default:1===n&&(t=R.default),t}(x)})}),Object(S.jsxs)("div",{className:"pool-type-network-text",children:[Object(S.jsxs)("div",{className:"pool-type-text",children:[n[ce.type]," ",n[ce.zone]]}),Object(S.jsx)("div",{className:"pool-network-text",children:Be})]})]}),Object(S.jsxs)("div",{className:"pool-des",children:["lp"!==O&&n["amm-pool-des"],"clp"===f&&Object(S.jsxs)(S.Fragment,{children:[n["deri-pancake-pool-des"],Object(S.jsxs)("span",{className:"font-color",children:[" ",n["deri-pancake-token"]," "]}),n["deri-token-des"]]}),"slp"===f&&Object(S.jsxs)(S.Fragment,{children:[n["deri-sushi-pool-des"],Object(S.jsxs)("span",{className:"font-color",children:[" ",n["deri-sushi-token"]," "]}),n["deri-token-des"]]}),Object(S.jsx)("br",{}),"lp"!==O?Object(S.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.finance/mining-faq#is-the-liquidity-mining-on-deri-pools-risk-free",children:Object(S.jsxs)("span",{className:"learn-more",children:[" ",n["learn-more"]]})}):Object(S.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.finance/mining-faq#is-the-liquidity-mining-on-sushiswap-sushiswap-onsen-and-pancakeswap-deri-risk-free",children:Object(S.jsxs)("span",{className:"learn-more",children:[" ",n["learn-more"]]})})]})]}),Object(S.jsxs)("div",{className:"select-basetoken-info",children:[Object(S.jsxs)("div",{className:"select-coin-title-search",children:[Object(S.jsxs)("div",{className:"select-coin-title",children:[" ",n["select-the-coin"]]}),Object(S.jsx)("div",{className:"search-box",children:Object(S.jsx)(q.a,{list:oe,searchName:"bTokenSymbol",onChange:function(e){return je(e)}})})]}),Object(S.jsxs)("div",{className:"coin-search",children:[Object(S.jsx)("div",{className:"slide-icon left",children:Object(S.jsx)(N.a,{token:"arrow-left",width:"24",height:"24"})}),Object(S.jsxs)("div",{className:"v3"===f||"v3_lite"===f?"coin-list some-coin":"coin-list",children:["lp"!==O&&"v2_lite_open"!==f&&Object(S.jsx)(S.Fragment,{children:be.map((function(e,t){return Object(S.jsxs)("div",{className:T===e.bTokenSymbol?"coin-box checked-base":"coin-box",onClick:function(){Me(e.bTokenId,e.bTokenSymbol)},children:[Object(S.jsxs)("div",{className:"base-apy-info",children:[Object(S.jsx)("div",{className:"btoken-logo ".concat(e.bTokenSymbol)}),Object(S.jsxs)("div",{className:"apy-base-staked",children:[Object(S.jsx)("div",{className:"base-name",children:e.bTokenSymbol}),Object(S.jsxs)("div",{className:"base-apy",children:[n.apy," \xa0 ",Object(S.jsx)(v.a,{value:e.apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),("v3"===f||"v3_lite"===f)&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("span",{children:[" +  ",Object(S.jsx)(v.a,{value:e.supplyApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),"  + "]}),Object(S.jsx)(v.a,{value:e.xvsApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]})]})]})]}),e.staked&&Object(S.jsx)("img",{src:z.a,alt:""})]})}))}),"v2_lite_open"===f&&Object(S.jsx)(S.Fragment,{children:be.map((function(e,t){return Object(S.jsxs)("div",{className:"coin-box checked-base",onClick:function(){Me(e.bTokenId)},children:[Object(S.jsxs)("div",{className:"base-apy-info",children:[Object(S.jsx)("div",{className:"btoken-logo ".concat(e.bTokenSymbol),children:Object(S.jsx)("img",{alt:"",onError:Le,src:"https://raw.githubusercontent.com/deri-finance/deri-open-zone/main/img/".concat(e.bTokenSymbol,".png")})}),Object(S.jsx)("div",{className:"apy-base-staked",children:Object(S.jsx)("div",{className:"base-name",children:e.bTokenSymbol})})]}),e.staked&&Object(S.jsxs)("div",{className:"stake",children:[Object(S.jsx)("img",{src:z.a,alt:""}),n.staked]})]})}))}),"lp"===O&&oe.length&&Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{className:"coin-box checked-base",children:Object(S.jsxs)("div",{className:"base-apy-info",children:[Object(S.jsxs)("div",{className:"lp-btoken-logo",children:[Object(S.jsx)("div",{className:"btoken-logo ".concat(oe[0].bTokenSymbol)}),Object(S.jsx)("span",{className:"conect-logo",children:"+"}),Object(S.jsx)("div",{className:"btoken-logo ".concat(oe[1].bTokenSymbol)})]}),Object(S.jsxs)("div",{className:"apy-base-staked",children:[Object(S.jsx)("div",{className:"base-name",children:T}),Object(S.jsxs)("div",{className:"base-apy",children:[Object(F.q)(h)&&Object(S.jsxs)(S.Fragment,{children:[n.apy," \xa0 ",Object(S.jsx)(v.a,{value:oe[1].apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]}),Object(F.v)(h)&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(w.a,{text:"".concat(n.apy," ").concat((+oe[1].apy).toFixed(2)," %"),tip:n["deri-apy"]}),"\xa0 + \xa0 ",Object(S.jsx)(w.a,{text:"".concat(n.apy,"  ").concat((+oe[1].lpApy).toFixed(2)," %"),tip:n["sushi-apy"]})]})]})]})]})})})]}),Object(S.jsx)("div",{className:"slide-icon right",children:Object(S.jsx)(N.a,{token:"arrow-right",width:"24",height:"24"})})]})]})]}),Object(S.jsxs)("div",{className:"pool-detail-add-remove-info",children:[Object(S.jsxs)("div",{className:"mining-deri-liquidity",children:[Object(S.jsxs)("div",{className:"btoken-liquidity",children:["lp"!==O&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"btoken-logo ".concat(T),children:"v2_lite_open"===f&&Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("img",{alt:"",onError:Le,src:"https://raw.githubusercontent.com/deri-finance/deri-open-zone/main/img/".concat(T,".png")})})}),Object(S.jsxs)("div",{className:"manage-stake",children:[Object(S.jsxs)("div",{className:"manage",children:[n.manage," ",T," ",n.liquidity]}),ee&&Object(S.jsxs)("div",{className:"stake",children:[Object(S.jsx)("img",{src:z.a,alt:""}),n.staked]})]})]}),"lp"===O&&oe.length&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"lp-btoken-logo",children:[Object(S.jsx)("div",{className:"btoken-logo ".concat(oe[0].bTokenSymbol)}),Object(S.jsx)("span",{className:"conect-logo",children:"+"}),Object(S.jsx)("div",{className:"btoken-logo ".concat(oe[1].bTokenSymbol)})]}),Object(S.jsxs)("div",{className:"manage-stake",children:[Object(S.jsxs)("div",{className:"manage",children:[n.manage," ",T," ",n.liquidity]}),ee&&Object(S.jsxs)("div",{className:"stake",children:[Object(S.jsx)("img",{src:z.a,alt:""}),n.staked]})]})]})]}),Object(S.jsx)("div",{className:"deri-current-epoch",children:"v2_lite_open"!==f&&Object(S.jsx)(j.a,{poolShow:!1,lang:n,wallet:i})})]}),Object(S.jsxs)("div",{className:"mining-add-remove-liquidity",children:[Object(S.jsxs)("div",{className:"pool-info",children:[Object(S.jsxs)("div",{className:"pool-info-title",children:[Object(S.jsx)("div",{className:"pool-info-title-text",children:n["pool-info"]}),Object(S.jsxs)("div",{className:"down-up",children:["show"===xe&&Object(S.jsx)("span",{onClick:function(){return ve("hide")},children:Object(S.jsx)("img",{className:"up-icon",alt:"",src:Z.default})}),"hide"===xe&&Object(S.jsx)("span",{onClick:function(){return ve("show")},children:Object(S.jsx)("img",{alt:"",src:Z.default})})]})]}),Object(S.jsxs)("div",{className:"'pool-info-text' ".concat(xe),children:[Object(S.jsxs)("div",{className:"pool-info-text-one",children:["v2_lite_open"!==f&&Object(S.jsxs)("div",{className:"info-box",children:[Object(S.jsx)("div",{className:"info-box-title",children:n.apy}),Object(S.jsxs)("div",{className:"info-box-num",children:["v3"!==f&&"v3_lite"!==f&&Object(S.jsx)(v.a,{value:Ee.apy,displayType:"text",decimalScale:2,suffix:"%"}),("v3"===f||"v3_lite"===f)&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(w.a,{text:Object(S.jsx)(v.a,{value:Ee.apy,displayType:"text",decimalScale:2,suffix:"%"}),tip:n["deri-apy"]}),"\xa0 +  \xa0  ",Object(S.jsx)(w.a,{text:Object(S.jsx)(v.a,{value:Ee.supplyApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:n["venus-suppy-apy"]}),"  \xa0 +  \xa0",Object(S.jsx)(w.a,{text:Object(S.jsx)(v.a,{value:Ee.xvsApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:n["xvs-distribution-apy"]})]})]})]}),Object(S.jsxs)("div",{className:"info-box",children:[Object(S.jsx)("div",{className:"info-box-title",children:n["pool-liquidity"]}),Object(S.jsx)("div",{className:"info-box-num",children:Object(S.jsx)(v.a,{value:Oe.total,displayType:"text",decimalScale:2,thousandSeparator:!0,suffix:" ".concat(T)})})]}),("v2"===f||"v3"===f||"v3_lite"===f)&&Object(S.jsxs)("div",{className:"info-box",children:[Object(S.jsx)("div",{className:"info-box-title",children:n.multiplier}),Object(S.jsx)("div",{className:"info-box-num",children:Object(S.jsx)(v.a,{allowZero:!0,value:Oe.multiplier,decimalScale:2})})]}),Object(S.jsxs)("div",{className:"info-box",children:[Object(S.jsx)("div",{className:"info-box-title",children:n["my-liquidity-percentage"]}),Object(S.jsx)("div",{className:"info-box-num",children:Object(S.jsx)(v.a,{allowZero:!0,value:Oe.percent,decimalScale:2,suffix:"%"})})]}),"v2"!==f&&"v3"!==f&&"v3_lite"!==f&&Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("div",{className:"info-box",children:[Object(S.jsx)("div",{className:"info-box-title",children:n["liquidity-share-value"]}),Object(S.jsxs)("div",{className:"info-box-num",children:[Object(S.jsx)(v.a,{allowZero:!0,decimalScale:6,value:Oe.shareValue,thousandSeparator:!0})," ",T]})]})}),Object(S.jsxs)("div",{className:"info-box",children:[Object(S.jsx)("div",{className:"info-box-title",children:n["staked-balance"]}),Object(S.jsxs)("div",{className:"info-box-num",children:[Object(S.jsx)(v.a,{allowZero:!0,value:Oe.formatShares,decimalScale:2}),"v2"===f||"v3"===f||"v3_lite"===f?" "+T:" "+n.shares]})]}),"v2"!==f&&"v3"!==f&&"v3_lite"!==f&&Object(S.jsxs)("div",{className:"info-box",children:[Object(S.jsx)("div",{className:"info-box-title"}),Object(S.jsxs)("div",{className:"info-box-num",children:[Object(S.jsx)(v.a,{allowZero:!0,decimalScale:2,value:Oe.values,thousandSeparator:!0})," ",T]})]}),("v2"===f||"v3"===f||"v3_lite"===f)&&Object(S.jsxs)("div",{className:"info-box",children:[Object(S.jsx)("div",{className:"info-box-title",children:n["mining-pnl"]}),Object(S.jsxs)("div",{className:"info-box-num",children:[Object(S.jsx)(v.a,{allowZero:!0,prefix:" ",value:Oe.swappedPnl,decimalScale:2})," ",T]})]}),("v3"===f||"v3_lite"===f)&&Object(S.jsxs)("div",{className:"info-box",children:[Object(S.jsx)("div",{className:"info-box-title",children:n["xvs-earned"]}),Object(S.jsxs)("div",{className:"info-box-num collect-box",children:["0.01  ",Object(S.jsx)(Y.a,{onClick:Pe,className:"collect",label:n.collect})]})]})]}),Object(S.jsxs)("div",{className:"pool-info-text-two",children:["lp"!==O&&Object(S.jsxs)("div",{className:"info-box",children:[Object(S.jsx)("div",{className:"info-box-title",children:n.symbols}),Object(S.jsx)("div",{className:"info-box-num symbols",children:we})]}),Object(S.jsxs)("div",{className:"info-box",children:[Object(S.jsx)("div",{className:"info-box-title",children:n["contract-address"]}),Object(S.jsx)("div",{className:"info-box-num",children:Object(S.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat($[x]&&$[x].viewUrl,"/address/").concat(h),children:Object(F.h)(h)})})]})]})]})]}),Object(S.jsx)("div",{className:"add-remove-liquidity",children:Object(S.jsx)(_.a,{tabSet:Ze,width:379,size:18,inactiveBgColor:"#0c192d",icon:"",borderBottom:!0,divider:!0})})]})]})]})]})})))},775:function(e,t,n){"use strict";var a,c=n(26),i=n(105),s=n(52),r=n(7),o=n(48),l=n(9),d=(n(71),n(791)),u=n(47),b=n(30),j=n(15),p=n(10),f=Object(u.a)(d.a)(a||(a=Object(o.a)(["\n  width : ","px;\n"])),(function(e){return e.width}));t.a=function(e){var t=Object(l.useState)(Object(p.jsx)("span",{className:"loading-line"})),n=Object(r.a)(t,2),a=n[0],o=n[1],d=Object(l.useState)(!0),u=Object(r.a)(d,2),x=u[0],v=u[1],h=(Object(l.useRef)(),function(){var t=e.allowZero;return"object"!==Object(s.a)(e.value)&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===(isNaN(e.value)&&Math.abs(e.value))&&!0===t});return Object(l.useEffect)((function(){e.allowZero,e.wallet;var t=e.defaultValue,n=void 0===t?"--":t,a=Object(i.a)(e,["allowZero","wallet","defaultValue"]);h()?(a.value&&/\d+\.0*[1-9]+/.test(a.value)&&0===+Object(j.bg)(a.value).toFixed(+a.decimalScale||2)&&(a.decimalScale=Object(b.c)(a.value)+1),a.value=Object(b.D)(a.value),o(Object(p.jsx)(f,Object(c.a)(Object(c.a)({},a),{},{displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0}))),v(!1)):x&&o(Object(p.jsx)("span",{className:"loading-line",style:{width:e.width,height:e.height}}));var s=window.setTimeout((function(){h()||o(n)}),3e4);return function(){clearTimeout(s)}}),[e.value,e.decimalScale,e.suffix]),a}},788:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,c=n(7),i=n(48),s=n(9),r=n(208),o=n(47),l=n(10),d=o.a.div(a||(a=Object(i.a)(["\n    display : flex;\n    width: 100%;\n    justify-content: space-between;\n  "])));function u(e){var t=e.groups,n=void 0===t?["25%","50%","75%","100%"]:t,a=e.selectedBorderColor,i=e.defaultBorderColor,o=e.onChange,u=e.defaultValue,b=e.outline,j=e.outlineColor,p=e.width,f=e.height,x=e.bgColor,v=e.className,h=Object(s.useState)(u),m=Object(c.a)(h,2),O=m[0],g=m[1];return Object(s.useEffect)((function(){g(u)}),[u]),Object(l.jsx)(d,{className:v,children:n.map((function(e,t){return Object(l.jsx)(r.a,{label:e,selectedBorderColor:a,isSelected:e===O,disabled:!1,outline:b,bgColor:x,className:"g-button",defaultBorderColor:i,outlineColor:j,width:p,height:f,onClick:function(){var t;(t=e)!==O?(g(t),o&&o(t)):t===O?(g(""),o&&o("")):g(t)}},t)}))})}},789:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a,c=n(48),i=n(47),s=n(106),r=n(30),o=n(10),l=i.a.div(a||(a=Object(c.a)(["\n  .text {\n    border-bottom : 1px dashed #93A1B8;\n    width : max-content;\n    cursor : pointer;\n  }\n"])));function d(e){var t=e.text,n=e.id,a=void 0===n?Object(r.a)(t):n,c=e.tip,i=e.multiline,d=e.html,u=e.className,b=e.width,j=void 0===b?"auto":b,p=e.children,f=e.tiggerEvent;return Object(o.jsxs)(l,{className:u,children:[Object(o.jsx)("div",{className:"text","data-for":a,"data-tip":c,"data-event":Object(r.t)()?"click":f,"data-html":d,children:t||p}),c&&Object(o.jsx)(s.a,{id:a,width:j,padding:"12",place:"bottom",overridePosition:function(e,t,n,a,c,i,s,r){var o=n.getBoundingClientRect(),l=a.getBoundingClientRect(),d=o.x,u=o.y,b=o.height,j=e.left,p=e.top;return(d=j+l.width>document.documentElement.clientWidth?j-l.width+o.width:j)<0&&(d=0),(u=p+l.height>=document.documentElement.clientHeight?p-l.height+b/2:p)<0&&(u=0),{top:u,left:d}},html:d,borderRadius:8,multiline:i})]})}},808:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a,c=n(7),i=n(48),s=n(47),r=n(9),o=n(10),l=s.a.div(a||(a=Object(i.a)(["\n    cursor: pointer;\n    width:","px;\n    height:","px;\n    display:flex;\n    .tab-left.inactive{\n      border-radius:0px 0px 4px 0px;\n    }\n    .tab-right.inactive{\n      border-radius:0px 0px 0px 4px;\n    }\n    .tab-left.active{\n      border-radius:0px 4px 0px 0px;\n      ",";\n      height:14px;\n    }\n    .tab-right.active{\n      border-radius:4px 0px 0px 0px;\n      ",";\n      height:14px;\n    }\n    .inactive,.active{\n      width:50%;\n      box-sizing: content-box;\n      padding: 15px 24px;\n      font-size:","px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n    .inactive{\n      background:",";\n      ","\n    }\n    .active {\n      color: ",";\n      background : ",";\n      ",";\n    }\n    .icon-tab{\n      margin-right:20px;\n      width:25px;\n      height:25px;\n    }\n  "])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.borderR}),(function(e){return e.borderL}),(function(e){return e.size}),(function(e){return e.inactiveBgColor}),(function(e){return e.borderB}),(function(e){return e.activeFontColor}),(function(e){return e.activeBgColor}),(function(e){return e.borderT}));function d(e){var t=e.tabSet,n=e.inactiveBgColor,a=e.activeBgColor,i=(e.icon,e.className),s=e.width,d=void 0===s?238:s,u=e.height,b=void 0===u?47:u,j=e.size,p=void 0===j?16:j,f=e.borderTop,x=void 0!==f&&f,v=e.borderBottom,h=void 0!==v&&v,m=e.divider,O=void 0!==m&&m,g=Object.keys(t),k=Object(r.useState)(g[0]),y=Object(c.a)(k,2),N=y[0],w=y[1],S=t[N].style,T=x?"border-top:1px solid ".concat(t[N].borderColor):"border-top:0",C=h?"border-bottom:1px solid ".concat(t[N].borderColor):"border-bottom:0",I=O?"border-left:1px solid ".concat(t[N].borderColor):"border-left:0",_=O?"border-right:1px solid ".concat(t[N].borderColor):"border-right:0",q=t[N].fontColor?t[N].fontColor:"#FFFFFF";return Object(o.jsxs)("div",{style:S,className:i,children:[Object(o.jsx)(l,{className:"tab-header",width:d,height:b,activeFontColor:q,activeBgColor:a,inactiveBgColor:n,size:p,borderT:T,borderB:C,borderL:I,borderR:_,children:g.map((function(e){return Object(o.jsxs)("div",{className:"".concat(t[e].direction,e===N?" active":" inactive"),onClick:function(){return function(e){w(e)}(e)},children:[t[e].icon?Object(o.jsx)("img",{alt:"",className:"icon-tab",src:e===N?t[e].icon:t[e].inicon}):"","  ",e]},e)}))}),t[N].content]})}},814:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,c=n(26),i=n(48),s=n(9),r=n(47),o=n(15),l=n(10),d=r.a.div(a||(a=Object(i.a)(["\ndisplay : flex;\nfont-size : 14px;\nalign-items : center;\nbackground: rgba(85, 119, 253, 0.1);\nborder-radius: 4px;\njustify-content: space-between;\ninput {\n  background: transparent;\n  border-radius: 4px;\n  // min-width: 240px;\n  border: 0;\n  width : ",";\n  height: 56px;\n  color : #E0ECFF;\n  font-size : 18px;\n  padding-left: 16px;\n}\ninput:focus {\n  outline: none;\n}\n.unit {\n  margin-right: ",";\n}\n"])),(function(e){return e.inputWidth}),(function(e){return e.unitPadding}));function u(e){var t=e.value,n=e.unit,a=e.max,i=e.step,r=e.onChange,u=e.styles,b=void 0===u?{}:u,j=e.focus,p=e.unitPadding,f=void 0===p?"24px":p,x=e.minTradeVolume,v=e.decimal,h=void 0===v?2:v,m=e.readOnly,O=e.inputWidth,g=void 0===O?"50%":O,k=e.className,y=e.disabled,N=void 0!==y&&y,w=Object(s.useRef)(null);return Object(s.useEffect)((function(){w.current.setCustomValidity(""),w.current&&j&&w.current.focus()}),[j]),Object(l.jsxs)(d,{unitPadding:f,inputWidth:g,className:k,style:Object(c.a)({},b),children:[Object(l.jsx)("input",{type:"number",disabled:N,value:t,step:i,ref:w,onChange:function(e){var t="\\d+\\.\\d{0,".concat(h,"}$"),n=new RegExp(t),c=e.target.value;if(a&&Object(o.bg)(c).gt(a))r&&r(a);else if(c<0||isNaN(c))r&&r("");else if(c){if(x>=1)if(c/x>=1)r&&r(Object(o.bg)(c).div(x).integerValue()*x);else r&&r(c*x);else if(/\d+\./.test(c)&&!n.test(c)){var i=c.substring(0,c.indexOf(".")+1+h);r&&r(i)}else r&&r(c)}else r&&r(c)},readOnly:m}),Object(l.jsx)("div",{className:"unit",children:n})]})}},819:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a,c=n(48),i=n(47),s=(n(9),n(10)),r=i.a.div(a||(a=Object(c.a)(["\nwidth:","%;\nmax-width:100%;\nheight:10px;\nbackground-color: #5577FD;\n"])),(function(e){return e.width}));function o(e){var t=e.startTimestamp,n=e.nowTimestamp,a=e.endTimestamp,c=parseInt((n-t)/(a-t)*100);return Object(s.jsx)("div",{className:"time-slider",children:Object(s.jsx)(r,{width:c})})}},845:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(0),c=n.n(a),i=n(2),s=n(7),r=n(9),o=n(208),l=n(819),d=n(329),u=n(163),b=n(775),j=n(32),p=n(30),f=(n(846),n(10));function x(e){var t=e.lang,n=e.poolShow,a=void 0===n||n,x=e.wallet,v=void 0===x?{}:x,h=Object(r.useState)(""),m=Object(s.a)(h,2),O=m[0],g=m[1],k=Object(r.useState)(0),y=Object(s.a)(k,2),N=y[0],w=y[1],S=Object(u.c)(),T=Object(r.useState)(0),C=Object(s.a)(T,2),I=C[0],_=C[1],q=Object(r.useState)(0),F=Object(s.a)(q,2),E=F[0],A=F[1],B=Object(r.useState)({}),L=Object(s.a)(B,2),D=L[0],R=L[1],Z=Object(r.useState)(!1),z=Object(s.a)(Z,2),P=z[0],V=z[1],W=Object(r.useState)(""),U=Object(s.a)(W,2),M=U[0],Y=U[1],$=Object(d.a)(D.chainId);Object(r.useEffect)((function(){var e;return e=window.setInterval((function(){var e=28800,n=parseInt(Date.now()/1e3),a=parseInt(n/e)*e,c=a+e-n,i=parseInt(c/3600),s=parseInt(c%3600/60),r=parseInt(c%60);w(a),_(a+e),A(n),g("".concat(i," ").concat(t.h," ").concat(s," ").concat(t.m," ").concat(r," ").concat(t.s))}),1e3),function(){e&&clearInterval(e)}}),[]);var J=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,a,i,s,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.isConnected()){e.next=10;break}return e.next=3,j.a.request("getUserInfoAll",[v.detail.account]);case 3:t=e.sent,n=(+t.total).toFixed(2),a=t.valid?(+t.amount).toFixed(2):0,i=t.lp,s=(+t.trade).toFixed(2),r=t.chainId,R({claimed:n,unclaimed:a,harvestDeriLp:i,harvestDeriTrade:s,chainId:r});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==$.name){e.next=3;break}return S.error("".concat(t["wrong-network"])),e.abrupt("return");case 3:if(Object(p.e)(v.detail.chainId,D.chainId)){e.next=6;break}return S.error("".concat(t["your-deri-is-on"]," ").concat($.name," ").concat(t["connect-to"]," ").concat($.name," ").concat(t["to-claim"])),e.abrupt("return");case 6:if(0!==+D.unclaimed){e.next=9;break}return S.error(t["no-deri-to-claim-yet"]),e.abrupt("return");case 9:if(!(parseInt(Date.now()/1e3)%28800<1800)){e.next=13;break}return S.error(t["claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch"]),e.abrupt("return");case 13:return e.next=15,j.a.request("mintDToken",[v.detail.chainId,v.detail.account],{includeResponse:!0});case 15:if(!e.sent.success){e.next=20;break}return e.abrupt("return",!0);case 20:return S.error(t["claim-failed"]),e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.isConnected()){e.next=7;break}return e.next=3,H();case 3:e.sent&&V(!0),e.next=17;break;case 7:return e.prev=7,e.next=10,v.connect();case 10:return t=e.sent,e.abrupt("return",!!t);case 14:return e.prev=14,e.t0=e.catch(7),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(){return e.apply(this,arguments)}}(),G=function(e){var n;switch(e){case 1:n=t.jan;break;case 2:n=t.feb;break;case 3:n=t.mar;break;case 4:n=t.apr;break;case 5:n=t.may;break;case 6:n=t.jun;break;case 7:n=t.jul;break;case 8:n=t.aug;break;case 9:n=t.sep;break;case 10:n=t.oct;break;case 11:n=t.nov;break;case 12:n=t.dec}return n},Q=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,a,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.isConnected()){e.next=5;break}return e.next=3,j.a.request("getUserFirstClaimInfo",[v.detail.account]);case 3:(t=e.sent).first_timestamp&&(n=new Date(1e3*t.first_timestamp),a=n.getFullYear(),i=n.getMonth()+1,i=G(i),s=n.getDate(),Y("".concat(i," ").concat(s,", ").concat(a)));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=window.setInterval(J,18e4);return J(),Q(),function(){return clearInterval(e)}}),[v.detail.account]),Object(f.jsx)("div",{className:"mining-claim",children:Object(f.jsxs)("div",{className:"mining-claim-info",children:[Object(f.jsxs)("div",{className:"deri-num-slider",children:[Object(f.jsxs)("div",{className:"deri-claim-time",children:[t["current-epoch-remaining-time"]," : ",O]}),D.harvestDeriLp>0&&Object(f.jsxs)("div",{className:"deri-claim-text",children:[t["your-harvest-in-current"]," ",Object(f.jsx)("span",{className:"deri-num",children:Object(f.jsx)(b.a,{value:D.harvestDeriLp,decimalScale:2,displayType:"text",di:!0,thousandSeparator:!0})}),"   $DERI."]}),a&&Object(f.jsxs)("div",{className:"deri-claim-text",children:["You have ",Object(f.jsx)("span",{className:"deri-num",children:Object(f.jsx)(b.a,{value:P?0:D.unclaimed,displayType:"text",thousandSeparator:!0})}),"  unclaimed $DERI across all staked pools. You\u2019ve earned a total of ",Object(f.jsx)(b.a,{value:P?+D.claimed+ +D.unclaimed:D.claimed,displayType:"text",thousandSeparator:!0})," Deri token",M&&Object(f.jsxs)("span",{children:[" since ",M,". Woohoo!"]})]}),Object(f.jsx)("div",{className:"deri-claim-slider",children:Object(f.jsx)(l.a,{startTimestamp:N,nowTimestamp:E,endTimestamp:I})})]}),a&&Object(f.jsx)("div",{className:"cliam-button",children:Object(f.jsx)(o.a,{fontWeight:"bold",label:t["claim-all"],onClick:K})})]})})}},846:function(e,t,n){},853:function(e,t,n){"use strict";t.a=n.p+"static/media/staked.45c27f0b.svg"},854:function(e,t,n){"use strict";var a=n(26),c=n(0),i=n.n(c),s=n(2),r=n(7),o=n(105),l=n(9),d=n(208),u=(n(163),n(44)),b=n(10);t.a=Object(u.b)("wallet")(Object(u.c)((function(e){var t=e.lang,n=e.wallet,c=e.pool,u=void 0===c?{}:c,j=e.bTokenId,p=e.bToken,f=e.icon,x=e.label,v=e.onClick,h=(e.isReady,e.disabled),m=void 0===h||h,O=e.alert,g=Object(o.a)(e,["lang","wallet","pool","bTokenId","bToken","icon","label","onClick","isReady","disabled","alert"]),k=Object(l.useState)(!0),y=Object(r.a)(k,2),N=y[0],w=y[1],S=Object(l.useState)(x),T=Object(r.a)(S,2),C=T[0],I=T[1],_=Object(l.useState)(f),q=Object(r.a)(_,2),F=q[0],E=q[1],A=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u&&n&&n.detail)){e.next=17;break}if(n.isConnected()){e.next=6;break}return E(null),e.abrupt("return",n.connect());case 6:if(n.isApproved){e.next=15;break}return E(null),e.next=10,n.approve();case 10:return(t=e.sent)?O&&O.success("Approve success"):O&&O.error("Approve failed"),e.abrupt("return",t);case 15:return E(f),e.abrupt("return",v());case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)(Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u&&n&&n.detail&&u.bTokens&&t&&(n.isConnected()?n.isApproved?(I(x),E(f)):(I(t.approve),E(null)):(I(t["connect-wallet"]),E(null)));case 1:case"end":return e.stop()}}),e)}))),[u,n.detail,n.isApproved,t,p]),Object(l.useEffect)((function(){w(m)}),[m]),Object(l.useEffect)((function(){n&&u&&u.address&&(n.setAddress(u.address),u.isV3||u.isV3Lite?n.setBToken(p):n.setBTokenId(j))}),[n,u,j,p]),Object(b.jsx)(d.a,Object(a.a)(Object(a.a)({},g),{},{disabled:!N,label:C,onClick:A,icon:F}))})))},855:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,c=n(7),i=n(48),s=n(9),r=n(47),o=n(335),l=n(10),d=r.a.div(a||(a=Object(i.a)(["\n  .search-token{\n  width: ","px;\n  height: ","px;\n  background: ",";\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding:0 24px;\n  border-radius:4px;\n  img{\n    width:18px;\n    height:18px;\n  }\n  .search-input{\n    border: 0;\n    width:100%;\n    height: 100%;\n    background:transparent;\n    outline-style: none;\n    color: #FFFFFF;\n    font-size: 18px;\n    border-radius: 4px;\n  }\n}\n"])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.bgColor}));function u(e){var t=e.list,n=e.onChange,a=e.width,i=void 0===a?"320":a,r=e.height,u=void 0===r?"48":r,b=e.bgColor,j=void 0===b?"rgba(85, 119, 253, 0.1)":b,p=e.searchName,f=void 0===p?"bTokenSymbol":p,x=Object(s.useState)(""),v=Object(c.a)(x,2),h=v[0],m=v[1],O=Object(s.useState)(0),g=Object(c.a)(O,2),k=(g[0],g[1]),y=Object(s.useRef)([]);return Object(s.useEffect)((function(){if(h){var e=h.toLocaleUpperCase();0===y.current.length&&(y.current=t,k(t.length));var a=y.current.filter((function(t){return t[f]&&t[f].indexOf(e)>=0}));n(a)}else n(y.current)}),[h]),Object(s.useEffect)((function(){0===y.current.length&&k(t.length)}),[t]),Object(l.jsx)(d,{width:i,height:u,bgColor:j,children:Object(l.jsxs)("div",{className:"search-token",children:[Object(l.jsx)("input",{type:"text",className:"search-input",placeholder:"Search",value:h,onChange:function(e){!function(e){var t=e.target.value;m(t)}(e)}}),Object(l.jsx)("img",{src:o.default,alt:""})]})})}},988:function(e,t,n){},989:function(e,t,n){}}]);
//# sourceMappingURL=10.0c2d579e.chunk.js.map