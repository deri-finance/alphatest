{"version":3,"sources":["utils/DeriNumberFormat.js","pages/Token/img/pancake.svg","pages/Token/img/sushiswap-sushi-logo.svg","pages/Token/img/gateio.svg","pages/Token/img/mxc.svg","pages/Token/Token.js"],"names":["DeriNumberFormat","props","useState","className","renderablity","setRenderablity","isValidate","allowZero","value","undefined","isNaN","Math","abs","useEffect","wallet","defaultValue","others","displayType","fixedDecimalScale","thousandSeparator","timeout","window","setTimeout","isConnected","clearTimeout","inject","observer","lang","deriTokenAddress","setDeriTokenAddress","deriInfo","setDeriInfo","config","useConfig","addToken","a","ethereum","request","method","params","type","options","address","symbol","decimals","console","log","getDeriInfo","fetch","resp","json","res","obj","price","data","market_cap","circulating_supply","parseInt","total_supply","sushiBuy","switchNetwork","open","pancakeBuy","detail","chainId","interval","setInterval","clearInterval","alt","src","deriLogo","href","Button","onClick","PRIMARY","width","label","decimalScale","target","pancake","sushi","rel","gate","mexc"],"mappings":"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","file":"static/js/10.c882c3b9.chunk.js","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport NumberFormat from 'react-number-format'\r\nimport { inject, observer } from 'mobx-react';\r\n\r\nfunction DeriNumberFormat(props){\r\n  const [renderablity, setRenderablity] = useState(<span className='loading-line'></span>);\r\n\r\n  const isValidate = () => {\r\n    const {allowZero} = props \r\n    return (typeof props.value !== 'object' && props.value !== undefined && props.value !== '' && props.value !== 'NaN') \r\n          || ((isNaN(props.value) && Math.abs(props.value)) === 0 && allowZero === true )\r\n  }\r\n\r\n  useEffect(() => {\r\n    const {allowZero,wallet,defaultValue = '--',...others} = props \r\n    if(isValidate()) {\r\n      setRenderablity(<NumberFormat {...others}  displayType = 'text'  fixedDecimalScale={true} thousandSeparator={true}/>)\r\n    } else {\r\n      setRenderablity(<span className='loading-line'></span>)\r\n    } \r\n    const timeout = window.setTimeout(() => {\r\n      if(!isValidate() && wallet && !wallet.isConnected()){\r\n        setRenderablity(defaultValue)\r\n      }\r\n    },30000)\r\n    return () => {\r\n      clearTimeout(timeout)\r\n    };\r\n  }, [props.value]);\r\n\r\n  return renderablity;\r\n}\r\n\r\nexport default DeriNumberFormat","export default __webpack_public_path__ + \"static/media/pancake.e177218b.svg\";","export default __webpack_public_path__ + \"static/media/sushiswap-sushi-logo.f8ccc300.svg\";","export default __webpack_public_path__ + \"static/media/gateio.1570dd44.svg\";","export default __webpack_public_path__ + \"static/media/mxc.b59b5e73.svg\";","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport { useState, useEffect } from \"react\"\r\nimport { inject, observer } from 'mobx-react';\r\nimport DeriNumberFormat from \"../../utils/DeriNumberFormat\"\r\nimport Button from \"../../components/Button/Button\"\r\nimport useConfig from \"../../hooks/useConfig\"\r\nimport { PRIMARY } from '../../utils/Constants';\r\nimport deriLogo from \"../../assets/img/logo.svg\"\r\nimport pancake from \"./img/pancake.svg\"\r\nimport sushi from \"./img/sushiswap-sushi-logo.svg\"\r\nimport gate from \"./img/gateio.svg\"\r\nimport mexc from \"./img/mxc.svg\"\r\nimport './token.less'\r\nfunction Token({ wallet = {}, lang }) {\r\n  const [deriTokenAddress, setDeriTokenAddress] = useState()\r\n  const [deriInfo, setDeriInfo] = useState()\r\n  const config = useConfig();\r\n  const addToken = async () => {\r\n    if (deriTokenAddress) {\r\n      const tokenSymbol = 'DERI';\r\n      const tokenDecimals = 18;\r\n      try {\r\n        const wasAdded = await window.ethereum.request({\r\n          method: 'wallet_watchAsset',\r\n          params: {\r\n            type: 'ERC20', // Initially only supports ERC20, but eventually more!\r\n            options: {\r\n              address: deriTokenAddress, // The address that the token is at.\r\n              symbol: tokenSymbol, // A ticker symbol or shorthand, up to 5 chars.\r\n              decimals: tokenDecimals, // The number of decimals in the token\r\n            },\r\n          },\r\n        });\r\n\r\n        if (wasAdded) {\r\n          console.log('Thanks for your interest!');\r\n        } else {\r\n          console.log('Your loss!');\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  }\r\n  const getDeriInfo = async () => {\r\n    let path = 'https://infoapi.deri.finance/stats_for_token'\r\n    let resp = await fetch(path);\r\n    let res = await resp.json();\r\n    if (res) {\r\n      let obj = {}\r\n      obj.price = res.data.price\r\n      obj.market_cap = res.data.market_cap\r\n      obj.circulating_supply = parseInt(res.data.circulating_supply)\r\n      obj.total_supply = parseInt(res.data.total_supply)\r\n      setDeriInfo(obj)\r\n    }\r\n\r\n  }\r\n\r\n  const sushiBuy = async () => {\r\n    if (wallet.isConnected()) {\r\n      await wallet.switchNetwork(config[1])\r\n      window.open(\"https://app.sushi.com/swap?inputCurrency=&outputCurrency=0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9\")\r\n    } else {\r\n      window.open(\"https://app.sushi.com/swap?inputCurrency=&outputCurrency=0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9\")\r\n    }\r\n  }\r\n\r\n  const pancakeBuy = async () => {\r\n    if (wallet.isConnected()) {\r\n      await wallet.switchNetwork(config[56])\r\n      window.open(\"https://exchange.pancakeswap.finance/#/swap?inputCurrency=0xe60eaf5a997dfae83739e035b005a33afdcc6df5\")\r\n    } else {\r\n      window.open(\"https://exchange.pancakeswap.finance/#/swap?inputCurrency=0xe60eaf5a997dfae83739e035b005a33afdcc6df5\")\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    if (wallet.isConnected()) {\r\n      let address;\r\n      if (+wallet.detail.chainId === 56) {\r\n        address = '0xe60eaf5A997DFAe83739e035b005A33AfdCc6df5'\r\n      } else if (+wallet.detail.chainId === 1) {\r\n        address = '0xa487bf43cf3b10dffc97a9a744cbb7036965d3b9'\r\n      } else if (+wallet.detail.chainId === 128) {\r\n        address = '0x2bdA3e331Cf735D9420e41567ab843441980C4B8'\r\n      } else if (+wallet.detail.chainId === 137) {\r\n        address = '0x3d1d2afd191b165d140e3e8329e634665ffb0e5e'\r\n      }\r\n      setDeriTokenAddress(address)\r\n    }\r\n\r\n  }, [wallet.detail])\r\n  useEffect(() => {\r\n    let interval = null;\r\n    //计数器\r\n    interval = window.setInterval(() => {\r\n      getDeriInfo()\r\n    }, 300000);\r\n    getDeriInfo()\r\n    return () => {\r\n      interval && clearInterval(interval);\r\n    };\r\n  }, [])\r\n  return (\r\n    <div className='token-box'>\r\n      <div className='token-info'>\r\n        <div className='token-header'>\r\n          <div className='token-header-left'>\r\n            <div className='logo-title'>\r\n              <img alt='' src={deriLogo} />\r\n              <span className='title-text'>{lang['title']}</span>\r\n            </div>\r\n            <div className='token-header-des'>\r\n              {lang['deri-is-the-protocol-token']}\r\n              <a href='#' className='learn-more'> {lang['learn-more']} </a>\r\n            </div>\r\n          </div>\r\n          <div className='token-header-right'>\r\n            <Button onClick={() => { addToken() }} type={PRIMARY} width=\"242\" label={lang[\"add-deri-to-metamask\"]} />\r\n          </div>\r\n        </div>\r\n        <div className='token-info-content'>\r\n          <div className='top-info-box'>\r\n            <div className='info-box'>\r\n              <div className='num'>\r\n                $ {deriInfo ? <DeriNumberFormat value={deriInfo.price} displayType='text' thousandSeparator={true} decimalScale={4} /> : '--'}\r\n              </div>\r\n              <div className='text'>\r\n                {lang['price']}\r\n              </div>\r\n            </div>\r\n            <div className='info-box min-box'>\r\n              <div className='num'>\r\n                $ {deriInfo ? <DeriNumberFormat value={deriInfo.market_cap} displayType='text' thousandSeparator={true} decimalScale={0} /> : '--'}\r\n              </div>\r\n              <div className='text'>\r\n                {lang['market-cap']}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className='buttom-info-box'>\r\n            <div className='info-box'>\r\n              <div className='num'>\r\n                {deriInfo ? <DeriNumberFormat value={deriInfo.circulating_supply} displayType='text' thousandSeparator={true} decimalScale={0} /> : '--'}\r\n              </div>\r\n              <div className='text'>\r\n                {lang['circulating-supply']}\r\n              </div>\r\n            </div>\r\n            <div className='info-box min-box'>\r\n              <div className='num'>\r\n                {deriInfo ? <DeriNumberFormat value={deriInfo.total_supply} displayType='text' thousandSeparator={true} decimalScale={0} /> : '--'}\r\n              </div>\r\n              <div className='text'>\r\n                {lang['total-supply']}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <div className='buy-deri-token'>\r\n          {lang[\"buy-deri-token\"]}\r\n        </div>\r\n        <div className='buy-deri-token-swap'>\r\n          <a target='_blank' onClick={pancakeBuy}>\r\n            <div className='swap-box'>\r\n              <div className='swap-logo'>\r\n                <img alt='' src={pancake} />\r\n              </div>\r\n              <div className='swap-name'>\r\n                {lang['pancake-swap']}\r\n              </div>\r\n            </div>\r\n          </a>\r\n          <a target='_blank' onClick={sushiBuy}>\r\n            <div className='swap-box'>\r\n              <div className='swap-logo'>\r\n                <img alt='' src={sushi} />\r\n              </div>\r\n              <div className='swap-name'>\r\n                {lang['sushi-swap']}\r\n              </div>\r\n            </div>\r\n          </a>\r\n          <a target='_blank' rel='noreferrer' href='https://www.gate.io/tradepro/DERI_USDT'>\r\n            <div className='swap-box'>\r\n              <div className='swap-logo'>\r\n                <img alt='' src={gate} />\r\n              </div>\r\n              <div className='swap-name'>\r\n                {lang['gate']}\r\n              </div>\r\n            </div>\r\n          </a>\r\n          <a target='_blank' rel='noreferrer' href='https://www.mexc.com/exchange/DERI_USDT'>\r\n            <div className='swap-box'>\r\n              <div className='swap-logo'>\r\n                <img alt='' src={mexc} />\r\n              </div>\r\n              <div className='swap-name'>\r\n                {lang['mexc']}\r\n              </div>\r\n            </div>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default inject('wallet')(observer(Token))    "],"sourceRoot":""}