{"version":3,"sources":["utils/DeriNumberFormat.js","components/Tab/Tab.js","components/Input/Input.js","components/ButtonGroup/ButtonGroup.js","pages/Pool/Claim.js","pages/Pool/img/staked.svg","pages/Pool/OperateLiquidity.js","pages/Pool/img/back.svg","pages/Pool/Detail.js"],"names":["DeriNumberFormat","props","useState","className","renderablity","setRenderablity","isValidate","allowZero","value","undefined","isNaN","Math","abs","useEffect","wallet","defaultValue","others","displayType","fixedDecimalScale","thousandSeparator","timeout","window","setTimeout","isConnected","clearTimeout","Wrapper","styled","div","width","height","borderR","borderL","size","inactiveBgColor","borderB","activeFontColor","activeBgColor","borderT","Tab","tabSet","icon","borderTop","borderBottom","divider","arr","Object","keys","selected","setSelected","styles","style","borderColor","fontColor","map","item","direction","onClick","select","content","inputWidth","unitPadding","Input","unit","max","step","onChange","focus","readOnly","inputRef","useRef","current","type","min","ref","e","target","bg","gt","ButtonGroup","groups","defaultBorderColor","outline","cuttingLine","cuttingLineColor","outlineColor","bgColor","setValue","text","index","label","isSelected","Claim","lang","poolShow","remainingTime","setRemainingTime","interval","setInterval","period","parseInt","Date","now","dis","h","m","s","clearInterval","OperateLiquidity","isLp","bTokenId","version","baseToken","address","walletBalance","poolInfo","afterTransaction","addRemoveValue","setAddRemoveValue","addLiquidity","a","alert","param","detail","chainId","account","apiProxy","request","removeLiquidity","totalShares","cur","eq","decimalScale","balance","percentage","times","toString","Button","fontSize","PRIMARY","chainInfo","config","DeriEnv","get","inject","observer","poolManager","useParams","symbol","nowToken","setNowToken","nowTokenId","setNowTokenId","nowIsStaked","setNowIsStaked","setIsStakedList","poolConfig","setPoolConfig","bTokenList","setBTokenList","isShowInfo","setIsShowInfo","setPoolInfo","symbols","setSymbols","setWalletBalance","networkText","name","getWalletBalance","params","push","getLiquidityInfo","background","load","pool","pools","loadDoubleMingingPool","lpPools","filter","p","bToken0","bTokens","bTokenSymbol","isCakeLP","isSushiLP","join","getPoolInfo","res","apy","bTokensApy","i","info","liquidity","bTokensLiq","total","getIsStaked","isStaked","checkoutBaseToken","b","to","alt","src","backIcon","id","BSC","POLYGON","ETH","networkLogo","suffix","length","stakedLogo","downIcon","percent","shareValue","formatShares","prefix","swappedPnl","formatAddress"],"mappings":"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","file":"static/js/7.d077fb0b.chunk.js","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport NumberFormat from 'react-number-format'\nimport { inject, observer } from 'mobx-react';\n\nfunction DeriNumberFormat(props){\n  const [renderablity, setRenderablity] = useState(<span className='loading-line'></span>);\n\n  const isValidate = () => {\n    const {allowZero} = props \n    return (typeof props.value !== 'object' && props.value !== undefined && props.value !== '' && props.value !== 'NaN') \n          || ((isNaN(props.value) && Math.abs(props.value)) === 0 && allowZero === true )\n  }\n\n  useEffect(() => {\n    const {allowZero,wallet,defaultValue = '--',...others} = props \n    if(isValidate()) {\n      setRenderablity(<NumberFormat {...others}  displayType = 'text'  fixedDecimalScale={true} thousandSeparator={true}/>)\n    } else {\n      setRenderablity(<span className='loading-line'></span>)\n    } \n    const timeout = window.setTimeout(() => {\n      if(!isValidate() && wallet && !wallet.isConnected()){\n        setRenderablity(defaultValue)\n      }\n    },30000)\n    return () => {\n      clearTimeout(timeout)\n    };\n  }, [props.value]);\n\n  return renderablity;\n}\n\nexport default DeriNumberFormat","import styled from 'styled-components'\nimport React, { useState } from 'react';\nconst Wrapper = styled.div`\n    cursor: pointer;\n    width:${props => props.width}px;\n    height:${props => props.height}px;\n    display:flex;\n    .tab-left.inactive{\n      border-radius:0px 0px 4px 0px;\n    }\n    .tab-right.inactive{\n      border-radius:0px 0px 0px 4px;\n    }\n    .tab-left.active{\n      border-radius:0px 4px 0px 0px;\n      ${props => props.borderR};\n      height:14px;\n    }\n    .tab-right.active{\n      border-radius:4px 0px 0px 0px;\n      ${props => props.borderL};\n      height:14px;\n    }\n    .inactive,.active{\n      width:50%;\n      box-sizing: content-box;\n      padding: 15px 24px;\n      font-size:${props => props.size}px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n    .inactive{\n      background:${props => props.inactiveBgColor};\n      ${props => props.borderB}\n    }\n    .active {\n      color: ${props => props.activeFontColor};\n      background : ${props => props.activeBgColor};\n      ${props => props.borderT};\n    }\n  `\nexport default function Tab({ tabSet, inactiveBgColor,activeBgColor,icon, className, width = 238, height = 47, size = 16,borderTop = false,borderBottom = false, divider = false }) {\n  const arr = Object.keys(tabSet)\n  const [selected, setSelected] = useState(arr[0])\n  const styles = tabSet[selected].style\n  const borderT = borderTop ? `border-top:1px solid ${tabSet[selected].borderColor}`:\"border-top:0\"\n  const borderB = borderBottom ? `border-bottom:1px solid ${tabSet[selected].borderColor}`:\"border-bottom:0\"\n  const borderL = divider ? `border-left:1px solid ${tabSet[selected].borderColor}`:\"border-left:0\"\n  const borderR = divider ? `border-right:1px solid ${tabSet[selected].borderColor}`:\"border-right:0\"\n  const activeFontColor = tabSet[selected].fontColor ? tabSet[selected].fontColor : '#FFFFFF'\n\n  function select(item) {\n    setSelected(item)\n  }\n\n  return (\n    <div style={styles} className={className}>\n      <Wrapper className='width' width={width} height={height} \n        activeFontColor={activeFontColor} activeBgColor ={activeBgColor} inactiveBgColor={inactiveBgColor} size={size} borderT={borderT} borderB={borderB} borderL={borderL} borderR={borderR}>\n        {arr.map(item => (\n          <div\n            key={item}\n            className={item === selected ? `${tabSet[item].direction} active` : `${tabSet[item].direction} inactive`}\n            onClick={() => select(item)}>\n            {item}\n          </div>\n        ))}\n      </Wrapper>\n      {tabSet[selected].content}\n    </div>\n  )\n}","import { useEffect, useRef, useState } from 'react'\nimport styled from 'styled-components'\nimport { bg } from '../../lib/web3js';\n\nconst Wrapper = styled.div`\ndisplay : flex;\nfont-size : 14px;\nalign-items : center;\nbackground: rgba(85, 119, 253, 0.1);\nborder-radius: 4px;\njustify-content: space-between;\ninput {\n  background: transparent;\n  border-radius: 4px;\n  // min-width: 240px;\n  border: 0;\n  width : ${props => props.inputWidth};\n  height: 56px;\n  color : #E0ECFF;\n  font-size : 18px;\n  padding-left: 16px;\n}\ninput:focus {\n  outline: none;\n}\n.unit {\n  margin-right: ${props => props.unitPadding};\n}\n`\nexport default function Input({value,unit,max,step,onChange,styles = {},focus,unitPadding = '24px',readOnly,inputWidth = '50%',className}){\n  const inputRef = useRef(null);\n  const change = e => {\n    const {value} = e.target\n    if(max && bg(value).gt(max)){    \n      onChange && onChange(max)\n    } else if(value <=0 || isNaN(value)) {\n      onChange && onChange('')\n    } else {\n      onChange && onChange(value)\n    }\n  }\n\n  useEffect(()=>{\n    if(inputRef.current && focus){\n      inputRef.current.focus();\n    }\n  },[focus])\n\n\n  return (\n    <Wrapper  unitPadding={unitPadding} inputWidth={inputWidth} className={className} style={{...styles}}>\n      <input type='number' value={value} max={max}  min='0'  step = {step} ref={inputRef} onChange={change} readOnly={readOnly}/>\n      <div className='unit'>{unit}</div>\n    </Wrapper>    \n  )\n}","import React, { useState ,useEffect} from 'react';\nimport Button from \"../Button/Button\";\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n    display : flex;\n    width: 100%;\n    justify-content: space-between;\n  `\nexport default function ButtonGroup({groups = ['25%','50%','75%','100%'],defaultBorderColor ,onChange,defaultValue ,cuttingLine,cuttingLineColor,outline,outlineColor,width,height,bgColor,className}){\n  const [value, setValue] = useState(defaultValue)\n  const select = current => {\n    if(current !== value) {\n      setValue(current)\n      onChange && onChange(current);\n    } else if(current === value){\n      setValue('')\n      onChange && onChange('');\n    } else {\n      setValue(current)\n    }\n  }\n  useEffect(() => {\n    setValue(defaultValue)\n  }, [defaultValue])\n  return (\n  <Wrapper className={className}>\n    {groups.map((text,index) => (\n      <Button label={text} key={index} isSelected={text === value} outline = {outline} bgColor={bgColor} className='g-button' defaultBorderColor={defaultBorderColor} outlineColor={outlineColor} width={width} height={height} onClick={() => select(text)}/>\n    ))}\n  </Wrapper>)\n}","import React, { useState, useEffect } from 'react'\nimport Button from '../../components/Button/Button'\nimport './claim.less'\nexport default function Claim({lang,poolShow=true}) {\n  const [remainingTime,setRemainingTime] = useState('')\n  useEffect(() => {\n\t\tlet interval = null;\n\t\t\t//计数器\n\t\t\tinterval = window.setInterval(() => {\n\t\t\t\tlet period = 3600 * 8;\n\t\t\t\tlet current = parseInt(Date.now()/1000);\n\t\t\t\tlet epochBegin = parseInt(current / period)*period;\n\t\t\t\tlet dis = (epochBegin + period - current);\n\t\t\t\tlet h = parseInt(dis / 3600);\n\t\t\t\tlet m = parseInt((dis % 3600)/60)\n\t\t\t\tlet s = parseInt(dis % 60) \n\t\t\t\tsetRemainingTime(`${h} ${lang['h']} ${m} ${lang['m']} ${s} ${lang['s']}`);\n\t\t\t},1000);\n    return () => {\n      interval && clearInterval(interval);\n\t\t};\n\t\t\n  }, []);\n  return (\n    <div className='mining-claim'>\n      <div className='mining-claim-info'>\n        <div className='deri-num-slider'>\n          <div className='deri-claim-time'>\n            {remainingTime}\n          </div>\n          {poolShow && <div className='deri-claim-text'>\n            You have 2,100 unclaimed $DERI across all staked pools. You’ve earned a total of 23,694 Deri token since Sep 12, 2021. Woohoo!\n          </div>}\n          <div className='deri-claim-slider'>\n          </div>\n        </div>\n        {poolShow && <div className='cliam-button'>\n          <Button label={lang['claim-all']} />\n        </div>}\n      </div>\n    </div>\n  )\n}","export default __webpack_public_path__ + \"static/media/staked.45c27f0b.svg\";","import { useEffect, useState } from 'react'\nimport Input from \"../../components/Input/Input\"\nimport Button from \"../../components/Button/Button\"\nimport ButtonGroup from \"../../components/ButtonGroup/ButtonGroup\"\nimport DeriNumberFormat from \"../../utils/DeriNumberFormat\"\nimport { PRIMARY } from '../../utils/Constants';\nimport apiProxy from \"../../model/ApiProxy\"\nimport './operateLiauidity.less'\nimport {bg} from \"../../lib/web3js/index\"\nexport default function OperateLiquidity({ wallet,lang,type,isLp,bTokenId,version,baseToken,address,walletBalance,poolInfo,afterTransaction }) {\n  const [addRemoveValue,setAddRemoveValue] = useState('')\n  const getValue = (value)=>{\n    setAddRemoveValue(value)\n  }\n  const unit = type === 'add' || version === 'v2' ? baseToken : lang['shares']\n  const groupValue = (value)=>{\n    value = parseInt(value)\n    let balance = type === 'add' ? walletBalance : poolInfo.totalShares;\n    let percentage = bg(balance).times(bg(value/100)).toString()\n    setAddRemoveValue(percentage)\n  }\n  const addLiquidity = async ()=>{\n    const max = bg(walletBalance)\n    const cur = bg(addRemoveValue);\n    if(cur.gt(max)) {\n      alert(lang['not-sufficient-funds']);\n      return false;\n    }\n    if(addRemoveValue <=0 || isNaN(addRemoveValue)){\n      alert(lang['it-has-to-be-greater-than-zero']);\n      return false;\n    }\n    if(isLp === 'lp'){\n      let param = [wallet.detail.chainId,address,wallet.detail.account,addRemoveValue]\n      let res = await apiProxy.request('addLpLiquidity',param)\n    }else{\n      let param = [wallet.detail.chainId,address,wallet.detail.account,addRemoveValue,bTokenId]\n      let res = await apiProxy.request('addLiquidity',param)\n    }\n   \n    afterTransaction(true)\n    // if(!res || !res.success){\n    //   alert(lang['failure-of-transaction']);\n    //   return false; \n    // }\n    \n    return true;\n  }\n  const removeLiquidity = async ()=>{\n    const max = bg(poolInfo.totalShares)\n    const cur = bg(addRemoveValue)\n    if (cur.gt(max)) {\n      alert(`${lang['your-current-max-removable-shares-are']}  ${poolInfo.totalShares}`);\n      return false;\n    }\n    \n    if (+addRemoveValue <= 0 || isNaN(addRemoveValue)) {\n      alert(lang['invalid-liquidity']);\n      return false;\n    }\n    if(isLp === 'lp'){\n      let param = [wallet.detail.chainId,address,wallet.detail.account,addRemoveValue]\n      let res = await apiProxy.request('removeLpLiquidity',param)\n    }else{\n      let param = [wallet.detail.chainId,address,wallet.detail.account,addRemoveValue,bTokenId,max.eq(cur)]\n      let res = await apiProxy.request('removeLiquidity',param)\n    }\n    \n    afterTransaction()\n    // if(!res || !res.success){\n    //   alert(lang['failure-of-transaction']);\n    //   return false; \n    // }\n    return true;\n  }\n  useEffect(()=>{\n    setAddRemoveValue('')\n  },[type])\n  return (\n    <div className='operate'>\n      <div className='add-input'>\n        <Input value={addRemoveValue} unit={unit} onChange={getValue} styles={{ width: \"332px\" }} />\n      </div>\n      {type === 'add' && <div className='wallet-balance'>\n        {lang['wallet-balance']} <DeriNumberFormat value={walletBalance} displayType='text' decimalScale={2}  /> {baseToken}\n      </div>}\n      {type === 'remove' && <div className='wallet-balance'>\n      {lang['staked-balance']} <DeriNumberFormat value={poolInfo.totalShares} displayType='text' decimalScale={2}  /> {unit}\n      </div>}\n      \n      <div className='check-proportion'>\n      <ButtonGroup groups={['25%','50%','75%','100%']} onChange={groupValue} outline={true} bgColor =' rgba(85, 119, 253, 0.1)' width={77} height={40}/>\n      </div>\n      <div className='information'>\n      \n      </div>\n      <div className='add-remove-btn'>\n        {type === 'add' && <Button onClick={addLiquidity} fontSize='18' type={PRIMARY} width=\"331\" label={lang[\"add-liquidity\"]} />}\n        {type === 'remove' && <Button onClick={removeLiquidity} type={PRIMARY} fontSize='18' width=\"331\" label={lang[\"remove-liquidity\"]} />} \n      </div>\n    </div>\n  )\n}","export default __webpack_public_path__ + \"static/media/back.b0297594.svg\";","import { useState, useEffect } from 'react'\nimport { Link, useParams } from 'react-router-dom';\nimport { inject, observer } from 'mobx-react';\nimport Claim from './Claim'\nimport OperateLiquidity from './OperateLiquidity'\nimport Tab from '../../components/Tab/Tab'\nimport DeriNumberFormat from \"../../utils/DeriNumberFormat\"\nimport apiProxy from \"../../model/ApiProxy\"\nimport { formatAddress,isCakeLP,isSushiLP } from \"../../utils/utils\"\nimport config from '../../config.json'\nimport { DeriEnv } from '../../lib/web3js/index'\nimport './detail.less'\nimport backIcon from './img/back.svg'\nimport BSC from '../../assets/img/bsc-logo.svg'\nimport POLYGON from '../../assets/img/polygon-logo.svg'\nimport ETH from '../../assets/img/ethereum.svg'\nimport downIcon from '../../assets/img/arrow-down.svg'\nimport stakedLogo from './img/staked.svg'\nconst env = DeriEnv.get();\nconst { chainInfo } = config[env]\nfunction Detail({ lang, wallet = {}, poolManager }) {\n  const { version, chainId, symbol, address, type } = useParams();\n  const [nowToken, setNowToken] = useState('')\n  const [nowTokenId, setNowTokenId] = useState('')\n  const [nowIsStaked,setNowIsStaked] = useState(false);\n  const [isStakedList,setIsStakedList] = useState({})\n  const [poolConfig, setPoolConfig] = useState('')\n  const [bTokenList, setBTokenList] = useState([])\n  const [isShowInfo, setIsShowInfo] = useState('show')\n  const [poolInfo, setPoolInfo] = useState({})\n  const [symbols, setSymbols] = useState('')\n  const [walletBalance, setWalletBalance] = useState()\n  const networkText = chainInfo[chainId] && chainInfo[chainId].name;\n  const networkLogo = (chainId) => {\n    let src;\n    let id = +chainId\n    if (id === 56 || id === 97) {\n      src = BSC\n    } else if (id === 137) {\n      src = POLYGON\n    } else if (id === 1) {\n      src = ETH\n    }\n    return src\n  }\n\n  const getWalletBalance = async () => {\n    if (wallet.isConnected()) {\n      let params = [wallet.detail.chainId, address, wallet.detail.account]\n      let balance = null;\n      if (poolConfig.isLp) {\n        balance = await apiProxy.request('getLpWalletBalance', params)\n      } else {\n        params.push(nowTokenId)\n        balance = await apiProxy.request('getBTokenBalance', params)\n      }\n      setWalletBalance(balance)\n    }\n  }\n  const afterTransaction = () => {\n    getWalletBalance()\n    getLiquidityInfo()\n  }\n  const tabSet = {\n    [lang['add']]: {\n      content: <OperateLiquidity isLp={type} wallet={wallet} afterTransaction={afterTransaction} version={version} bTokenId={nowTokenId} address={address} lang={lang} type='add' baseToken={nowToken} walletBalance={walletBalance} />,\n      style: { background: \"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)\" },\n      borderColor: \"#203B60\",\n      direction: \"tab-left\"\n    },\n    [lang['remove']]: {\n      content: <OperateLiquidity isLp={type} wallet={wallet} afterTransaction={afterTransaction} lang={lang} address={address} type='remove' bTokenId={nowTokenId} poolInfo={poolInfo} balance={poolInfo} baseToken={nowToken} version={version} />,\n      style: { background: \"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)\" },\n      borderColor: \"#203B60\",\n      direction: \"tab-right\"\n    },\n  }\n  const load = async () => {\n    await poolManager.load()\n    let pool = poolManager.pools;\n    if (type === 'lp') {\n      await poolManager.loadDoubleMingingPool();\n      pool = poolManager.lpPools\n    }\n    pool = pool.filter(p => p.address === address)\n    pool = pool[0]\n    let bToken0 = pool.bTokens[0].bTokenSymbol\n    if(isCakeLP(address)){\n      bToken0 = 'CAKE-LP'\n    }else if(isSushiLP(address)){\n      bToken0 = 'DERI-USDT SLP'\n    }\n    let bTokenId = pool.bTokens[0].bTokenId\n    let symbols = pool.symbols.map(item => {\n      let arr = [];\n      arr.push(item.symbol)\n      return arr\n    })\n    symbols = symbols.join(',')\n    setSymbols(symbols)\n    setPoolConfig(pool)\n    setBTokenList(pool.bTokens)\n    setNowToken(bToken0)\n    setNowTokenId(bTokenId)\n  }\n  const getPoolInfo = async () => {\n    if (poolConfig) {\n      let res = await poolConfig.getPoolInfo(wallet, poolConfig);\n      let arr = bTokenList.map(item => {\n        if (version === 'v2') {\n          item.apy = (+(res.bTokensApy.filter(i => i.bTokenId === item.bTokenId)[0].apy) * 100)\n        } else {\n          item.apy = +(res.bTokensApy[0].apy) * 100\n        }\n        return item\n      })\n      return res\n    }\n  }\n  const getLiquidityInfo = async () => {\n    let info = null\n    if (poolConfig) {\n      let res = await poolConfig.getPoolInfo(wallet, poolConfig);\n      let apy;\n      let liquidity;\n      if (version === 'v2' && nowTokenId) {\n        apy = res.bTokensApy.filter(p => p.bTokenId === nowTokenId);\n        apy = apy[0].apy;\n        liquidity = res.bTokensLiq.filter(p => p.bTokenId === nowTokenId);\n        liquidity = liquidity[0].liquidity;\n      } else {\n        apy = res.bTokensApy[0].apy\n        liquidity = res.bTokensLiq[0].liquidity\n      }\n      info = {\n        total: liquidity,\n        apy: (+apy) * 100,\n      }\n      if (wallet.isConnected()) {\n        let res = await poolConfig.getLiquidityInfo(wallet, address, poolConfig.version, poolConfig.isLp, nowTokenId)\n        info = res;\n        info['apy'] = (+apy) * 100;\n      }\n      setPoolInfo(info)\n    }\n  }\n\n  const getIsStaked = async ()=>{\n    if(wallet.isConnected() && poolConfig){\n      let res = await poolConfig.getIsStaked(wallet,poolConfig)\n      setNowIsStaked(res.isStaked)\n      setIsStakedList(res)\n    }\n  }\n\n  const checkoutBaseToken = async (bTokenId) => {\n    let now = poolConfig.bTokens.filter(b => b.bTokenId === bTokenId)\n    setNowTokenId(bTokenId)\n    setNowToken(now[0].bTokenSymbol)\n  }\n  useEffect(() => {\n    load()\n  }, [])\n  useEffect(() => {\n    getPoolInfo()\n  }, [poolConfig, bTokenList])\n  useEffect(() => {\n    getLiquidityInfo()\n    getWalletBalance()\n  }, [nowTokenId, poolConfig, wallet.detail.account])\n  useEffect(()=>{\n    getIsStaked()\n  },[poolConfig,wallet.detail.account])\n  return (\n    <div className='pool-detail'>\n      <div className='back-pool'>\n        <Link to='/pool'>\n          <div className='icon-back'>\n            <img alt='' src={backIcon} />\n            <span>{lang['back']}</span>\n          </div>\n        </Link>\n      </div>\n      <div className='pool-deatail-info'>\n        <div className='pool-detail-basetoken-info'>\n          <div className='pool-info-text'>\n            <div className='pool-network-type'>\n              <div className='network-logo'>\n                <img alt='' src={networkLogo(chainId)} />\n              </div>\n              <div className='pool-type-network-text'>\n                <div className='pool-type-text'>\n                  {lang[version]}\n                </div>\n                <div className='pool-network-text'>\n                  {networkText}\n                </div>\n              </div>\n            </div>\n            <div className='pool-des'>\n              {lang['pool-des']}\n              <span className='learn-more'> {lang['learn-more']}</span>\n            </div>\n          </div>\n          <div className='select-basetoken-info'>\n            <div className='select-coin-title'>\n              {lang['select-the-coin']}\n            </div>\n            <div className='coin-list'>\n              {type !== 'lp' && <>\n                {bTokenList.map((item, index) =>\n                (<div className='coin-box' onClick={() => { checkoutBaseToken(item.bTokenId) }}>\n                  <div className='base-apy-info'>\n                    <div className={`btoken-logo ${item.bTokenSymbol}`}></div>\n                    <div className='apy-base-staked'>\n                      <div className='base-name'>{item.bTokenSymbol}</div>\n                      <div className='base-apy'>\n                        {lang['apy']} <DeriNumberFormat value={item.apy} suffix='%' displayType='text' allowZero={true} decimalScale={2} />\n                      </div>\n                    </div>\n                  </div>\n                  <div className='staked'></div>\n                </div>)\n                )}\n              </>}\n              {type === 'lp' && bTokenList.length && <>\n                <div className='coin-box'>\n                  <div className='base-apy-info'>\n                    <div className='lp-btoken-logo'>\n                      <div className={`btoken-logo ${bTokenList[0].bTokenSymbol}`}></div>\n                      <span className='conect-logo'>+</span>\n                      <div className={`btoken-logo ${bTokenList[1].bTokenSymbol}`}></div>\n                    </div>\n                    <div className='apy-base-staked'>\n                      <div className='base-name'>{nowToken}</div>\n                      <div className='base-apy'>\n                        {lang['apy']} <DeriNumberFormat value={bTokenList[1].apy} suffix='%' displayType='text' allowZero={true} decimalScale={2} />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </>}\n            </div>\n          </div>\n        </div>\n        <div className='pool-detail-add-remove-info'>\n          <div className='mining-deri-liquidity'>\n            <div className='btoken-liquidity'>\n              {type !== 'lp' &&  <>\n                <div className={`btoken-logo ${nowToken}`}></div>\n                <div className='manage-stake'>\n                  <div className='manage'>\n                    {lang['manage']} {nowToken} {lang['liquidity']}\n                  </div>\n                  {nowIsStaked && <div className='stake'>\n                    <img src={stakedLogo} alt='' />\n                    {lang['staked']}\n                  </div>} \n                </div>\n              </>}\n              {type === 'lp' && bTokenList.length && <>\n                <div className='lp-btoken-logo'>\n                  <div className={`btoken-logo ${bTokenList[0].bTokenSymbol}`}></div>\n                  <span className='conect-logo'>+</span>\n                  <div className={`btoken-logo ${bTokenList[1].bTokenSymbol}`}></div>\n                </div>\n                <div className='manage-stake'>\n                  <div className='manage'>\n                    {lang['manage']} {nowToken} {lang['liquidity']}\n                  </div>\n                  {nowIsStaked && <div className='stake'>\n                    <img src={stakedLogo} alt='' />\n                    {lang['staked']}\n                  </div>} \n                </div>\n              </>}\n            </div>\n            <div className='deri-current-epoch'>\n              <Claim poolShow={false} lang={lang} />\n            </div>\n          </div>\n          <div className='mining-add-remove-liquidity'>\n            <div className='pool-info'>\n              <div className='pool-info-title'>\n                <div className='pool-info-title-text'>\n                  {lang['pool-info']}\n                </div>\n                <div className='down-up'>\n                  {isShowInfo === 'show' && <span onClick={() => setIsShowInfo('hide')}>\n                    <img className='up-icon' alt='' src={downIcon} />\n                  </span>}\n                  {isShowInfo === 'hide' && <span onClick={() => setIsShowInfo('show')}>\n                    <img alt='' src={downIcon} />\n                  </span>}\n                </div>\n              </div>\n              <div className={`'pool-info-text' ${isShowInfo}`}>\n                <div className='pool-info-text-one'>\n                  <div className='info-box'>\n                    <div className='info-box-title'>{lang['apy']}</div>\n                    <div className='info-box-num'>\n                      <DeriNumberFormat value={poolInfo.apy} displayType='text' decimalScale={2} suffix='%' />\n                    </div>\n                  </div>\n                  <div className='info-box'>\n                    <div className='info-box-title'>{lang['pool-liquidity']}</div>\n                    <div className='info-box-num'>\n                      <DeriNumberFormat value={poolInfo.total} displayType='text' thousandSeparator={true} suffix={` ${nowToken}`} />\n                    </div>\n                  </div>\n                  {version === 'v2' && <div className='info-box'>\n                    <div className='info-box-title'>{lang['multiplier']}</div>\n                    <div className='info-box-num'>1</div>\n                  </div>}\n                  <div className='info-box'>\n                    <div className='info-box-title'>{lang['my-liquidity-percentage']}</div>\n                    <div className='info-box-num'><DeriNumberFormat allowZero={true} value={poolInfo.percent} decimalScale={2} suffix={'%'} /></div>\n                  </div>\n                  {version !== 'v2' && <div className='info-box'>\n                    <div className='info-box-title'>{lang['liquidity-share-value']}</div>\n                    <div className='info-box-num'><DeriNumberFormat allowZero={true} decimalScale={6} value={poolInfo.shareValue} thousandSeparator={true} /> {nowToken}</div>\n                  </div>}\n\n                  <div className='info-box'>\n                    <div className='info-box-title'>{lang['staked-balance']}</div>\n                    <div className='info-box-num'>\n                      <DeriNumberFormat allowZero={true} value={poolInfo.formatShares} decimalScale={2} />\n                      {version === 'v2' ? \" \" + nowToken : \" \" + lang['shares']}\n                    </div>\n                  </div>\n                  {version === 'v2' && <div className='info-box'>\n                    <div className='info-box-title'>{lang['mining-pnl']}</div>\n                    <div className='info-box-num'>\n                      <DeriNumberFormat allowZero={true} prefix=' ' value={poolInfo.swappedPnl} decimalScale={2} /> {nowToken}\n                    </div>\n                  </div>}\n                </div>\n                <div className='pool-info-text-two'>\n                  {type !== 'lp' && <div className='info-box'>\n                    <div className='info-box-title'>{lang['symbols']}</div>\n                    <div className='info-box-num symbols'>\n                      {symbols}\n                    </div>\n                  </div>}\n                  <div className='info-box'>\n                    <div className='info-box-title'>{lang['contract-address']}</div>\n                    <div className='info-box-num'>\n                      {formatAddress(address)}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className='add-remove-liquidity'>\n              <Tab tabSet={tabSet} width={379} size={18} inactiveBgColor='#0c192d' icon='' borderBottom={true} divider={true} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\nexport default inject('wallet', 'poolManager')(observer(Detail))"],"sourceRoot":""}