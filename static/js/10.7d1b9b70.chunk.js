(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[10],{580:function(e,t,i){},584:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));i(5);var n=i(24),o=i(573),s=i.n(o),r=i(49);function a(e){var t=e.lite,i=Object(n.g)(),o=s()("check-lite-pro",{lite:t,pro:!t}),a=function(e){i.push(e)};return Object(r.jsxs)("div",{className:o,children:[Object(r.jsx)("div",{className:"lite",onClick:function(){return a("/lite")},children:"LITE"}),Object(r.jsx)("div",{className:"pro",onClick:function(){return a("/pro")},children:" PRO"})]})}},622:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataFeed=t.version=t.widget=void 0;var n=i(623);Object.defineProperty(t,"widget",{enumerable:!0,get:function(){return n.widget}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return n.version}});var o=function(){function e(e){void 0===e&&(e={}),this.configuration={},this.subscribers={},this.requesting=!1,this.options=e}return e.prototype.onReady=function(e){var t=this;new Promise((function(e){e(void 0)})).then((function(){var i=t.options.fetchConfiguration;t.configuration=t.defaultConfiguration(),i?i().then((function(i){t.configuration=Object.assign(t.configuration,i),e(t.configuration)})):e(t.configuration)}))},e.prototype.searchSymbols=function(e,t,i,n){var o=this.options.fetchSearchSymbols;o&&o({userInput:e,exchange:t,symbolType:i}).then(n).catch((function(){n([])}))},e.prototype.resolveSymbol=function(e,t,i){var n=this.options.fetchResolveSymbol;n&&n(e).then(t).catch((function(){i("Error fetchResolveSymbol")}))},e.prototype.getBars=function(e,t,i,n,o,s,r){var a=this,c=this.options.getBars;c&&(this.requesting||(this.requesting=!0,c({symbolInfo:e,resolution:t,from:i,to:n,firstDataRequest:r}).then((function(e){a.requesting=!1,o(e.bars,e.meta)})).catch((function(){a.requesting=!1,s("Error getBars")}))))},e.prototype.subscribeBars=function(e,t,i,n,o){this.subscribers[n]||(this.subscribers[n]={lastBarTime:null,listener:i,resolution:t,symbolInfo:e})},e.prototype.unsubscribeBars=function(e){this.subscribers[e]&&delete this.subscribers[e]},e.prototype.updateKLine=function(e){for(var t in this.subscribers){var i=this.subscribers[t];null!==i.lastBarTime&&e.time<i.lastBarTime||(i.lastBarTime=e.time,i.listener(e))}},e.prototype.calculateHistoryDepth=function(e,t,i){var n=this.options.calculateHistoryDepth;if(n)return n(e,t,i)},e.prototype.getMarks=function(e,t,i,n,o){var s=this.options.getMarks;s&&s({symbolInfo:e,startDate:t,endDate:i,resolution:o}).then(n)},e.prototype.getTimescaleMarks=function(e,t,i,n,o){var s=this.options.getTimescaleMarks,r=this.configuration.supports_timescale_marks;s&&r&&s({symbolInfo:e,startDate:t,endDate:i,resolution:o}).then(n)},e.prototype.getServerTime=function(e){var t=this.options.getServerTime,i=this.configuration.supports_time;t&&i&&t().then(e)},e.prototype.defaultConfiguration=function(){return{supported_resolutions:["1","5","15","30","60","1D","1W","1M"],supports_marks:!1,supports_timescale_marks:!1}},e}();t.DataFeed=o},623:function(e,t,i){!function(e){"use strict";var t=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};function i(e,n){var o=t({},e);for(var s in n)"object"!=typeof e[s]||null===e[s]||Array.isArray(e[s])?void 0!==n[s]&&(o[s]=n[s]):o[s]=i(e[s],n[s]);return o}var n={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},o={width:800,height:500,symbol:"AA",interval:"D",timezone:"Etc/UTC",container_id:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"W"},{text:"1y",resolution:"W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}};function s(){return"1.15 dev (internal id c63b141f @ 2019-10-31 04:30:54.420652)"}var r=function(){function e(e){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!e.datafeed)throw new Error("Datafeed is not defined");if(this._options=i(o,e),e.preset){var t=n[e.preset];t?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(t.disabled_features):this._options.disabled_features=t.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(t.enabled_features):this._options.enabled_features=t.enabled_features):console.warn("Unknown preset: `"+e.preset+"`")}"Dark"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),this._create()}return e.prototype.onChartReady=function(e){this._ready?e.call(this):this._readyHandlers.push(e)},e.prototype.headerReady=function(){var e=this;return this._innerWindowLoaded.then((function(){return e._innerWindow().headerReady()}))},e.prototype.onGrayedObjectClicked=function(e){this._innerAPI().onGrayedObjectClicked(e)},e.prototype.onShortcut=function(e,t){this._innerWindow().createShortcutAction(e,t)},e.prototype.subscribe=function(e,t){this._innerAPI().subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._innerAPI().unsubscribe(e,t)},e.prototype.chart=function(e){return this._innerAPI().chart(e)},e.prototype.setLanguage=function(e){this.remove(),this._options.locale=e,this._create()},e.prototype.setSymbol=function(e,t,i){this._innerAPI().changeSymbol(e,t+"",i)},e.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)},e.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},e.prototype.selectLineTool=function(e){this._innerAPI().selectLineTool(e)},e.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},e.prototype.save=function(e){this._innerAPI().saveChart(e)},e.prototype.load=function(e,t){this._innerAPI().loadChart({json:e,extendedData:t})},e.prototype.getSavedCharts=function(e){this._innerAPI().getSavedCharts(e)},e.prototype.loadChartFromServer=function(e){this._innerAPI().loadChartFromServer(e)},e.prototype.saveChartToServer=function(e,t,i){this._innerAPI().saveChartToServer(e,t,i)},e.prototype.removeChartFromServer=function(e,t){this._innerAPI().removeChartFromServer(e,t)},e.prototype.onContextMenu=function(e){this._innerAPI().onContextMenu(e)},e.prototype.createButton=function(e){return this._innerWindow().createButton(e)},e.prototype.showNoticeDialog=function(e){this._innerAPI().showNoticeDialog(e)},e.prototype.showConfirmDialog=function(e){this._innerAPI().showConfirmDialog(e)},e.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},e.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},e.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},e.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},e.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},e.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},e.prototype.addCustomCSSFile=function(e){this._innerWindow().addCustomCSSFile(e)},e.prototype.applyOverrides=function(e){this._options=i(this._options,{overrides:e}),this._innerWindow().applyOverrides(e)},e.prototype.applyStudiesOverrides=function(e){this._innerWindow().applyStudiesOverrides(e)},e.prototype.watchList=function(){return this._innerAPI().watchlist()},e.prototype.activeChart=function(){return this._innerAPI().activeChart()},e.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},e.prototype.layout=function(){return this._innerAPI().layout()},e.prototype.setLayout=function(e){this._innerAPI().setLayout(e)},e.prototype.layoutName=function(){return this._innerAPI().layoutName()},e.prototype.changeTheme=function(e){this._innerWindow().changeTheme(e)},e.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},e.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},e.prototype.hideAllDrawingTools=function(){return this._innerAPI().hideAllDrawingTools()},e.prototype.magnetEnabled=function(){return this._innerAPI().magnetEnabled()},e.prototype.magnetMode=function(){return this._innerAPI().magnetMode()},e.prototype.undoRedoState=function(){return this._innerAPI().undoRedoState()},e.prototype._innerAPI=function(){return this._innerWindow().tradingViewApi},e.prototype._innerWindow=function(){return this._iFrame.contentWindow},e.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px")},e.prototype._create=function(){var e=this,t=this._render(),i=document.getElementById(this._options.container_id);if(null===i)throw new Error("There is no such element - #"+this._options.container_id);i.innerHTML=t,this._iFrame=i.querySelector("#"+this._id);var n=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(n.style.width="100%",this._options.fullscreen||(n.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise((function(e){var t=function t(){n.removeEventListener("load",t,!1),e()};n.addEventListener("load",t,!1)})),this._innerWindowLoaded.then((function(){e._innerWindow().widgetReady((function(){e._ready=!0;for(var t=0,i=e._readyHandlers;t<i.length;t++){var n=i[t];try{n.call(e)}catch(e){console.error(e)}}e._innerWindow().initializationFinished()}))}))},e.prototype._render=function(){var e=window;e[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.customFormatters,brokerFactory:this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter},this._options.saved_data&&(e[this._id].chartContent={json:this._options.saved_data});var t=(this._options.library_path||"")+"static/"+encodeURIComponent(this._options.locale)+"-tv-chart.c63b141fec55a3c31066.html#symbol="+encodeURIComponent(this._options.symbol)+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+t+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'},e}();window.TradingView=window.TradingView||{},window.TradingView.version=s,e.version=s,e.widget=r,Object.defineProperty(e,"__esModule",{value:!0})}(t)},624:function(e,t,i){},639:function(e,t,i){"use strict";i.r(t);var n=i(5),o=i(17),s=i(42),r=i(574),a=i(622),c=i(265),l={},d=null,u=new c.a,h=function(e,t,i,n,o,s){var r=e.name;switch(!0){case"1"===t:d="min";break;case"5"===t:d="5min";break;case"15"===t:d="15min";break;case"30"===t:d="30min";break;case"60"===t:d="hour";break;case"1D"===t:d="day";break;case"1W"===t:d="week";break;default:d="min"}u.loadHistory(r,d,(function(e){if(o){var t=e[e.length-1];l[r]={lastBar:t}}var i=e.length;i?1e3*n>e[i-1].time?s(e,{noData:!1}):s([],{noData:!0}):s(e,{noData:!0})}))},p=function(e,t,i,n,o){},b=function(e){u.unsubscribeBars(e)},m={supported_resolutions:["1","5","15","30","60","240","1D","5D","1W","1M"]},j={onReady:function(e){setTimeout((function(){return e(m)}),0)},bars:{},searchSymbols:function(e,t,i,n){},resolveSymbol:function(e,t,i){var n={name:e,pricescale:100,ticker:e,description:"",minmov:1,type:"crypto",has_intraday:!0,intraday_multipliers:["1","2","5","15","30","60","240","1D","7D","1W","1M"],has_weekly_and_monthly:!0,data_status:"streaming",has_no_volume:!0,pro_name:e,has_daily:!0,timezone:"UTC",session:"24x7"};setTimeout((function(){t(n)}),0)},getBars:function(e,t,i,n,o,s,r){if(i>0&&n>0){var a=localStorage.getItem("localResolutions")||t;h(e,a,i,n,r,o,s)}},subscribeBars:function(e,t,i,n,o){p(e,t,i,n,o)},unsubscribeBars:function(e){b(e)},calculateHistoryDepth:function(e,t,i){},getMarks:function(e,t,i,n,o){},getTimeScaleMarks:function(e,t,i,n,o){},getServerTime:function(e){}},f=i(573),v=i.n(f),_=i(158),g=i(49),y="tv_chart_container";var O=Object(_.b)("trading")(Object(_.c)((function(e){var t=e.spec,i=Object(n.useState)(!0),s=Object(o.a)(i,2),r=s[0],c=s[1],l=Object(n.useState)("thirty"),d=Object(o.a)(l,2),u=d[0],h=d[1],p=Object(n.useState)(null),b=Object(o.a)(p,2),m=b[0],f=b[1],_=v()("btn",u),O=function(e,t){h(t),m.chart().refreshMarks(),m.activeChart().setResolution(e)};return Object(n.useEffect)((function(){return t&&t.symbol&&f(function(){var e={symbol:t.symbol,datafeed:j,interval:localStorage.getItem("localResolutions")||"1D",container_id:y,library_path:"".concat("","/charting_library/"),locale:"en",custom_css_url:"".concat("","/style/tradingview-overide.css"),disabled_features:["header_widget","timeframes_toolbar","go_to_date"],enabled_features:["show_logo_on_all_charts"],charts_storage_url:"https://saveload.tradingview.com",charts_storage_api_version:"1.14",client_id:"tradingview.com",user_id:"public_user_id",fullscreen:!1,autosize:!0,overrides:{"paneProperties.background":"#212327","paneProperties.vertGridProperties.color":"#212327","paneProperties.horzGridProperties.color":"#212327","mainSeriesProperties.candleStyle.upColor":"#53B987","mainSeriesProperties.candleStyle.downColor":"#EB4D5C","symbolWatermarkProperties.transparency":90,"mainSeriesProperties.candleStyle.wickUpColor":"#53B987","mainSeriesProperties.candleStyle.wickDownColor":"#EB4D5C","mainSeriesProperties.candleStyle.drawBorder":!0,"mainSeriesProperties.candleStyle.borderUpColor":"#53B987","mainSeriesProperties.candleStyle.borderDownColor":"#EB4D5C","scalesProperties.textColor":"#AAA"},toolbar_bg:"#212327",timezone:"Asia/Shanghai",session:"24x7"},i=new a.widget(e);return i.onChartReady((function(){i.activeChart().setResolution("30",(function(){c(!1)}))})),i}()),function(){null!==m&&m.remove()}}),[t]),Object(g.jsxs)("div",{id:"tradingview",children:[Object(g.jsxs)("div",{className:_,children:[Object(g.jsx)("span",{className:"tab-btn one",onClick:function(){return O("1","one")},children:"1min"}),Object(g.jsx)("span",{className:"tab-btn five",onClick:function(){return O("5","five")},children:"5min"}),Object(g.jsx)("span",{className:"tab-btn fifteen",onClick:function(){return O("15","fifteen")},children:"15min"}),Object(g.jsx)("span",{className:"tab-btn thirty",onClick:function(){return O("30","thirty")},children:"30min"}),Object(g.jsx)("span",{className:"tab-btn sixty",onClick:function(){return O("60","sixty")},children:"1hour"}),Object(g.jsx)("span",{className:"tab-btn one-day",onClick:function(){return O("1D","one-day")},children:"1day"}),Object(g.jsx)("span",{className:"tab-btn one-week",onClick:function(){return O("1W","one-week")},children:"1week"})]}),Object(g.jsx)("div",{className:"loading",style:{display:r?"block":"none"},children:Object(g.jsx)("div",{className:"spinner-border",role:"status",children:Object(g.jsx)("span",{className:"sr-only"})})}),Object(g.jsx)("div",{id:y})]})}))),w=i(575);var I=Object(_.b)("trading")(Object(_.c)((function(e){var t=e.wallet,i=e.trading,s=Object(n.useState)("rise"),r=Object(o.a)(s,2),a=r[0],c=r[1],l=Object(n.useRef)();return Object(n.useEffect)((function(){return l.current&&(l.current>i.index?c("fall"):c("rise")),l.current=i.index,function(){}}),[i.index]),Object(n.useEffect)((function(){return t.detail.account&&i.init(t),function(){}}),[t.detail.account]),Object(g.jsxs)("div",{id:"trading-view",children:[Object(g.jsxs)("div",{className:"right-top",children:[Object(g.jsxs)("div",{className:"symbol-basetoken-text",children:[i.config&&i.config.symbol||"BTCUSD"," / ",i.config&&i.config.bTokenSymbol||"BUSD"," (10X)"]}),Object(g.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(g.jsx)("div",{className:"trade-dashboard-title",children:"Index Price"}),Object(g.jsx)("div",{className:a,children:Object(g.jsx)(w.a,{value:i.index,decimalScale:2})})]}),Object(g.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(g.jsxs)("div",{className:"trade-dashboard-title",children:[Object(g.jsx)("span",{children:"Funding Rate Annual"}),"  "]}),Object(g.jsx)("div",{className:"trade-dashboard-value",children:Object(g.jsx)("span",{className:"funding-per",children:Object(g.jsx)(w.a,{value:i.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})]}),Object(g.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(g.jsx)("div",{className:"trade-dashboard-title",children:"Total Net Position"}),Object(g.jsx)("div",{className:"trade-dashboard-value",children:Object(g.jsx)(w.a,{value:i.fundingRate.tradersNetVolume})})]}),Object(g.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(g.jsx)("div",{className:"trade-dashboard-title",children:"Pool Total liquidity"}),Object(g.jsxs)("div",{className:"trade-dashboard-value",children:[" ",Object(g.jsx)(w.a,{allowLeadingZeros:!0,value:i.fundingRate.liquidity,decimalScale:2})," ",i.config&&i.config.bTokenSymbol]})]})]}),Object(g.jsx)("div",{className:"tradingview",children:Object(g.jsx)(O,{spec:i.config})})]})}))),x=i(53),A=i(0),N=i.n(A),S=i(2),C=i(577),M=i(583),D=i(591),k=(i(593),i(84)),R=Object(C.a)(M.a),P=Object(C.a)(D.a);var T=Object(_.b)("wallet","trading")(Object(_.c)((function(e){var t=e.wallet,i=e.trading,r=Object(n.useState)("LONG"),a=Object(o.a)(r,2),c=a[0],l=a[1],d=Object(n.useState)(!1),u=Object(o.a)(d,2),h=u[0],p=u[1],b=Object(n.useState)(!1),m=Object(o.a)(b,2),j=m[0],f=m[1],v=Object(n.useState)(!1),_=Object(o.a)(v,2),y=_[0],O=_[1],I=Object(n.useState)(""),A=Object(o.a)(I,2),C=A[0],M=A[1],D=function(){U()},T=D,U=function(){L(),i.refresh()},L=function(){var e=Object(S.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConnected()||!i.config){e.next=5;break}return e.next=3,Object(s.getWalletBalance)(t.detail.chainId,i.config.pool,t.detail.account);case 3:(n=e.sent)&&M(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(S.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,Object(s.closePosition)(t.detail.chainId,i.config.pool,t.detail.account).finally((function(){return p(!1)}));case 3:(n=e.sent).success?U():"string"===typeof n.error?alert(n.error||"Liquidation failed"):"object"===Object(x.a)(n.error)?alert(n.error.errorMessage||"Liquidation failed"):alert("Liquidation failed");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return t.detail.account&&i.init(t),function(){}}),[t.detail.account]),Object(n.useEffect)((function(){return L(),function(){}}),[t.detail.account,i.config,i.amount.dynBalance]),Object(n.useEffect)((function(){if(i.position.volume&&i.position.margin&&i.position.unrealizedPnl){var e=+i.position.volume>0?"LONG":Object(k.b)(i.position.volume,0)?"--":"SHORT";l(e)}return function(){}}),[i.position.volume,i.position.margin,i.position.unrealizedPnl]),Object(g.jsxs)("div",{className:"position-box",children:[Object(g.jsxs)("div",{className:"p-box theader",children:[Object(g.jsx)("div",{children:"Position"}),Object(g.jsx)("div",{children:"Average Entry Price"}),Object(g.jsx)("div",{children:"Direction"}),Object(g.jsxs)("div",{children:["Balance in Contract",Object(g.jsx)("br",{}),"(Dynamic Balance)"]}),Object(g.jsx)("div",{children:"Margin"}),Object(g.jsx)("div",{children:"Unrealized PnL"}),Object(g.jsx)("div",{children:"Liquidation Price"})]}),Object(g.jsxs)("div",{className:"p-box tbody",children:[Object(g.jsxs)("div",{children:[i.position.volume,Object(g.jsxs)("span",{className:"close-position",children:[!h&&Object(g.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAlCAYAAADFniADAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF62lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wNC0wMlQxNTozODoxMyswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDQtMDZUMjA6MDU6MTIrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDQtMDZUMjA6MDU6MTIrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDlkYTVmMGQtZjBkZC0xYTRiLTlhNWUtZTBlNDMwZTI5OGI3IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6OGU2NWEzMTAtM2M4YS1jMDQ3LWIyMDAtZjZhYTZkMDlkNWRlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MDUwZmRhMGUtNTUyNC0wNjQxLTg1ZmYtYWUyNjAyODUxMzgzIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowNTBmZGEwZS01NTI0LTA2NDEtODVmZi1hZTI2MDI4NTEzODMiIHN0RXZ0OndoZW49IjIwMjEtMDQtMDJUMTU6Mzg6MTMrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ5ZGE1ZjBkLWYwZGQtMWE0Yi05YTVlLWUwZTQzMGUyOThiNyIgc3RFdnQ6d2hlbj0iMjAyMS0wNC0wNlQyMDowNToxMiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4SuXJrAAACqElEQVRYhb3XTWjTYBgH8P+bJq+0TrbatZui4EG3irCNQXVM0CqeBA+CwvAk6EVEQfy4eRFPfiGK4EUGeqgX8aSC4vAiBYnSdkNHFUFh6qGvbWFKmzSJF1Mzl3RvPpr/8X2ekB8P7wMJkWUZudx3cWpqnVJk9MZYv3IOIedTXXzb1PB129rWQQCIIJsVj2Y3qQZABmLaZJHRNYMx7XmYoM29rfFUVE/PMWk4FdMfEVmWDWuTbgAlRq+HMTETZD2bZdJ9ocSke1aVQICRhHK2UKHXwgYpOjEaeuSVMJJQj8+GDLMDNTRiFNmqY5lkY1oAgDBhziB6JJNsTAOAYBbCgHUC7Ug1H7bfa23oJowXtAzVLdjHuviGF2SLChpWron5Lb2tDC/IERUUrFwT80N9rQk3oI4oE1Zi9K4XmFfQiigAGE0oJ4qM3nYD8wPiQgHAWEI5zQvzC+JG8cKCAAEAkWWZtxcAUGD01mhCOUUsZ7oBLPyKfNvYo633CwJcTMqM08SCAnlCOcGCAnlGmbCFRfGHXe1zXXzmFeQLVa6J+Q09rUG72nBc3f+uQi+FirLbMmsiBBhNKBe9wlyjHNZe/1CVXlrvmB+YK5QTqFQRD22Nq/v+v/xeYdyoTqDtA+pjwH4rvcC4UDwgM0HAVkS5AQUF64jyAgoC5ogq16TXXkF+Ybao+ao0M9SnTvoBLYFVpJu6RbYSbBlqvirNpOPqniBAbVi/eqbE6FVe2BJUN0D/YMoFXlgb1U2QW5gQFsgNLLLr8MnQQGYGY9qLIqOrU1FtJ/n7CSsQIBXVdhcrFALI0gd+t7oLMmM3McMADBBNSPepe99XpSdtEJMOdBtkB1N1ggKj58eTzcvtH4e5n9KDRZXkJgaUp2GArClU6BVVF75kUo07APAH3WicsIPb8YcAAAAASUVORK5CYII=",onClick:B}),Object(g.jsx)("span",{className:"spinner spinner-border spinner-border-sm",style:{display:h?"block":"none",marginLeft:"8px"}})]})]}),Object(g.jsx)("div",{children:Object(g.jsx)(w.a,{value:i.position.averageEntryPrice,decimalScale:2})}),Object(g.jsx)("div",{className:c,children:c}),Object(g.jsxs)("div",{children:[Object(g.jsx)(w.a,{allowZero:!0,value:+i.position.margin+ +i.position.unrealizedPnl,decimalScale:2}),Object(g.jsx)("span",{className:"open-add",onClick:function(){return f(!0)},children:Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",children:Object(g.jsx)("path",{id:"login",d:"M13,9,7,4V7H0v4H7v3Zm3,7H8v2h8a2.006,2.006,0,0,0,2-2V2a2.006,2.006,0,0,0-2-2H8V2h8Z",transform:"translate(18) rotate(90)",fill:"#3ebf38"})})}),Object(g.jsx)("span",{className:"open-remove",onClick:function(){return O(!0)},children:Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",children:Object(g.jsx)("path",{id:"log-out","data-name":"log out",d:"M18,9,12,4V7H5v4h7v3ZM2,2h8V0H2A2.006,2.006,0,0,0,0,2V16a2.006,2.006,0,0,0,2,2h8V16H2Z",transform:"translate(0 18) rotate(-90)",fill:"#e35061"})})})]}),Object(g.jsx)("div",{children:Object(g.jsx)(w.a,{value:i.position.marginHeld,decimalScale:2})}),Object(g.jsx)("div",{children:Object(g.jsx)(w.a,{value:i.position.unrealizedPnl,decimalScale:8})}),Object(g.jsx)("div",{children:Object(g.jsx)(w.a,{value:i.position.liquidationPrice,decimalScale:2})})]}),Object(g.jsx)("div",{className:"p-box tbody"}),Object(g.jsx)(R,{wallet:t,modalIsOpen:j,onClose:function(){return f(!1)},spec:i.config,afterDeposit:T,balance:C}),Object(g.jsx)(P,{wallet:t,modalIsOpen:y,onClose:function(){return O(!1)},spec:i.config,afterWithdraw:D,position:i.position})]})}))),U=i(592),L=i.n(U),B=i(160),Z=i(594),z=B[s.DeriEnv.get()].chainInfo;function E(e){var t=e.wallet,i=e.spec,a=Object(n.useState)([]),c=Object(o.a)(a,2),l=c[0],d=c[1];return Object(n.useEffect)((function(){return function(){var e=Object(S.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.isConnected()&&i&&i.pool)){e.next=5;break}return e.next=3,Object(s.getTradeHistory)(t.detail.chainId,i.pool,t.detail.account);case 3:n=e.sent,d(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){}}),[t.detail.account,i]),Object(g.jsxs)("div",{className:"history-box",children:[Object(g.jsxs)("div",{className:"p-box theader",children:[Object(g.jsx)("div",{className:"td",children:"Time"}),Object(g.jsx)("div",{children:"Direction"}),Object(g.jsx)("div",{children:"Base Token"}),Object(g.jsx)("div",{children:"Price"}),Object(g.jsx)("div",{children:"Volume"}),Object(g.jsx)("div",{children:"Notional"}),Object(g.jsx)("div",{children:"Transaction Fee"})]}),l.map((function(e,i){return Object(g.jsxs)("div",{className:"p-box tbody",children:[Object(g.jsx)("div",{className:"td",children:L.a.asString("yyyy-MM-dd hh:mm:ss",new Date(parseInt(e.time)))}),Object(g.jsxs)("div",{className:e.direction,children:["LONG"===e.direction?"".concat(e.direction," / BUY"):"".concat(e.direction," / SELL"),Object(g.jsx)(G,{wallet:t,his:e})]}),Object(g.jsx)("div",{children:e.baseToken}),Object(g.jsx)("div",{children:Object(g.jsx)(r.a,{value:e.price,displayType:"text",decimalScale:2})}),Object(g.jsx)("div",{children:e.volume}),Object(g.jsx)("div",{children:e.notional}),Object(g.jsx)("div",{children:e.transactionFee})]},i)}))]})}function G(e){var t=e.wallet,i=e.his,s=Object(n.useState)(!1),r=Object(o.a)(s,2),a=r[0],c=r[1],l=function(){c(!0)},d=function(){c(!1)},u=v()("view",{hover:a});return Object(g.jsxs)("span",{className:u,onMouseOut:d,children:[Object(g.jsx)("span",{className:"view-space",onMouseOver:l,children:Object(g.jsxs)("a",{target:"_blank",rel:"noreferrer",href:"".concat(z[t.detail.chainId].viewUrl,"tx/").concat(i.transactionHash),children:["View at ",z[t.detail.chainId].viewUrl]})}),Object(g.jsx)("span",{className:"right-arrow",onMouseOver:l,children:Object(g.jsx)("img",{alt:"",src:Z.a})}),Object(g.jsx)("span",{className:"view-arrow",onMouseOver:l,onMouseOut:d,children:Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(z[t.detail.chainId].viewUrl,"tx/").concat(i.transactionHash),children:Object(g.jsx)("img",{rel:"noreferrer",alt:"",src:"data:image/svg+xml;base64,DQo8c3ZnIGZpbGw9Im5vbmUiIGhlaWdodD0iMTAiIHdpZHRoPSIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aCBkPSJNOC42NzYuNjQyYS42NS42NSAwIDAwLS4wNzIuMDA2SDQuNzkzYS42NS42NSAwIDAwLS41Ny45NzUuNjUuNjUgMCAwMC41Ny4zMjJINy4xMkwuNDM4IDguNjE0YS42NDcuNjQ3IDAgMDAuMjg2IDEuMDk2LjY1LjY1IDAgMDAuNjMyLS4xNzlMOC4wNCAyLjg2MXYyLjMyNGEuNjQ4LjY0OCAwIDAwLjk3Ny41Ny42NDguNjQ4IDAgMDAuMzIyLS41N1YxLjM4YS42NDcuNjQ3IDAgMDAtLjY2Mi0uNzM3eiIgZmlsbD0iI0FBQUFBQSIvPg0KPC9zdmc+DQoNCg=="})})})]})}var W=Object(_.b)("wallet","trading")(Object(_.c)((function(e){var t=e.wallet,i=e.trading,s=Object(n.useState)("position"),r=Object(o.a)(s,2),a=r[0],c=r[1],l=function(e){c(e)},d=v()("position-info",a);return Object(g.jsxs)("div",{className:d,children:[Object(g.jsxs)("div",{className:"position-header",children:[Object(g.jsxs)("div",{className:"position-title",children:[Object(g.jsx)("span",{className:"position-info-title",children:"POSITION INFO"}),Object(g.jsx)("span",{className:"history-info-title",children:"TRADE HISTORY"})]}),Object(g.jsxs)("div",{className:"check-position-history ",children:[Object(g.jsx)("div",{className:"btn-position",onClick:function(){return l("position")},children:"CURRENT POSITION"}),Object(g.jsx)("div",{className:"btn-history",onClick:function(){return l("history")},children:"TRADE HISTORY"})]})]}),Object(g.jsxs)("div",{className:"pos-his-info ",children:[Object(g.jsx)(T,{}),Object(g.jsx)(E,{wallet:t,spec:i.config})]})]})}))),F=(i(595),i(587)),Y=i(584);i(580),i(624);t.default=Object(_.b)("wallet")(Object(_.c)((function(e){var t=e.wallet;return Object(n.useEffect)((function(){return document.querySelector(".desktop").style.minWidth="1920px",function(){document.querySelector(".desktop").style.minWidth=""}}),[t.detail.account]),Object(g.jsxs)("div",{className:"trade-body",children:[Object(g.jsx)(Y.a,{}),Object(g.jsxs)("div",{className:"trade-pro",children:[Object(g.jsx)("div",{className:"left",children:Object(g.jsx)(F.a,{isPro:!0})}),Object(g.jsxs)("div",{className:"right",children:[Object(g.jsx)(I,{wallet:t}),Object(g.jsx)(W,{})]})]})]})})))}}]);
//# sourceMappingURL=10.7d1b9b70.chunk.js.map