(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[12],{1199:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(1),i=a(9),s=a(8),o=(a(736),a(737)),l=a(642),u=a.n(l),d=a(27),b=a(619),f=a(26),j=a(738),O=a(47),p=a(18),m=["ZONE","POOL","BASE TOKEN","POOL ADDRESS","LIQUIDITY","TRADE VOLUME"],v=["zone","catalog","bToken","address","liquidity","notional"],h="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_HTTP_URL:"https://oracle4.deri.finance",REACT_APP_REST_SERVER_URL:"https://alphaapi.deri.finance",REACT_APP_WSS_URL:"wss://oracle4.deri.finance"}).REACT_APP_INFO_HTTP_URL,"/get_pools"),_={catalog:function(e){return Object(p.jsx)("span",{className:"catalog",children:e.catalog.toUpperCase()})},zone:function(e){return e.catalog.indexOf("-")>0?e.catalog.substring(e.catalog.indexOf("-")+1,e.catalog.length).toUpperCase():""},address:function(e){return Object(d.g)(e.address)},liquidity:function(e){return Object(p.jsx)(b.a,{value:e.liquidity,suffix:" ".concat(e.bToken.split("|")[0]),thousandSeparator:!0,decimalScale:2})},notional:function(e){return Object(p.jsx)(b.a,{value:e.notional,suffix:" ".concat(e.bToken.split("|")[0]),thousandSeparator:!0,decimalScale:2})}};t.default=Object(O.b)("loading")(Object(O.c)((function(e){var t=e.loading,a=Object(s.useState)({}),n=Object(i.a)(a,2),l=n[0],d=n[1],b=Object(f.useHistory)(),O=function(){var e=Object(r.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading(),e.next=3,u.a.get(h);case 3:200===(a=e.sent).status&&a.data.data&&d(a.data.data),t.loaded();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){O()}),[]),Object(p.jsxs)("div",{className:"info",children:[Object(p.jsx)("div",{className:"title",children:"Deri Overview"}),Object(p.jsxs)("div",{className:"chart-box",children:[Object(p.jsxs)("div",{className:"chart",children:[Object(p.jsx)(j.a,{title:"TVL",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_HTTP_URL:"https://oracle4.deri.finance",REACT_APP_REST_SERVER_URL:"https://alphaapi.deri.finance",REACT_APP_WSS_URL:"wss://oracle4.deri.finance"}).REACT_APP_INFO_HTTP_URL,"/get_liquidity_history"),seriesType:"area"})," "]}),Object(p.jsxs)("div",{className:"chart",children:[Object(p.jsx)(j.a,{title:"Volume 24H",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_HTTP_URL:"https://oracle4.deri.finance",REACT_APP_REST_SERVER_URL:"https://alphaapi.deri.finance",REACT_APP_WSS_URL:"wss://oracle4.deri.finance"}).REACT_APP_INFO_HTTP_URL,"/get_trade_history"),seriesType:"histogram",cycle:["W","M"],defaultCycle:"M"})," "]})]}),Object(p.jsx)("div",{className:"table-by-network",children:Object.keys(l).map((function(e,t){return Object(p.jsx)(o.a,{title:e,headers:m,columns:v,columnRenders:_,onRowClick:function(e){return function(e){b.push("/info/".concat(e.address,"/").concat(e.catalog,"/").concat(e.bToken,"/").concat(e.chain))}(e)},dataSet:l[e]},t)}))})]})})))},619:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(53),c=a(42),r=a(621),i=a(9),s=a(8),o=a(620),l=a(18),u=["allowZero"];function d(e){var t=Object(s.useState)(Object(l.jsx)("span",{className:"loading-line"})),a=Object(i.a)(t,2),d=a[0],b=a[1];return Object(s.useEffect)((function(){var t=e.allowZero,a=Object(r.a)(e,u);return("object"!==Object(c.a)(e.value)&&void 0!==e.value&&""!==e.value&&"NaN"!==e.value||0===(isNaN(e.value)&&Math.abs(e.value))&&!0===t)&&b(Object(l.jsx)(o.a,Object(n.a)(Object(n.a)({},a),{},{displayType:"text"}))),function(){}}),[e.value]),d}},736:function(e,t,a){},737:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(1),i=a(9),s=a(8),o=a(642),l=a.n(o),u=a(47),d=a(18);t.a=Object(u.b)("loading")(Object(u.c)((function(e){var t=e.title,a=e.dataSet,n=e.url,o=e.headers,u=e.columns,b=e.columnRenders,f=void 0===b?{}:b,j=e.pagination,O=e.loading,p=e.onRowClick,m=Object(s.useState)([]),v=Object(i.a)(m,2),h=v[0],_=v[1],S=Object(s.useState)(1),T=Object(i.a)(S,2),R=T[0],E=T[1],x=Object(s.useState)(),y=Object(i.a)(x,2),C=y[0],g=y[1],N=Object(s.useState)(10),P=Object(i.a)(N,2),A=P[0],w=(P[1],function(){var e=Object(r.a)(c.a.mark((function e(t,a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,j&&(n="".concat(n,"&page=").concat(a,"&page_amount=").concat(A)),O.loading(),e.next=5,l.a.get(n);case 5:200===(r=e.sent).status&&Array.isArray(r.data.data)&&(g(r.data.count/A),r.data.count%A>0&&g(Math.floor(r.data.count/A)+1),_(r.data.data),E(a),O.loaded());case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());return Object(s.useEffect)((function(){a?_(a):w(n,1)}),[n]),Object(d.jsxs)("div",{className:"info-table",children:[Object(d.jsx)("div",{className:"t-title",children:t}),Object(d.jsxs)("div",{className:"tbody",children:[Object(d.jsx)("div",{className:"theader",children:o.map((function(e,t){return Object(d.jsx)("div",{className:"col",children:e},t)}))}),h.length>0?h.map((function(e,t){return Object(d.jsx)("div",{className:"row",onClick:function(){return p&&p(e)},style:{cursor:p?"pointer":"normal"},children:u.map((function(t,a){return Object(d.jsx)("div",{className:"col",children:f[t]?f[t].call(null,e):e[t]},a)}))},t)})):Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col no-data",children:"No Data"})}),j&&h.length>0&&Object(d.jsxs)("div",{className:"pagination row",children:[Object(d.jsx)("span",{className:"arrow",onClick:function(){1!==R&&w(n,R-1)},children:" < "}),Object(d.jsxs)("span",{children:["Page ",R," of ",C]}),Object(d.jsx)("span",{className:"arrow",onClick:function(){R!==C&&w(n,R+1)},children:" > "})]})]})]})})))},738:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n=a(0),c=a.n(n),r=a(1),i=a(9),s=a(8),o=a(746),l=a(642),u=a.n(l),d=a(709),b=a.n(d),f=a(27),j=a(18);function O(e){var t=e.title,a=e.url,n=e.seriesType,l=e.cycle,d=e.defaultCycle,O=Object(s.useRef)(null),p=Object(s.useRef)(null),m=Object(s.useRef)(null),v=Object(s.useState)(""),h=Object(i.a)(v,2),_=h[0],S=h[1],T=Object(s.useState)(""),R=Object(i.a)(T,2),E=R[0],x=R[1],y=Object(s.useState)(d),C=Object(i.a)(y,2),g=C[0],N=C[1],P=Object(s.useRef)(),A=function(e){if(!e.point)return x(""),void(P.current&&S(P.current));e.seriesPrices.forEach((function(e){e&&S(e)})),e.time&&x("".concat(e.time.year,"-").concat(e.time.month,"-").concat(e.time.day," (UTC)"))},w=function(){var e=Object(r.a)(c.a.mark((function e(t){var n,r,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.addAreaSeries({priceLineVisible:!1,lastValueVisible:!1,topColor:"RGBA(0,101,159,.5)",bottomColor:"RGBA(0,101,159,0)",lineColor:"RGB(0,101,159)",priceFormat:{precision:1,minMove:"1000"}}),e.next=3,u.a.get(a);case 3:return 200===(r=e.sent).status&&Array.isArray(r.data.data)&&(i=(i=r.data.data.sort((function(e,t){return e.timestamp>t.timestamp?1:e.timestamp<t.timestamp?-1:0}))).map((function(e){return{time:b()(new Date(1e3*e.timestamp),"yyyy-mm-dd"),value:e.value}})),n.setData(i),s=i[i.length-1].value,S(s),P.current=s),m.current=n,t.timeScale().fitContent(),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(r.a)(c.a.mark((function e(t,a){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get(t);case 2:200===(n=e.sent).status&&Array.isArray(n.data.data)&&(r=n.data.data.sort((function(e,t){return e.timestamp>t.timestamp?1:e.timestamp<t.timestamp?-1:0})).map((function(e){return{time:b()(new Date(1e3*e.timestamp),"yyyy-mm-dd"),value:Number(e.value)}})),i=n.data.last_24h?n.data.last_24h:n.data[r.length-1].value,a.setData(r),S(i),P.current=i,p.current&&p.current.timeScale().fitContent());case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.addHistogramSeries({color:"#00659F",priceLineVisible:!1,lastValueVisible:!1,priceFormat:{type:"volume",priceFormatter:function(e){return"$ "+e}}})).priceScale().applyOptions({scaleMargins:{top:.25,bottom:0}}),L(a,n),m.current=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e=function(){var e=document.querySelector(".info-chart").getBoundingClientRect(),t=Object(o.b)(O.current,{localization:{priceFormatter:function(e){return"$ "+Object(f.d)(e)},locale:"en-US"},timeScale:{rightOffset:0,leftOffset:5,timeVisible:!0,borderColor:"#fff",borderVisible:!1},width:e.width,height:200,priceScale:{position:"none",borderColor:"#fff",borderVisible:!1,mode:0,scaleMargins:{top:.35}},handleScroll:!1,handleScale:!1,crosshair:{mode:o.a.Normal,vertLine:{labelVisible:!1,visible:!1},horzLine:{labelVisible:!1,visible:!1}},grid:{vertLines:{visible:!1},horzLines:{visible:!1}},layout:{backgroundColor:"#212327",textColor:"#fff",fontSize:12}});return p.current=t,t}();return"area"===n&&w(e),"histogram"===n&&U(e),e.subscribeCrosshairMove(A),function(){e&&(e.unsubscribeCrosshairMove(A),m.current&&e.removeSeries(m.current),e.remove())}}),[a,n]),Object(j.jsxs)("div",{className:"info-chart",children:[Object(j.jsxs)("div",{className:"chart-title",children:[Object(j.jsx)("div",{className:"title-label",children:t}),Object(j.jsxs)("div",{className:"title-value",children:[_?"$".concat(Object(f.d)(_)):""," "]}),Object(j.jsxs)("div",{className:"title-date",children:[E," "]})]}),l&&Object(j.jsx)("div",{className:"cycle-c",children:l.map((function(e,t){return Object(j.jsx)("div",{className:"cycle-item ".concat(e===g&&"selected"),onClick:function(){return function(e){N(e),a=/\?/.test(a)?"".concat(a,"&cycle=").concat(e):"".concat(a,"?cycle=").concat(e),L(a,m.current)}(e)},children:e},t)}))}),Object(j.jsx)("div",{className:"series",ref:O})]})}}}]);
//# sourceMappingURL=12.7519bba4.chunk.js.map