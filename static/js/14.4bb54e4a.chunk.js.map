{"version":3,"sources":["components/Button/Button.js","utils/DeriNumberFormat.js","../node_modules/date-format/lib/index.js","hooks/useClaimInfo.js","hooks/useConfig.js","components/Broker/Broker.js","mobile/pages/Broker/Broker.js"],"names":["Button","btnText","className","disabled","click","afterClick","checkApprove","wallet","spec","lang","useState","status","setStatus","isApproved","setIsApproved","pending","setPending","loadRef","useRef","onClick","a","beforeAction","afterAction","current","style","display","loadApproveStatus","detail","account","pool","bTokenId","res","approve","success","alert","useEffect","ref","marginRight","DeriNumberFormat","props","renderablity","setRenderablity","allowZero","others","undefined","value","isNaN","Math","abs","displayType","padWithZeros","vNumber","width","numAsString","toString","length","addZero","asString","format","date","module","exports","ISO8601_FORMAT","now","vDay","getDate","vMonth","getMonth","vYearLong","getFullYear","vYearShort","substring","vYear","indexOf","vHour","getHours","vMinute","getMinutes","vSecond","getSeconds","vMillisecond","getMilliseconds","vTimeZone","timezoneOffset","os","h","String","floor","m","offset","getTimezoneOffset","replace","setDatePart","part","local","parse","pattern","str","missingValuesDate","Error","matchers","regexp","fn","setUTCMinutes","getUTCMinutes","parsedPattern","reduce","p","test","index","match","dateFns","filter","sort","b","matches","RegExp","exec","forEach","f","i","extractDateParts","Date","ISO8601_WITH_TZ_OFFSET_FORMAT","DATETIME_FORMAT","ABSOLUTETIME_FORMAT","useClaimInfo","claimInfo","setClaimInfo","interval","loadClaimInfo","isConnected","getUserInfoAll","claimed","total","toFixed","unclaimed","valid","amount","harvestDeriLp","lp","harvestDeriTrade","trade","chainId","window","setInterval","clearInterval","useConfig","type","config","DeriEnv","get","inject","observer","claimInfoInterval","firstDeri","setFirstDeri","secondDeri","setSecondDeri","thirdDeri","setThirdDeri","yourDeri","setYourDeri","yourRank","setYourRank","sumPage","setSumPage","currentPage","setCurrentPage","totList","setTotList","list","setList","rewardList","path","fetchRestApi","data","map","item","trader_invite_timestamp","trader_address","slice","topList","rank","deri_reward","totalReward","hasOwnProperty","mintDeri","eqInNumber","text","parseInt","mintDToken","sum_page","ceil","thousandSeparator","decimalScale","dateFormat","trader_volume","page","xmlns","height","viewBox","id","data-name","d","transform","fill","Borker_des"],"mappings":"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","file":"static/js/14.4bb54e4a.chunk.js","sourcesContent":["import {useState,useRef,useEffect} from 'react';\nexport default function Button({btnText,className,disabled,click,afterClick,checkApprove,wallet,spec,lang}){\n  const [status, setStatus] = useState(disabled ? 'disabled' : 'enabled');\n  const [isApproved, setIsApproved] = useState(true);\n  const [pending, setPending] = useState(false);\n  const loadRef = useRef(null)\n\n  const onClick = async () => {\n    if(status !== 'enabled') {\n      return ;\n    }\n    beforeAction()\n    const result = await click();    \n    if(result){\n      afterClick && afterClick()\n    } \n    afterAction()\n  }\n\n  const beforeAction = ()  => {\n    setStatus('disabled')\n    setPending(true);\n    loadRef.current && (loadRef.current.style.display = 'inline-block')\n  }\n\n  const afterAction = () => {\n    loadRef.current && (loadRef.current.style.display = 'none')\n    setStatus('enabled')\n    setPending(false);\n  }\n\n  const loadApproveStatus = async () => {\n    if(checkApprove && wallet && wallet.detail.account){\n      const res = await wallet.isApproved(spec.pool,spec.bTokenId)\n      setIsApproved(res);\n    }\n  }\n  const approve = async () => {\n    beforeAction();\n    const res = await wallet.approve(spec.pool,spec.bTokenId);\n    if(res.success){\n      setIsApproved(true);\n    } else {\n      setIsApproved(false)\n      alert(lang['approve-failed'])\n    }\n    afterAction();\n  }\n\n  const action = () => {\n    if(isApproved){\n      onClick();\n    } else {\n      approve();\n    }\n  }\n\n  useEffect(() => {\n    loadApproveStatus();\n    return () => {};\n  }, [wallet,spec,checkApprove]);\n\n  return(\n    <button className={className} onClick={action} >\n        <span className='btn-loading-wrap'>\n          <span ref={loadRef}\n            className='spinner spinner-border spinner-border-sm'\n            style={{display : 'none' ,marginRight : '2'}}>\n          </span>\n        </span>\n          {pending ? lang['pending'] : (isApproved ? btnText : lang['approve'])  }\n        </button>\n  )\n}","import React,{useState,useEffect} from 'react'\nimport NumberFormat from 'react-number-format'\n\nexport default function DeriNumberFormat(props){\n  const [renderablity, setRenderablity] = useState('--');\n\n  useEffect(() => {\n    const {allowZero,...others} = props \n    if(((props.value !== undefined && props.value !== '' && props.value !== 'NaN') || ((isNaN(props.value) && Math.abs(props.value)) === 0 && allowZero === true ))) {\n      setRenderablity(<NumberFormat {...others} displayType = 'text' />)\n    } \n    return () => {};\n  }, [props.value]);\n\n  return renderablity;\n}","\"use strict\";\n\nfunction padWithZeros(vNumber, width) {\n  var numAsString = vNumber.toString();\n  while (numAsString.length < width) {\n    numAsString = \"0\" + numAsString;\n  }\n  return numAsString;\n}\n\nfunction addZero(vNumber) {\n  return padWithZeros(vNumber, 2);\n}\n\n/**\n * Formats the TimeOffset\n * Thanks to http://www.svendtofte.com/code/date_format/\n * @private\n */\nfunction offset(timezoneOffset) {\n  var os = Math.abs(timezoneOffset);\n  var h = String(Math.floor(os / 60));\n  var m = String(os % 60);\n  if (h.length === 1) {\n    h = \"0\" + h;\n  }\n  if (m.length === 1) {\n    m = \"0\" + m;\n  }\n  return timezoneOffset < 0 ? \"+\" + h + m : \"-\" + h + m;\n}\n\nfunction asString(format, date) {\n  if (typeof format !== \"string\") {\n    date = format;\n    format = module.exports.ISO8601_FORMAT;\n  }\n  if (!date) {\n    date = module.exports.now();\n  }\n\n  // Issue # 14 - Per ISO8601 standard, the time string should be local time\n  // with timezone info.\n  // See https://en.wikipedia.org/wiki/ISO_8601 section \"Time offsets from UTC\"\n\n  var vDay = addZero(date.getDate());\n  var vMonth = addZero(date.getMonth() + 1);\n  var vYearLong = addZero(date.getFullYear());\n  var vYearShort = addZero(vYearLong.substring(2, 4));\n  var vYear = format.indexOf(\"yyyy\") > -1 ? vYearLong : vYearShort;\n  var vHour = addZero(date.getHours());\n  var vMinute = addZero(date.getMinutes());\n  var vSecond = addZero(date.getSeconds());\n  var vMillisecond = padWithZeros(date.getMilliseconds(), 3);\n  var vTimeZone = offset(date.getTimezoneOffset());\n  var formatted = format\n    .replace(/dd/g, vDay)\n    .replace(/MM/g, vMonth)\n    .replace(/y{1,4}/g, vYear)\n    .replace(/hh/g, vHour)\n    .replace(/mm/g, vMinute)\n    .replace(/ss/g, vSecond)\n    .replace(/SSS/g, vMillisecond)\n    .replace(/O/g, vTimeZone);\n  return formatted;\n}\n\nfunction setDatePart(date, part, value, local) {\n  date['set' + (local ? '' : 'UTC') + part](value);\n}\n\nfunction extractDateParts(pattern, str, missingValuesDate) {\n  // Javascript Date object doesn't support custom timezone.  Sets all felds as\n  // GMT based to begin with.  If the timezone offset is provided, then adjust\n  // it using provided timezone, otherwise, adjust it with the system timezone.\n  var local = pattern.indexOf('O') < 0;\n  var matchers = [\n    {\n      pattern: /y{1,4}/,\n      regexp: \"\\\\d{1,4}\",\n      fn: function(date, value) {\n        setDatePart(date, 'FullYear', value, local);\n      }\n    },\n    {\n      pattern: /MM/,\n      regexp: \"\\\\d{1,2}\",\n      fn: function(date, value) {\n        setDatePart(date, 'Month', (value - 1), local);\n      }\n    },\n    {\n      pattern: /dd/,\n      regexp: \"\\\\d{1,2}\",\n      fn: function(date, value) {\n        setDatePart(date, 'Date', value, local);\n      }\n    },\n    {\n      pattern: /hh/,\n      regexp: \"\\\\d{1,2}\",\n      fn: function(date, value) {\n        setDatePart(date, 'Hours', value, local);\n      }\n    },\n    {\n      pattern: /mm/,\n      regexp: \"\\\\d\\\\d\",\n      fn: function(date, value) {\n        setDatePart(date, 'Minutes', value, local);\n      }\n    },\n    {\n      pattern: /ss/,\n      regexp: \"\\\\d\\\\d\",\n      fn: function(date, value) {\n        setDatePart(date, 'Seconds', value, local);\n      }\n    },\n    {\n      pattern: /SSS/,\n      regexp: \"\\\\d\\\\d\\\\d\",\n      fn: function(date, value) {\n        setDatePart(date, 'Milliseconds', value, local);\n      }\n    },\n    {\n      pattern: /O/,\n      regexp: \"[+-]\\\\d{3,4}|Z\",\n      fn: function(date, value) {\n        if (value === \"Z\") {\n          value = 0;\n        }\n        var offset = Math.abs(value);\n        var timezoneOffset = (value > 0 ? -1 :  1 ) * ((offset % 100) + Math.floor(offset / 100) * 60);\n        // Per ISO8601 standard: UTC = local time - offset\n        //\n        // For example, 2000-01-01T01:00:00-0700\n        //   local time: 2000-01-01T01:00:00\n        //   ==> UTC   : 2000-01-01T08:00:00 ( 01 - (-7) = 8 )\n        //\n        // To make it even more confusing, the date.getTimezoneOffset() is\n        // opposite sign of offset string in the ISO8601 standard.  So if offset\n        // is '-0700' the getTimezoneOffset() would be (+)420. The line above\n        // calculates timezoneOffset to matche Javascript's behavior.\n        //\n        // The date/time of the input is actually the local time, so the date\n        // object that was constructed is actually local time even thought the\n        // UTC setters are used.  This means the date object's internal UTC\n        // representation was wrong.  It needs to be fixed by substracting the\n        // offset (or adding the offset minutes as they are opposite sign).\n        //\n        // Note: the time zone has to be processed after all other fileds are\n        // set.  The result would be incorrect if the offset was calculated\n        // first then overriden by the other filed setters.\n        date.setUTCMinutes(date.getUTCMinutes() + timezoneOffset);\n      }\n    }\n  ];\n\n  var parsedPattern = matchers.reduce(\n    function(p, m) {\n      if (m.pattern.test(p.regexp)) {\n        m.index = p.regexp.match(m.pattern).index;\n        p.regexp = p.regexp.replace(m.pattern, \"(\" + m.regexp + \")\");\n      } else {\n        m.index = -1;\n      }\n      return p;\n    },\n    { regexp: pattern, index: [] }\n  );\n\n  var dateFns = matchers.filter(function(m) {\n    return m.index > -1;\n  });\n  dateFns.sort(function(a, b) {\n    return a.index - b.index;\n  });\n\n  var matcher = new RegExp(parsedPattern.regexp);\n  var matches = matcher.exec(str);\n  if (matches) {\n    var date = missingValuesDate || module.exports.now();\n    dateFns.forEach(function(f, i) {\n      f.fn(date, matches[i + 1]);\n    });\n\n    return date;\n  }\n\n  throw new Error(\n    \"String '\" + str + \"' could not be parsed as '\" + pattern + \"'\"\n  );\n}\n\nfunction parse(pattern, str, missingValuesDate) {\n  if (!pattern) {\n    throw new Error(\"pattern must be supplied\");\n  }\n\n  return extractDateParts(pattern, str, missingValuesDate);\n}\n\n/**\n * Used for testing - replace this function with a fixed date.\n */\nfunction now() {\n  return new Date();\n}\n\nmodule.exports = asString;\nmodule.exports.asString = asString;\nmodule.exports.parse = parse;\nmodule.exports.now = now;\nmodule.exports.ISO8601_FORMAT = \"yyyy-MM-ddThh:mm:ss.SSS\";\nmodule.exports.ISO8601_WITH_TZ_OFFSET_FORMAT = \"yyyy-MM-ddThh:mm:ss.SSSO\";\nmodule.exports.DATETIME_FORMAT = \"dd MM yyyy hh:mm:ss.SSS\";\nmodule.exports.ABSOLUTETIME_FORMAT = \"hh:mm:ss.SSS\";\n","import { useState, useEffect } from 'react'\nimport { getUserInfoAll ,deriToNatural} from '../lib/web3js/indexV2';\n\n\nexport default function useClaimInfo(wallet){\n  const [claimInfo, setClaimInfo] = useState({});\n  let interval = null;\n\n  const loadClaimInfo =  async () => {\n    if(wallet.isConnected()){\n      const claimInfo  = await getUserInfoAll(wallet.detail.account);\n      const claimed = (+claimInfo.total).toFixed(2);\n      const unclaimed = claimInfo.valid ? (+claimInfo.amount).toFixed(2) : 0;\n      const harvestDeriLp = (+claimInfo.lp).toFixed(2);\n      const harvestDeriTrade = (+claimInfo.trade).toFixed(2);\n      const chainId = claimInfo.chainId\n      setClaimInfo({claimed,unclaimed,harvestDeriLp,harvestDeriTrade,chainId})\n    }\n  }\n\n  useEffect(() => {\n    interval = window.setInterval(loadClaimInfo,1000 * 60 *3);\n      loadClaimInfo();\n    return () => clearInterval(interval);\n  }, [wallet.detail.account])\n  return [claimInfo,interval];\n}","import config from '../config.json'\nimport {DeriEnv} from '../lib/web3js/indexV2'\nexport default function useConfig(chainId,type = 'chainInfo'){\n  return config[DeriEnv.get()][type][chainId] || {};\n}","import React, { useState, useEffect } from 'react'\nimport { inject, observer } from 'mobx-react'\nimport dateFormat from 'date-format'\nimport {\n  mintDToken,\n  fetchRestApi,\n} from \"../../lib/web3js/indexV2\";\nimport useClaimInfo from \"../../hooks/useClaimInfo\";\nimport DeriNumberFormat from '../../utils/DeriNumberFormat'\nimport Button from '../Button/Button';\nimport { eqInNumber } from '../../utils/utils';\nimport useConfig from \"../../hooks/useConfig\";\nfunction Broker({ wallet = {}, lang }) {\n  const [claimInfo, claimInfoInterval] = useClaimInfo(wallet);\n  const config = useConfig(claimInfo.chainId)\n  const [firstDeri, setFirstDeri] = useState('--');\n  const [secondDeri, setSecondDeri] = useState('--');\n  const [thirdDeri, setThirdDeri] = useState('--');\n  const [yourDeri, setYourDeri] = useState('--');\n  const [yourRank, setYourRank] = useState('--');\n  const [sumPage, setSumPage] = useState(1);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totList, setTotList] = useState([])\n  const [list, setList] = useState([]);\n\n  const hasConnectWallet = () => wallet && wallet.detail && wallet.detail.account\n  const rewardList = async () => {\n    let path = `/broker/${wallet.detail.account}/reward_list`\n    let res = await fetchRestApi(path)\n    if (res.data) {\n      res.data.map(item => {\n        item.trader_invite_timestamp = item.trader_invite_timestamp * 1000\n        item.trader_address = item.trader_address.slice(0, 6) +\n          \"...\" +\n          item.trader_address.slice(item.trader_address.length - 4, item.trader_address.length)\n      })\n      setTotList(res.data)\n    }\n\n  }\n\n  const topList = async () => {\n    let path = '/broker/top3_reward_list'\n    let res = await fetchRestApi(path)\n    if (res.data) {\n      if(res.data.length){\n        res.data.map(item => {\n          if (item.rank === 1) {\n            setFirstDeri(item.deri_reward)\n          } else if (item.rank === 2) {\n            setSecondDeri(item.deri_reward)\n          } else if (item.rank === 3) {\n            setThirdDeri(item.deri_reward)\n          }\n        })\n      }else{\n        setFirstDeri(0)\n        setSecondDeri(0)\n        setThirdDeri(0)\n      }\n    }\n  }\n\n  const totalReward = async () => {\n    let path = `/broker/${wallet.detail.account}/total_reward`\n    let res = await fetchRestApi(path)\n    if (res.data) {\n      if (res.data.hasOwnProperty('deri_reward')) {\n        setYourDeri(res.data.deri_reward)\n        setYourRank(res.data.rank)\n      } else {\n        setYourDeri(0)\n        setYourRank('>999')\n      }\n    }\n  }\n\n  const mintDeri = async () => {\n    if ((+claimInfo.unclaimed) === 0) {\n      alert(lang['no-deri-to-claim']);\n      return;\n    }\n    if (!eqInNumber(wallet.detail.chainId, claimInfo.chainId)) {\n      alert(`${lang['your-deri-is-on']} ${config.text}  ${lang['connect-to']} ${config.text} ${lang['to-claim']}.`)\n      return;\n    }\n    let now = parseInt(Date.now() / 1000) % (3600 * 8);\n    if (now < 1800) {\n      alert(lang['claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch']);\n      return;\n    }\n    const res = await mintDToken(wallet.detail.chainId, wallet.detail.account)\n    if (res.success) {\n      clearInterval(claimInfoInterval);\n      return true;\n    } else {\n      alert(lang['claim-failed'])\n      return false;\n    }\n  }\n\n  const upPage = () => {\n    let page = currentPage\n    if (page != 1) {\n      page -= 1;\n    }\n    setCurrentPage(page)\n  }\n\n  const downPage = () => {\n    let page = currentPage\n    if (page < sumPage) {\n      page += 1;\n    }\n    setCurrentPage(page)\n  }\n\n  useEffect(() => {\n    if (totList.length) {\n      let sum_page = totList.length / 10;\n      sum_page = Math.ceil(sum_page)\n      let data = totList.slice((currentPage - 1) * 10, currentPage * 10)\n      setSumPage(sum_page);\n      setList(data);\n    }\n\n  }, [wallet.detail, totList, currentPage])\n  useEffect(() => {\n    if(hasConnectWallet()){\n      rewardList();\n      topList();\n      totalReward();\n    }\n  }, [wallet.detail])\n  return (\n    <div className='broker'>\n      <div className='title'>\n        {lang['title-one']}\n        <br />\n        {lang['title-two']}\n      </div>\n      <div className='rewards'>\n        <div className='reward-box'>\n          <div className='rewards-left'>\n            <div className='rewards-one'>\n              <div className='num'>\n                <span>\n                  <DeriNumberFormat value={firstDeri} displayType='text' thousandSeparator={true} decimalScale='2' />\n                </span> DERI\n              </div>\n              <div className='one'>\n                # 1 {lang['rewards']}\n              </div>\n            </div>\n            <div className='rewards-three'>\n              <div className='num'>\n                <span>\n                  <DeriNumberFormat value={thirdDeri} displayType='text' thousandSeparator={true} decimalScale='2' />\n                </span>  DERI\n              </div>\n              <div className='one'>\n                # 3 {lang['rewards']}\n              </div>\n            </div>\n          </div>\n          <div className='rewards-right'>\n            <div className='rewards-two'>\n              <div className='num'>\n                <span>\n                  <DeriNumberFormat value={secondDeri} displayType='text' thousandSeparator={true} decimalScale='2' />\n                </span> DERI\n              </div>\n              <div className='one'>\n                # 2 {lang['rewards']}\n              </div>\n            </div>\n            <div className='rewards-frou'>\n              <div className='num'>\n                <span>\n                  {yourRank}\n                </span>\n              </div>\n              <div className='one'>\n                {lang['your-rewards']}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-box\"></div>\n      </div>\n      <div className='process'>\n        <div className='invite'>\n          {lang['invute-friends']}\n        </div>\n        <div className='proce'></div>\n        <div className='bind'>\n          {lang['bind-address']}\n        </div>\n        <div className='proce'></div>\n        <div className='earn'>\n          {lang['earn-deri']}\n        </div>\n      </div>\n      <div className='rules'>\n        <div>\n\n        </div>\n        <div>\n          <a>{lang['detailed-rules']} >></a>\n        </div>\n      </div>\n      <div className='my-harvest'>\n        <div className='header'>\n          {lang['my-harvest']}\n        </div>\n        <div className='list'>\n          <div className='my-deri'>\n            <div className='claim-deri'>\n              <div className='claimed-deri'>\n                <div className='claimed-title'>\n                  {lang['claimed-deri']}\n                </div>\n                <div className='unclaimed-title'>\n                  {lang['unclaimed-deri']}\n                </div>\n              </div>\n              <div className='unclaimed-deri'>\n                <div className='claimed-num'>\n                  <DeriNumberFormat value={(+yourDeri).toFixed(2)} displayType='text' thousandSeparator={true} decimalScale='2' />\n                </div>\n                <div className='unclaimed-num'>\n                  <DeriNumberFormat value={(+claimInfo.unclaimed).toFixed(2)} displayType='text' thousandSeparator={true} decimalScale='2' />\n                </div>\n              </div>\n            </div>\n            <div className='button'>\n              <Button className='btn' btnText={lang['claim']} lang={lang} click={mintDeri}></Button>\n            </div>\n          </div>\n          <div className='address-list'>\n            <div className='list-title'>\n              <div className='time-invited'>{lang['time-invited']}</div>\n              <div className='friends-add'>{lang['friends-add']}</div>\n              <div className='contract-vol'>{lang['contract-vol']}</div>\n              <div className='deri-minted'>{lang['deri-minted']}</div>\n            </div>\n            {list.map((list, index) => <div className='list-box' key={index} >\n              <div className='time'>\n                {dateFormat.asString('yyyy-MM-dd hh:mm', new Date(parseInt(list.trader_invite_timestamp)))}\n              </div>\n              <div className='address'>{list.trader_address}</div>\n              <div className='volume'>{list.trader_volume}</div>\n              <div className='deri'>\n                <DeriNumberFormat value={list.deri_reward} displayType='text' thousandSeparator={true} decimalScale='2' />\n              </div>\n            </div>)}\n          </div>\n          <div className='page-of'>\n            <div onClick={upPage}><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"9.6\" height=\"8\" viewBox=\"0 0 9.6 8\">\n              <path id=\"路径_3\" data-name=\"路径 3\" d=\"M3186.224,481.353a.4.4,0,1,1,.552.58l-3.069,2.91h7.993a.4.4,0,1,1,0,.8h-7.98l3.056,2.91a.4.4,0,0,1-.552.58l-3.49-3.324a.8.8,0,0,1,.007-1.138Z\" transform=\"translate(-3182.5 -481.243)\" fill=\"#aaa\" />\n            </svg>\n            </div>\n            <div className='page'>{lang['page']} {currentPage} {lang['of']} {sumPage}</div>\n            <div onClick={downPage}><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"9.6\" height=\"8\" viewBox=\"0 0 9.6 8\">\n              <path id=\"路径_4\" data-name=\"路径 4\" d=\"M3268.376,481.353a.4.4,0,0,0-.552.58l3.069,2.91H3262.9a.4.4,0,0,0,0,.8h7.98l-3.056,2.91a.4.4,0,0,0,.552.58l3.49-3.324a.8.8,0,0,0-.007-1.138Z\" transform=\"translate(-3262.5 -481.243)\" fill=\"#aaa\" />\n            </svg>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default inject('wallet')(observer(Broker))\n","import Borker from '../../../components/Broker/Broker'\nimport \"./Broker.less\"\nexport default function Borker_des({lang}){\n  return (\n    <Borker lang={lang}/>\n  )\n}"],"sourceRoot":""}