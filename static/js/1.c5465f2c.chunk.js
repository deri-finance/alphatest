(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[1],{611:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var a=c(0),n=c.n(a),i=c(1),s=c(17),l=c(4),r=c(18);function o(e){var t=e.btnText,c=e.className,a=e.disabled,o=e.click,d=e.afterClick,j=e.checkApprove,b=e.wallet,u=e.spec,A=e.lang,m=Object(l.useState)(a?"disabled":"enabled"),O=Object(s.a)(m,2),x=O[0],p=O[1],f=Object(l.useState)(!0),h=Object(s.a)(f,2),g=h[0],v=h[1],N=Object(l.useState)(!1),w=Object(s.a)(N,2),y=w[0],k=w[1],C=Object(l.useState)(t),S=Object(s.a)(C,2),D=S[0],I=S[1],B=Object(l.useRef)(null),M=function(){var e=Object(i.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("enabled"===x){e.next=2;break}return e.abrupt("return");case 2:return Q(),e.next=5,o();case 5:e.sent&&d&&d(),E();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){p("disabled"),k(!0),B.current&&(B.current.style.display="inline-block")},E=function(){B.current&&(B.current.style.display="none"),p("enabled"),k(!1)},T=function(){var e=Object(i.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(j&&b&&b.detail.account)){e.next=5;break}return e.next=3,b.isApproved(u.pool,u.bTokenId);case 3:t=e.sent,v(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(i.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(),e.next=3,b.approve(u.pool,u.bTokenId);case 3:e.sent.success?v(!0):(v(!1),alert(A["approve-failed"])),E();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){return T(),function(){}}),[b,u,j]),Object(l.useEffect)((function(){return t&&I(t),function(){}}),[t]),Object(r.jsxs)("button",{className:c,onClick:function(){g?M():F()},children:[Object(r.jsx)("span",{className:"btn-loading-wrap",children:Object(r.jsx)("span",{ref:B,className:"spinner spinner-border spinner-border-sm",style:{display:"none",marginRight:"2"}})}),y?A.pending:g?D:A.approve]})}},612:function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));var a=c(4),n=c(613),i=c(18);function s(e){const[t,c]=Object(a.useState)("--");return Object(a.useEffect)((()=>{const{allowZero:t,...a}=e;return("object"!==typeof e.value&&void 0!==e.value&&""!==e.value&&"NaN"!==e.value||0===(isNaN(e.value)&&Math.abs(e.value))&&!0===t)&&c(Object(i.jsx)(n.a,{...a,displayType:"text"})),()=>{}}),[e.value]),t}},615:function(e,t,c){"use strict";var a=c(4),n=c(18);t.a=function(e){const t=Object(a.useRef)(null);return Object(a.useEffect)((()=>{const e=t.current;if(e){e.querySelectorAll("[title]").forEach((t=>{const c=`hover-box-${(new Date).getTime()}`;let a=document.body.querySelector(`#${c}`);t.addEventListener("mouseover",(e=>{a||(a=document.createElement("div"),a.style.cssText=`z-index : 1;min-width : 100px;max-width : ${window.screen.width}px ;font-size : 12px ;position : absolute;background-color: #2c2d31;border: 1px solid #AAAAAA;color: #AAAAAA;border-radius: 10px;padding: 4px;`,document.body.appendChild(a),a.innerText=e.currentTarget.getAttribute("title"),e.currentTarget.setAttribute("title","")),a.id=c,a.style.display="block";const t=e.currentTarget.getBoundingClientRect();if(a.style.top=`${t.y+t.height+window.document.documentElement.scrollTop}px`,a.offsetWidth+e.pageX>window.screen.width)if(e.pageX-a.offsetWidth>=0)a.style.left=e.pageX-a.offsetWidth+"px";else{const t=e.pageX-a.offsetWidth/2>0?e.pageX-a.offsetWidth/2:0;a.style.left=`${t}px`}else a.style.left=`${e.pageX}px`})),e.addEventListener("mouseout",(e=>{a&&(a.style.display="none")}))}))}return()=>{t.current=null}}),[]),e.block?Object(n.jsx)("div",{ref:t,children:e.children}):Object(n.jsx)("span",{ref:t,children:e.children})}},619:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var a=c(4);function n(e){return Object(a.useEffect)((function(){return document.querySelector("body").style.overflow="hidden",function(){e||(document.querySelector("body").style.overflow="auto")}}),[]),null}},620:function(e,t,c){"use strict";t.a="data:image/png;base64,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"},621:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var a=c(4),n=c(15),i=c(613),s=c(611),l=c(619),r=c(18);function o({wallet:e,spec:t={},onClose:c,balance:o,afterDeposit:d,nested:j,lang:b}){const[u,A]=Object(a.useState)(""),[m,O]=Object(a.useState)(""),[x,p]=Object(a.useState)(""),[f,h]=Object(a.useState)(!1);Object(l.a)(j);return Object(a.useEffect)((()=>((()=>{if(o){const e=(+o).toFixed(2),t=e.indexOf(".")>0?e.substring(e.indexOf(".")+1,e.length):"0";A(o),O(t)}})(),()=>{})),[o]),Object(r.jsx)("div",{className:"modal fade",children:Object(r.jsx)("div",{className:"modal-dialog",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsxs)("div",{className:"modal-header",children:[Object(r.jsx)("div",{className:"title",children:b["deposit-margin"]}),Object(r.jsx)("div",{className:"close","data-dismiss":"modal",onClick:()=>{f||c()},children:Object(r.jsx)("span",{children:"\xd7"})})]}),Object(r.jsx)("div",{className:"modal-body",children:Object(r.jsxs)("div",{className:"margin-box-info",children:[Object(r.jsx)("div",{children:b["wallet-balance"]}),Object(r.jsxs)("div",{className:"money",children:[Object(r.jsxs)("span",{children:[Object(r.jsxs)("span",{className:"bt-balance",children:[Object(r.jsx)(i.a,{value:u,displayType:"text",decimalScale:0}),".",Object(r.jsx)("span",{style:{fontSize:"12px"},children:m})]}),Object(r.jsx)("br",{}),Object(r.jsx)("span",{style:{fontSize:"14px",marginLeft:"10px",marginTop:"10px"},children:t.bTokenSymbol})]}),Object(r.jsx)("span",{className:"add"})]}),Object(r.jsxs)("div",{className:"enter-margin",children:[Object(r.jsx)("div",{className:"input-margin",children:Object(r.jsxs)("div",{className:"box",children:[Object(r.jsx)("div",{className:"amount",style:{display:""!==x?"block":"none"},children:b.amount}),Object(r.jsx)("input",{type:"number",className:"margin-value",placeholder:b.amount,value:x,onChange:e=>{const{value:t}=e.target;p(t)}})]})}),Object(r.jsx)("div",{children:t.bTokenSymbol})]}),Object(r.jsxs)("div",{className:"max",children:[b["max-add"],": ",Object(r.jsx)("span",{className:"max-num",children:o}),Object(r.jsx)("span",{className:"max-btn-left",onClick:()=>{p(o)},children:b["add-all"]})]}),Object(r.jsx)("div",{className:"add-margin-btn",children:Object(r.jsx)(s.a,{className:"margin-btn",btnText:b.deposit,checkApprove:!0,wallet:e,spec:t,lang:b,click:()=>(async a=>{const i=Object(n.e)(o);if(Object(n.e)(a).gt(i))return void alert(b["insufficient-balance-in-wallet"]);if(+a<=0||isNaN(a))return void alert(b["it-has-to-be-greater-than-zero-tip"]);h(!0),(await Object(n.h)(e.detail.chainId,t.pool,e.detail.account,a,t.bTokenId)).success?(d(),c()):alert(b["deposit-failed"]),h(!1)})(x)})})]})})]})})})}},624:function(e,t,c){"use strict";c.d(t,"a",(function(){return A}));var a=c(0),n=c.n(a),i=c(1),s=c(17),l=c(4),r=c(15),o=c(611),d=c(612),j=c(33),b=c(619),u=c(18);function A(e){var t=e.wallet,c=e.spec,a=void 0===c?{}:c,A=e.position,m=e.onClose,O=e.afterWithdraw,x=e.availableBalance,p=e.nested,f=e.lang,h=Object(l.useState)(""),g=Object(s.a)(h,2),v=g[0],N=g[1],w=Object(l.useState)(""),y=Object(s.a)(w,2),k=y[0],C=y[1],S=Object(l.useState)(""),D=Object(s.a)(S,2),I=D[0],B=D[1],M=Object(l.useState)(!1),Q=Object(s.a)(M,2),E=Q[0],T=Q[1];Object(b.a)(p);var F=function(){var e=Object(i.a)(n.a.mark((function e(){var c,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isConnected()&&x&&(N(c=x),a=c.indexOf("."),C(a>0?c.substring(a+1,a+3):"00"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(i.a)(n.a.mark((function e(){var c,i,s,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=Object(j.b)(v),!Object(j.b)(I).gt(c)){e.next=5;break}return alert(f["under-margin"]),e.abrupt("return");case 5:if(!(+I<=0||isNaN(I))){e.next=8;break}return alert(f["it-has-to-be-greater-than-zero-tip"]),e.abrupt("return");case 8:return T(!0),i=c.eq(I),e.next=12,Object(r.cb)(t.detail.chainId,a.pool,t.detail.account,I,a.bTokenId,i);case 12:(s=e.sent).success?(O(),m()):(l="string"===typeof s.error?s.error:s.error.errorMessage||s.error.message,alert(l)),T(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){return F(),function(){}}),[t.detail.account,A.margin,A.unrealizedPnl]),Object(u.jsx)("div",{className:"modal fade",id:"removeMargin",children:Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("div",{className:"title",children:f["withdraw-margin"]}),Object(u.jsx)("div",{className:"close",onClick:function(){E||m()},children:Object(u.jsx)("span",{children:"\xd7"})})]}),Object(u.jsx)("div",{className:"modal-body",children:Object(u.jsxs)("div",{className:"margin-box-info",children:[Object(u.jsx)("div",{children:f["available-balance"]}),Object(u.jsxs)("div",{className:"money",children:[Object(u.jsx)("span",{children:Object(u.jsxs)("span",{className:"bt-balance",children:[Object(u.jsx)(d.a,{value:v,thousandSeparator:!0,decimalScale:0}),".",Object(u.jsx)("span",{style:{fontSize:"12px"},children:k})]})}),Object(u.jsx)("span",{className:"remove"})]}),Object(u.jsxs)("div",{className:"enter-margin remv",children:[Object(u.jsx)("div",{className:"input-margin",children:Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("div",{className:"amount",style:{display:""!==I?"block":"none"},children:f.amount}),Object(u.jsx)("input",{type:"number",className:"margin-value",value:I,onChange:function(e){var t=e.target.value;B(t)},placeholder:f.amount})]})}),Object(u.jsx)("div",{children:a.baseToken})]}),0===+A.marginHeld&&Object(u.jsxs)("div",{className:"max",children:[f.max,": ",Object(u.jsx)("span",{className:"max-num",children:v||A.margin}),Object(u.jsx)("span",{className:"max-btn-left",onClick:function(){B(x)},children:f["remove-all"]})]}),+A.volume>0&&Object(u.jsxs)("div",{className:"max",children:[Object(u.jsx)("span",{className:"max-num"}),Object(u.jsx)("span",{className:"max-btn-left",children:" "})]}),Object(u.jsx)("div",{className:"add-margin-btn",children:Object(u.jsx)(o.a,{className:"margin-btn",btnText:f.withdraw,lang:f,click:P,checkApprove:!0,wallet:t,spec:a})})]})})]})})})}},625:function(e,t,c){"use strict";c.d(t,"a",(function(){return h}));var a=c(52),n=c(0),i=c.n(n),s=c(1),l=c(17),r=c(4),o=c(153),d=c(621),j=c(624),b=c(626),u=c(627),A=c(612),m=c(15),O=c(619),x=c(18),p=Object(o.a)(d.a),f=Object(o.a)(j.a);function h(e){var t=e.wallet,c=e.spec,n=e.afterDepositAndWithdraw,o=e.position,d=e.onClose,j=e.lang,h=Object(r.useState)([]),g=Object(l.a)(h,2),v=g[0],N=g[1],w=parseInt((document.body.offsetHeight-140)/54),y=Object(r.useState)(Array.from({length:w})),k=Object(l.a)(y,2),C=k[0],S=k[1],D=Object(r.useState)(!1),I=Object(l.a)(D,2),B=I[0],M=I[1],Q=Object(r.useState)(!1),E=Object(l.a)(Q,2),T=E[0],F=E[1],P=Object(r.useState)(""),R=Object(l.a)(P,2),Y=R[0],J=R[1],G=Object(r.useState)(""),H=Object(l.a)(G,2),L=H[0],z=H[1],Z=Object(r.useState)(""),q=Object(l.a)(Z,2),U=q[0],V=q[1],W=Object(r.useState)(""),K=Object(l.a)(W,2),X=K[0],$=K[1];Object(O.a)();var _=function(){var e=Object(s.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.detail.account||!c){e.next=6;break}return e.next=3,Object(m.y)(t.detail.chainId,c.pool,t.detail.account,c.symbolId);case 3:a=e.sent,N(a),a.length<w&&S(Array.from({length:w-a.length}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){return _(),window.scrollTo(0,0),function(){}}),[t.detail.account,c]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"modal fade",children:Object(x.jsx)("div",{className:"modal-dialog",children:Object(x.jsxs)("div",{className:"modal-content",children:[Object(x.jsxs)("div",{className:"modal-header",children:[Object(x.jsx)("div",{className:"title",children:j["balance-in-contract-uppercase"]}),Object(x.jsx)("div",{className:"close","data-dismiss":"modal",onClick:function(){n(),d()},children:Object(x.jsx)("span",{children:"\xd7"})})]}),Object(x.jsx)("div",{className:"modal-body",children:Object(x.jsxs)("div",{className:"balance-list",children:[Object(x.jsxs)("div",{className:"row header",children:[Object(x.jsx)("span",{className:"btoken pc",children:j["base-token"]}),Object(x.jsx)("span",{className:"btoken mobile",children:j["base-token"]}),Object(x.jsx)("span",{className:"w-balance pc",children:j["wallet-balance"]}),Object(x.jsx)("span",{className:"w-balance mobile",children:j["wallet-balance"]}),Object(x.jsx)("span",{className:"avail-balance pc",children:j["available-balance"]}),Object(x.jsx)("span",{className:"avail-balance mobile",children:j["available-balance"]})]}),v.map((function(e,t){return Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("span",{className:"btoken",children:e.bTokenSymbol}),Object(x.jsx)("span",{className:"w-balance",children:Object(x.jsx)(A.a,{value:e.walletBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(x.jsx)("span",{className:"avail-balance",children:Object(x.jsx)(A.a,{value:e.availableBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(x.jsxs)("span",{className:"action",children:[Object(x.jsxs)("span",{className:"add-margin",id:"openAddMargin",onClick:function(){return function(e,t,c){J(e),V(t),$(c),M(!0)}(e.walletBalance,e.bTokenId,e.bTokenSymbol)},children:[Object(x.jsx)("img",{src:b.a,alt:j["add-margin"]})," ",j.add]}),Object(x.jsxs)("span",{className:"remove-margin",onClick:function(){return function(e,t,c){z(e),V(t),$(c),F(!0)}(e.availableBalance,e.bTokenId,e.bTokenSymbol)},children:[Object(x.jsx)("img",{src:u.a,alt:j["remove-margin"]})," ",j.remove]})]})]},t)})),C.map((function(e,t){return Object(x.jsx)("div",{className:"row"},t)}))]})})]})})}),Object(x.jsx)(p,{wallet:t,onClose:function(){return M(!1)},balance:Y,spec:Object(a.a)(Object(a.a)({},c),{},{bTokenId:U,bTokenSymbol:X}),position:o,modalIsOpen:B,afterDeposit:function(){M(!1),_()},className:"trading-dialog",nested:!0,lang:j}),Object(x.jsx)(f,{wallet:t,onClose:function(){return F(!1)},spec:Object(a.a)(Object(a.a)({},c),{},{bTokenId:U,bTokenSymbol:X}),position:o,modalIsOpen:T,afterWithdraw:function(){F(!1),_()},availableBalance:L,className:"trading-dialog",nested:!0,lang:j})]})}},626:function(e,t,c){"use strict";t.a=c.p+"static/media/remove-margin.1ccb58c4.svg"},627:function(e,t,c){"use strict";t.a=c.p+"static/media/add-margin.8b496dd1.svg"},631:function(e,t,c){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAASCAYAAAC5DOVpAAAACXBIWXMAAAsSAAALEgHS3X78AAAArUlEQVQ4ja2UUQ0CMQxAHwQBOEACSDgJOMDCOWAoOAuggElAAjg5FJQ0lMuyDHIbfUmzj3Zv3ZoMEfkWQd4Ey/cisvtRz5L5rIFoa5EambIBbl4yZQucvWTKAei9ZMoA7P+VnYCFRUwTq6xQT7o29WmdBUBsjXZyDdP+0jU1eWntrIRO6uElG4EOeHrIUuE4V5ZPM+dugb1laO2sGldZes2jRTv2sX0+wlaCiPACF2WaE4qSlAwAAAAASUVORK5CYII="},632:function(e,t,c){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABO0lEQVQ4jaVV223DMAy8BvmvRvAG8QgeISN4lIyQDeoRMoK7gUfQBnUnYMH0LmAU2YETAoQhPs4niWd/mBkWLAE4AmiK9ATgstS0q8QcaADwA6Cv5E4AZj4fzRkG78xsNrOLmTVFrqyb6CnmYlFr/9avAJU+mFmOoCpIZLYFTO6gYwk4cJtbwUQmi4wC9uTMnnnP84QW4xtg8iupHedsrIxNCrG+GKGWsxhrvh1rT8AcwBz8wKaOw/3F/MzB9ppPPttysHNYq0GK0PqXnhnLoebO9oFZ3N7IbaupKwA61p2Lo7peylE39IZrUpJAZsrpVdCT5jgGXmXZREIxMVExW1Xifefax0ESGsovyAozB7uTbO2NrpqbNhdY+RH5Nm/MlgDl0qabv0CumLOqXuLaL8DNVVT7BfhwPxqAP4UiW3Wp1wTfAAAAAElFTkSuQmCC"},633:function(e,t,c){"use strict";var a=c(17),n=c(4),i=(c(691),c(610)),s=c.n(i),l=c(46),r=c(18);t.a=Object(l.b)("version","wallet","type")(Object(l.c)((function(e){var t=e.lang,c=e.version,i=e.wallet,l=e.type,o=Object(n.useState)("main"),d=Object(a.a)(o,2),j=d[0],b=d[1],u=s()("area-picker-wrapper",j),A=Object(n.useState)({}),m=Object(a.a)(A,2),O=m[0],x=m[1],p=function(e){b(e),"innovation"===e?c.setCurrent("v2_lite"):"main"===e?c.setCurrent("v2"):c.setCurrent("v2_lite_open")};return Object(n.useEffect)((function(){return p("main"),i.supportOpen?x({width:"".concat(100/3,"%")}):x({width:"".concat(50,"%")}),function(){}}),[i.detail]),(c.isV2||c.isV2Lite||c.isOpen)&&i.supportInnovation&&!l.isOption?Object(r.jsx)("div",{className:"area-picker",children:Object(r.jsxs)("div",{className:u,children:[Object(r.jsx)("span",{className:"left",style:O,onClick:function(){return p("main")},children:t["main-zone"]}),Object(r.jsx)("span",{className:"middle",style:O,onClick:function(){return p("innovation")},children:t["innovation-zone"]}),i.supportOpen&&Object(r.jsx)("span",{className:"right",style:O,onClick:function(){return p("open")},children:t["open-zone"]})]})}):null})))},645:function(e,t,c){"use strict";var a=c(4),n=c(15),i=c(610),s=c.n(i),l=c(153),r=c(621),o=c(624),d=c(612),j=c(33),b=c(46),u=c(625),A=c(627),m=c(626),O=c(631),x=c(632),p=c.p+"static/media/close-position-icon.6e2b1ee2.svg",f=c(615),h=c(18);const g=Object(l.a)(r.a),v=Object(l.a)(o.a),N=Object(l.a)(u.a);function w({trading:e,wallet:t,lang:c}){const[n,i]=Object(a.useState)(Object(h.jsx)("span",{}));return Object(a.useEffect)((()=>{let a="";t.isConnected()&&e.position.liquidationPrice&&(e.position.liquidationPrice.numPositions>1?e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?a=Object(h.jsxs)("span",{children:[Object(h.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1}),Object(h.jsx)("span",{children:" / "}),Object(h.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})]}):e.position.liquidationPrice.price1||e.position.liquidationPrice.price2?!e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?a=Object(h.jsxs)("span",{children:[Object(h.jsx)(f.a,{block:!1,children:Object(h.jsx)("span",{className:"funding-fee",title:c["liq-price-hover"],children:" ? "})}),Object(h.jsx)("span",{children:" / "}),Object(h.jsxs)("span",{children:[" ",Object(h.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})," "]})]}):e.position.liquidationPrice.price1&&!e.position.liquidationPrice.price2&&(a=Object(h.jsxs)("span",{children:[Object(h.jsxs)("span",{children:[" ",Object(h.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1})," "]}),Object(h.jsx)("span",{children:" / "}),Object(h.jsx)(f.a,{block:!1,children:Object(h.jsx)("span",{className:"funding-fee",title:c["liq-price-hover"],children:" ? "})})]})):a=Object(h.jsxs)("span",{children:[Object(h.jsx)(f.a,{block:!1,children:Object(h.jsx)("span",{className:"funding-fee",title:c["liq-price-hover"],children:" ? "})}),Object(h.jsx)("span",{children:" / "}),Object(h.jsx)(f.a,{block:!1,children:Object(h.jsx)("span",{className:"funding-fee",title:c["liq-price-hover"],children:" ? "})})]}):e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?a=Object(h.jsxs)("span",{children:[Object(h.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1}),Object(h.jsx)("span",{children:" / "}),Object(h.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})]}):e.position.liquidationPrice.price1||e.position.liquidationPrice.price2?!e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?a=Object(h.jsxs)("span",{children:[Object(h.jsx)("span",{children:" -- "}),Object(h.jsx)("span",{children:" / "}),Object(h.jsxs)("span",{children:[" ",Object(h.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})," "]})]}):e.position.liquidationPrice.price1&&!e.position.liquidationPrice.price2&&(a=Object(h.jsxs)("span",{children:[Object(h.jsxs)("span",{children:[" ",Object(h.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1})," "]}),Object(h.jsx)("span",{children:" / "}),Object(h.jsx)("span",{children:" -- "})]})):a=Object(h.jsxs)("span",{children:[Object(h.jsx)("span",{children:" -- "}),Object(h.jsx)("span",{children:" / "}),Object(h.jsx)("span",{children:" -- "})]}),i(a))}),[e.position,t.detail]),Object(h.jsx)("span",{children:n})}var y=Object(b.b)("wallet","trading","version","type")(Object(b.c)((function({wallet:e,trading:t,version:c,lang:i,type:l}){const[r,o]=Object(a.useState)(!1),[b,u]=Object(a.useState)(""),[y,k]=Object(a.useState)(""),[C,S]=Object(a.useState)(""),[D,I]=Object(a.useState)(!1),[B,M]=Object(a.useState)(!1),[Q,E]=Object(a.useState)(!1),[T,F]=Object(a.useState)(""),P=async()=>{if(e.isConnected()&&t.config){const c=await Object(n.L)(e.detail.chainId,t.config.pool,e.detail.account,t.config.bTokenId).catch((e=>console.error("load balance error,maybe network is wrong")));c&&F(c)}},R=()=>{t.refresh(),P()},Y=s()("Direction","info-num",{LONG:+t.position.volume>0,SHORT:+t.position.volume<0});return Object(a.useEffect)((()=>(P(),()=>{})),[e.detail.account,t.config]),Object(a.useEffect)((()=>{if(t.position){const{position:e}=t,c=+e.volume>0?i.long:Object(j.d)(e.volume,0)||!e.volume?"--":i.short;u(c),k(Object(n.e)(e.margin).plus(e.unrealizedPnl).toString()),S(Object(n.e)(e.margin).plus(e.unrealizedPnl).minus(e.marginHeld).toString())}return()=>{}}),[t.position.volume,t.position.margin,t.position.unrealizedPnl]),Object(h.jsxs)("div",{className:"position-info",children:[Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"info-left",children:[Object(h.jsx)("div",{className:"title-text",children:i.position}),Object(h.jsx)("div",{className:"info-num",children:Object(h.jsx)(d.a,{value:t.position.volume,allowZero:!0})})]}),Object(h.jsx)("div",{className:"info-right",children:Object(h.jsxs)("div",{className:"close-position",id:"close-p",onClick:async()=>{o(!0);const c=await Object(n.f)(e.detail.chainId,t.config.pool,e.detail.account,t.config.symbolId).finally((()=>o(!1)));c.success?R():"string"===typeof c.error?alert(c.error||i["close-position-failed"]):"object"===typeof c.error?alert(c.error.errorMessage||i["close-position-failed"]):alert(i["close-position-failed"])},children:[Object(h.jsx)("span",{className:"spinner spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{display:r?"block":"none"}}),Object(h.jsx)("img",{src:p})," ",i.close]})})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"info-left",children:[Object(h.jsx)("div",{className:"title-text",children:i["average-entry-price"]}),Object(h.jsx)("div",{className:"info-num",children:Object(h.jsx)(d.a,{value:t.position.averageEntryPrice,decimalScale:2})})]}),Object(h.jsx)("div",{className:"info-right"})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"info-left",children:[Object(h.jsx)("div",{className:"title-text balance-con",children:c.isV1||c.isV2Lite||l.isOption?Object(h.jsxs)(h.Fragment,{children:[i["balance-in-contract"],Object(h.jsx)("br",{})," (",i["dynamic-balance"],")"]}):i["dynamic-effective-balance"]}),Object(h.jsx)("div",{className:"info-num",children:Object(h.jsx)(d.a,{decimalScale:2,allowZero:!0,value:y})})]}),Object(h.jsx)("div",{className:`info-right action ${c.current}`,children:c.isV1||c.isV2Lite||l.isOption?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"add-margin",id:"openAddMargin",onClick:()=>M(!0),children:[Object(h.jsx)("img",{src:m.a,alt:"add margin"})," ",i.add]}),Object(h.jsxs)("div",{className:"remove-margin",onClick:()=>E(!0),children:[Object(h.jsx)("img",{src:A.a,alt:"add margin"})," ",i.remove]})]}):Object(h.jsxs)("div",{onClick:()=>I(!0),children:[Object(h.jsx)("img",{src:O.a,alt:"Remove margin"})," ",i.detail]})})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"info-left",children:[Object(h.jsx)("div",{className:"title-text",children:i.direction}),Object(h.jsx)("div",{className:Y,children:b})]}),Object(h.jsx)("div",{className:"info-right"})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"info-left",children:[Object(h.jsx)("div",{className:"title-text",children:i.margin}),Object(h.jsx)("div",{className:"info-num",children:Object(h.jsx)(d.a,{value:t.position.marginHeld,decimalScale:2})})]}),Object(h.jsx)("div",{className:"info-right"})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"info-left",children:[Object(h.jsx)("div",{className:"title-text",children:i["unrealized-pnl"]}),Object(h.jsx)("div",{className:"info-num",children:Object(h.jsxs)("span",{className:"pnl-list",children:[Object(h.jsx)(d.a,{value:t.position.unrealizedPnl,decimalScale:8}),(t.position.unrealizedPnlList?(c.isV2||c.isV2Lite)&&t.position.unrealizedPnlList.length:c.isV2||c.isV2Lite)&&Object(h.jsx)("img",{src:x.a,alt:"unrealizePnl"}),(c.isV2||c.isV2Lite)&&Object(h.jsx)("div",{className:"pnl-box",children:t.position.unrealizedPnlList&&t.position.unrealizedPnlList.map(((e,t)=>Object(h.jsxs)("div",{className:"unrealizePnl-item",children:[Object(h.jsx)("span",{children:e[0]}),Object(h.jsx)("span",{children:Object(h.jsx)(d.a,{value:e[1],decimalScale:8})})]},t)))})]})})]}),Object(h.jsx)("div",{className:"info-right"})]}),Object(h.jsxs)("div",{className:"info",children:[l.isFuture&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"info-left",children:[Object(h.jsx)(f.a,{children:Object(h.jsx)("div",{className:"title-text  funding-fee",title:i["funding-fee-tip"],children:i["funding-fee"]})}),Object(h.jsx)("div",{className:"info-num",children:Object(h.jsx)(d.a,{value:-t.position.fundingFee,decimalScale:8})})]}),Object(h.jsx)("div",{className:"info-right"})]}),l.isOption&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"info-left",children:[Object(h.jsx)(f.a,{children:Object(h.jsx)("div",{className:"title-text  funding-fee",title:i["funding-fee-tip"],children:i["funding-fee"]})}),Object(h.jsx)("div",{className:"info-num",children:Object(h.jsx)(d.a,{value:-t.position.premiumFundingAccrued,decimalScale:8})})]}),Object(h.jsx)("div",{className:"info-right"})]})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"info-left",children:[Object(h.jsx)("div",{className:"title-text",children:i["liquidation-price"]}),Object(h.jsx)("div",{className:"info-num",children:l.isOption?Object(h.jsx)(w,{trading:t,wallet:e,lang:i}):Object(h.jsx)(d.a,{decimalScale:4,value:t.position.liquidationPrice})})]}),Object(h.jsx)("div",{className:"info-right"})]}),Object(h.jsx)(g,{wallet:e,modalIsOpen:B,onClose:()=>{M(!1)},spec:t.config,afterDeposit:()=>{M(!1),R()},balance:T,className:"trading-dialog",lang:i}),Object(h.jsx)(v,{wallet:e,modalIsOpen:Q,onClose:()=>{E(!1)},spec:t.config,afterWithdraw:()=>{E(!1),R()},position:t.position,availableBalance:C,className:"trading-dialog",lang:i}),Object(h.jsx)(N,{wallet:e,modalIsOpen:D,onClose:()=>{I(!1)},spec:t.config,afterDepositAndWithdraw:()=>{R()},position:t.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:i})]})}))),k=c(0),C=c.n(k),S=c(1),D=c(17),I=c(616),B=c.n(I),M=c(613);var Q=c(93),E=c(620),T=Q[n.a.get()].chainInfo;function F(e){var t=e.wallet,c=e.his,n=Object(a.useState)(!1),i=Object(D.a)(n,2),l=i[0],r=i[1],o=function(){r(!0)},d=function(){r(!1)},j=s()("view",{hover:l});return Object(h.jsxs)("span",{className:j,onMouseOut:d,children:[Object(h.jsx)("span",{className:"view-space",onMouseOver:o,children:Object(h.jsxs)("a",{target:"_blank",rel:"noreferrer",href:"".concat(T[t.detail.chainId].viewUrl,"tx/").concat(c.transactionHash),children:["View at ",T[t.detail.chainId].viewUrl]})}),Object(h.jsx)("span",{className:"right-arrow",onMouseOver:o,children:Object(h.jsx)("img",{alt:"",src:E.a})}),Object(h.jsx)("span",{className:"view-arrow",onMouseOver:o,onMouseOut:d,children:Object(h.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(T[t.detail.chainId].viewUrl,"tx/").concat(c.transactionHash),children:Object(h.jsx)("img",{rel:"noreferrer",alt:"",src:"data:image/svg+xml;base64,DQo8c3ZnIGZpbGw9Im5vbmUiIGhlaWdodD0iMTAiIHdpZHRoPSIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aCBkPSJNOC42NzYuNjQyYS42NS42NSAwIDAwLS4wNzIuMDA2SDQuNzkzYS42NS42NSAwIDAwLS41Ny45NzUuNjUuNjUgMCAwMC41Ny4zMjJINy4xMkwuNDM4IDguNjE0YS42NDcuNjQ3IDAgMDAuMjg2IDEuMDk2LjY1LjY1IDAgMDAuNjMyLS4xNzlMOC4wNCAyLjg2MXYyLjMyNGEuNjQ4LjY0OCAwIDAwLjk3Ny41Ny42NDguNjQ4IDAgMDAuMzIyLS41N1YxLjM4YS42NDcuNjQ3IDAgMDAtLjY2Mi0uNzM3eiIgZmlsbD0iI0FBQUFBQSIvPg0KPC9zdmc+DQoNCg=="})})})]})}var P=Object(b.b)("wallet","trading","type")(Object(b.c)((function(e){var t=e.wallet,c=e.trading,n=e.lang,i=e.type,s=Object(a.useState)([]),l=Object(D.a)(s,2),r=l[0],o=l[1];function j(){return(j=Object(S.a)(C.a.mark((function e(){var a,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isConnected()&&c.configs&&c.config&&c.contract&&(a=c.history,i=a.map((function(e){e.directionText=n["long-buy"],"SHORT"===e.direction?e.directionText=n["short-sell"]:"liquidation"===e.direction.toLowerCase()&&(e.directionText=n.liquidation);var t=c.config;return t&&(e.symbol=e.symbol?e.symbol:t.symbol,e.baseTokenText=e.baseToken?" ".concat(e.symbol," / ").concat(e.baseToken):e.symbol),e})),o(i));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){return function(){j.apply(this,arguments)}(),function(){}}),[t.detail,c.configs,c.config,c.history]),Object(h.jsxs)("div",{className:"history-info","v-show":"historyShow",children:[r.map((function(e,c){return Object(h.jsxs)("div",{className:"history-box",children:[Object(h.jsxs)("div",{className:"direction-bToken-price",children:[Object(h.jsxs)("span",{className:"direction",children:[Object(h.jsxs)("span",{className:"".concat(e.direction),children:[" ",e.directionText]}),Object(h.jsx)("span",{className:"basetoken",children:e.baseTokenText}),Object(h.jsx)(F,{wallet:t,his:e})]}),Object(h.jsx)("span",{className:"history-text time",children:B.a.asString("yyyy-MM-dd hh:mm:ss",new Date(parseInt(e.time)))})]}),Object(h.jsxs)("div",{className:"time-price-volume",children:[Object(h.jsxs)("div",{className:"history-price",children:[Object(h.jsxs)("div",{className:"history-title",children:[" ",i.isOption?n["volume-notional-price"]:n["volume-price"]]}),Object(h.jsxs)("div",{className:"history-text",children:[e.volume," @ ",Object(h.jsx)(d.a,{value:e.price,decimalScale:2,displayType:"text"})]})]}),Object(h.jsxs)("div",{className:"notional",children:[Object(h.jsxs)("div",{className:"history-title",children:[" ",i.isOption?n["contract-value"]:n.notional]}),Object(h.jsx)("div",{className:"history-text",children:Object(h.jsx)(d.a,{value:e.notional,decimalScale:4})})]}),Object(h.jsxs)("div",{className:"history-fee",children:[Object(h.jsx)("div",{className:"history-title pc",children:n["transaction-fee"]}),Object(h.jsx)("div",{className:"history-title mobile",children:n["transaction-fee"]}),Object(h.jsx)("div",{className:"history-text",children:Object(h.jsx)(d.a,{value:e.transactionFee,decimalScale:4})})]})]})]},c)})),0==r.length?Object(h.jsx)("div",{className:"no-data",children:n["no-data"]}):""]})}))),R=c(32);var Y=Object(b.b)("wallet","trading","type")(Object(b.c)((function(e){e.wallet;var t=e.trading,c=e.lang,a=e.type;return Object(h.jsxs)("div",{className:"contract-box",children:[Object(h.jsx)("div",{className:"contract-header"}),Object(h.jsxs)("div",{className:"contract-info",children:[Object(h.jsx)("div",{className:"conntract-header",children:c["contract-info"]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("div",{className:"title",children:c["base-token"]}),Object(h.jsx)("div",{className:"text",children:t.contract.bTokenSymbol&&t.contract.bTokenSymbol.map((function(e,n){return R.a.isV2&&a.isFuture?Object(h.jsx)(f.a,{children:Object(h.jsxs)("span",{className:"btoken-symbol",children:[e,"(",Object(h.jsxs)("span",{className:"multiplier",title:c["multiplier-tip"],children:[t.contract.bTokenMultiplier&&t.contract.bTokenMultiplier[n],"x"]}),")"]})},n):Object(h.jsx)("span",{className:"btoken-symbol",children:e},n)}))})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("div",{className:"title",children:c.symbol}),Object(h.jsx)("div",{className:"text",children:t.contract.symbol})]}),a.isFuture&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("div",{className:"title",children:c.multiplier}),Object(h.jsx)("div",{className:"text",children:t.contract.multiplier})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("div",{className:"title",children:c["funding-rate-coefficient"]}),Object(h.jsx)("div",{className:"text",children:t.contract.fundingRateCoefficient})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("div",{className:"title",children:c["min-initial-margin-ratio"]}),Object(h.jsx)("div",{className:"text",children:Object(h.jsx)(M.a,{displayType:"text",value:100*t.contract.minInitialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("div",{className:"title",children:c["min-maintenance-margin-ratio"]}),Object(h.jsx)("div",{className:"text",children:Object(h.jsx)(M.a,{displayType:"text",value:100*t.contract.minMaintenanceMarginRatio,decimalScale:2,suffix:"%"})})]})]}),a.isOption&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("div",{className:"title",children:c.underlier}),Object(h.jsx)("div",{className:"text",children:t.contract.underlier})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("div",{className:"title",children:c.strike}),Object(h.jsx)("div",{className:"text",children:t.contract.strike})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("div",{className:"title",children:c["option-type"]}),Object(h.jsx)("div",{className:"text",children:"C"===t.contract.optionType?"".concat(c.call):"".concat(c.put)})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"title",children:[" ",Object(h.jsxs)("span",{children:[c["min-trade-volume"]," ( ",c.notional," )"]})," "]}),Object(h.jsxs)("div",{className:"text",children:[t.contract.multiplier," ",t.config?t.config.unit:""]})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("div",{className:"title",children:Object(h.jsx)(f.a,{block:!1,children:Object(h.jsx)("span",{title:t.initialMarginRatioTip,className:"margin-per",children:c["initial-margin-ratio"]})})}),Object(h.jsx)("div",{className:"text",children:Object(h.jsx)(M.a,{displayType:"text",value:100*t.contract.initialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"title",children:[" ",Object(h.jsx)(f.a,{block:!1,children:Object(h.jsxs)("span",{title:t.maintenanceMarginRatioTip,className:"margin-per",children:[" ",c["maintenance-margin-ratio"]]})})," "]}),Object(h.jsx)("div",{className:"text",children:Object(h.jsx)(M.a,{displayType:"text",value:100*t.contract.maintenanceMarginRatio,decimalScale:2,suffix:"%"})})]})]}),Object(h.jsxs)("div",{className:"info",children:[a.isFuture&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"title",children:c["transaction-fee"]})}),a.isOption&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"title",children:Object(h.jsx)(f.a,{block:!1,children:Object(h.jsx)("span",{className:"margin-per",title:t.TransactionFeeTip,children:c["transaction-fee"]})})})}),Object(h.jsx)("div",{className:"text",children:Object(h.jsx)(M.a,{displayType:"text",value:100*t.contract.feeRatio,decimalScale:3,suffix:"%"})})]})]})]})}))),J=c(52),G=c(650),H=c(754),L=(c(689),c(690),H.b.Handle);function z(e){var t=e.value,c=(e.dragging,e.index),a=Object(G.a)(e,["value","dragging","index"]);return Object(h.jsx)(H.a,{prefixCls:"rc-slider-tooltip",overlay:t||"",placement:"top",visible:!!t,overlayStyle:{display:"block"},overlayInnerStyle:{color:"#569BDA",background:"none",display:"block",fontSize:"10px",boxShadow:"none"},children:Object(h.jsx)(L,Object(J.a)({value:t},a))},c)}function Z(e){var t=e.max,c=void 0===t?"--":t,i=e.start,l=e.onValueChange,r=e.freeze,o=e.currentSymbolMarginHeld,d=e.originMarginHeld,j=e.setStopCalculate,b=Object(a.useState)(0),u=Object(D.a)(b,2),A=u[0],m=u[1],O=Object(a.useState)(0),x=Object(D.a)(O,2),p=x[0],f=x[1],g=Object(a.useState)(!1),v=Object(D.a)(g,2),N=v[0],w=v[1],y=Object(a.useState)({}),k=Object(D.a)(y,2),C=k[0],S=k[1],I=Object(a.useState)(!1),B=Object(D.a)(I,2),M=B[0],Q=B[1],E=Object(a.useState)(!1),T=Object(D.a)(E,2),F=T[0],P=T[1];Object(a.useEffect)((function(){return w(r),0===Math.abs(c)&&w(!0),function(){}}),[r,c]),Object(a.useEffect)((function(){var e=c;return 0!==Math.abs(c)&&"--"!==c||(c=100),isNaN(e)&&m(""),c&&S(function(e){for(var t={},c=+e/10,a=0;a<=10;a++)if(0===a||10===a){var n={top:"-16px",position:"relative"};10===a&&(n.width=100,n.left="-10px",n.paddingRight="10px"),t[a*c]=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{style:n,children:10===a?(a*c).toFixed(2):a*c}),Object(h.jsx)("div",{style:{top:"-16px",position:"relative"},children:"l"})]})}else t[a*c]="l";return t}(c)),m(+c),"--"!==e&&Q(!0),0!==Math.abs(c)&&0!==Math.abs(e)||Q(!1),function(){}}),[c]),Object(a.useEffect)((function(){return F||(isNaN(i)?f(0):f(i)),function(){}}),[i]);var R=s()("deri-slider",{controlled:M});return Object(h.jsx)(H.b,{handle:z,className:R,start:i,min:0,max:A,value:p,onChange:function(e){P(!0),j(!0),f(e),l(e,!1)},onAfterChange:function(e){if(o){var t=Object(n.e)(d).minus(o);Object(n.e)(e).lt(t)&&(f(t),l(t))}P(!1),j(!1)},disabled:N,overlay:p,step:.01,marks:C})}var q=c(611),U=c(26);var V=c.p+"static/media/arrow-down.5e5e4213.svg",W=c.p+"static/media/arrow-up.d36fae6d.svg";function K(e){var t=e.symbol,c=e.trading,n=e.onSelect,i=e.index,l=e.version,r=e.type,o=Object(a.useState)(0),d=Object(D.a)(o,2),j=d[0],b=d[1],u=s()("sub-menu",{show:i===j});return Object(h.jsxs)("div",{className:"dropdown-item-wrapper",children:[Object(h.jsxs)("div",{className:"catalog",onClick:function(){return function(e){b(j===e?-1:e)}(i)},children:[t,Object(h.jsx)("span",{className:"sub-memu-icon",children:j===i?Object(h.jsx)("img",{src:W,alt:""}):Object(h.jsx)("img",{src:V,alt:""})})]}),Object(h.jsx)("div",{className:u,children:Array.isArray(c.optionsConfigs[t])&&c.optionsConfigs[t].map((function(e,t){return Object(h.jsx)("div",{className:"dropdown-item",onClick:function(){return n(e)},children:Object(h.jsx)(X,{spec:e,version:l,type:r})},t)}))},i)]},i)}function X(e){var t=e.version,c=e.spec;return e.type.isOption?"".concat(c.symbol||"BTCUSD-20000-C"):t.isV1||t.isV2Lite||t.isOpen?"".concat(c.symbol||"BTCUSD"," / ").concat(c.bTokenSymbol||"BUSD"," (10X)"):"".concat(c.symbol||"BTCUSD"," (10X)")}var $=Object(b.b)("trading","version","loading","type")(Object(b.c)((function(e){var t=e.trading,c=e.version,n=e.setSpec,i=e.spec,l=e.loading,r=e.type,o=Object(a.useState)(!1),d=Object(D.a)(o,2),j=d[0],b=d[1],u=s()("dropdown-menu",{show:j}),A=function(e){e&&(l.loading(),t.pause(),n(e),t.onSymbolChange(e,(function(){return l.loaded()}),r.isOption),b(!1))};return Object(a.useEffect)((function(){return document.body.addEventListener("click",(function(e){document.querySelector(".btn-group")&&!document.querySelector(".btn-group").contains(e.target)&&b(!1)})),function(){}}),[]),Object(h.jsxs)("div",{className:"btn-group check-baseToken-btn",children:[Object(h.jsxs)("button",{type:"button",onClick:function(e){e.preventDefault(),b(!j)},className:"btn chec",children:[Object(h.jsx)(X,{spec:i,version:c,type:r}),Object(h.jsx)("span",{className:"check-base-down",children:j?Object(h.jsx)("img",{src:W,alt:""}):Object(h.jsx)("img",{src:V,alt:""})})]}),Object(h.jsx)("div",{className:u,children:r.isFuture?t.configs.map((function(e,t){return Object(h.jsx)("div",{className:"dropdown-item",onClick:function(t){return A(e)},children:Object(h.jsx)(X,{spec:e,version:c,type:r})},t)})):Object.keys(t.optionsConfigs).map((function(e,a){return Object(h.jsx)(K,{index:a,symbol:e,trading:t,onSelect:A,version:c,type:r},a)}))})]})}))),_=(c(155),Object(l.a)((function(e){var t=e.wallet,c=e.spec,i=e.onClose,s=e.direction,l=e.volume,r=e.position,o=void 0===r?0:r,d=e.indexPrice,j=e.leverage,b=e.transFee,u=e.afterTrade,A=e.lang,m=e.markPriceAfter,O=e.trading,x=Object(a.useState)(!1),p=Object(D.a)(x,2),f=p[0],g=p[1],v=function(){var e=Object(S.a)(C.a.mark((function e(){var a,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),l=U.a.isOption?Object(n.e)(l).div(Object(n.e)(O.contract.multiplier)).toString():l,l="long"===s?l:-+l,e.next=5,Object(n.Y)(t.detail.chainId,c.pool,t.detail.account,l,c.symbolId);case 5:(a=e.sent).success?(u(),i()):(r="string"===typeof a.error?a.error:a.error.errorMessage||a.error.message,alert(r)),g(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){f||i()},w="long"===s?+l+ +o:+o-+l;return Object(h.jsx)("div",{className:"modal-dialog",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("div",{className:"title",children:A.confirm}),Object(h.jsx)("div",{className:"close","data-dismiss":"modal",onClick:N,children:Object(h.jsx)("span",{children:"\xd7"})})]}),Object(h.jsx)("div",{className:"modal-body",children:Object(h.jsxs)("div",{className:"contract-box-info",children:[Object(h.jsxs)("div",{className:"top",children:[Object(h.jsxs)("div",{className:"text",children:[Object(h.jsxs)("div",{className:"text-title",children:["# ",A["of-contracts"]]}),Object(h.jsx)("div",{className:"text-num",children:"long"===s?l:"-".concat(l)})]}),Object(h.jsxs)("div",{className:"text",children:[Object(h.jsx)("div",{className:"text-title",children:A["position-after-execution"]}),Object(h.jsx)("div",{className:"text-num",children:w})]}),Object(h.jsxs)("div",{className:"text",children:[Object(h.jsx)("div",{className:"text-title",children:A.direction}),Object(h.jsx)("div",{className:"text-num",children:Object(h.jsx)("span",{className:s,children:A[s.toLowerCase()]})})]}),U.a.isFuture&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"text",children:[Object(h.jsx)("div",{className:"text-title",children:A["trade-price-estimated"]}),Object(h.jsx)("div",{className:"text-num",children:Object(h.jsx)(M.a,{value:d,decimalScale:2,displayType:"text"})})]})}),U.a.isOption&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"text",children:[Object(h.jsx)("div",{className:"text-title",children:A["trade-price"]}),Object(h.jsx)("div",{className:"text-num",children:Object(h.jsx)(M.a,{value:m,decimalScale:2,displayType:"text"})})]})}),U.a.isFuture&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"text",children:[Object(h.jsx)("div",{className:"text-title",children:A["leverage-after-execution"]}),Object(h.jsxs)("div",{className:"text-num",children:[j,"X"]})]})}),Object(h.jsxs)("div",{className:"text",children:[Object(h.jsx)("div",{className:"text-title",children:A["transaction-fee"]}),Object(h.jsx)("div",{className:"text-num",children:Object(h.jsx)(M.a,{value:b,decimalScale:2,suffix:" ".concat(c.bTokenSymbol),displayType:"text"})})]})]}),Object(h.jsx)("div",{className:"modal-footer",children:Object(h.jsxs)("div",{className:"long-btn","v-if":"confirm",children:[Object(h.jsx)("button",{className:"cancel",onClick:N,children:A.cancel}),Object(h.jsx)(q.a,{className:"confirm",btnText:A.ok,click:v,lang:A})]})})]})})]})})}))),ee=Object(l.a)(r.a),te=Object(l.a)(u.a);function ce(e){var t=e.hasConnectWallet,c=e.wallet,i=e.spec,s=e.volume,l=e.available,r=e.baseToken,o=e.leverage,d=e.indexPrice,j=e.position,b=e.transFee,u=e.afterTrade,A=e.direction,m=e.trading,O=(e.symbolId,e.bTokenId),x=e.version,p=e.lang,f=e.type,g=e.markPriceAfter,v=Object(a.useState)(!0),N=Object(D.a)(v,2),w=N[0],y=N[1],k=Object(a.useState)(!0),I=Object(D.a)(k,2),B=I[0],M=I[1],Q=Object(a.useState)(!1),E=Object(D.a)(Q,2),T=E[0],F=E[1],P=Object(a.useState)(!1),R=Object(D.a)(P,2),Y=R[0],J=R[1],G=Object(a.useState)(""),H=Object(D.a)(G,2),L=H[0],z=H[1],Z=function(){var e=Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.approve(i.pool,O);case 2:e.sent.success?(y(!0),W()):(y(!1),alert(p["approve-failed"]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.refresh(),J(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){m.refresh(),J(!1)},W=function(){var e=Object(S.a)(C.a.mark((function e(){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t()||!i){e.next=5;break}return e.next=3,c.isApproved(i.pool,O);case 3:a=e.sent,y(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(S.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.isConnected()||!i){e.next=5;break}return e.next=3,Object(n.L)(c.detail.chainId,i.pool,c.detail.account,O).catch((function(e){return console.error("getWalletBalance was error,maybe network is Wrong")}));case 3:(t=e.sent)&&z(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){return t()&&i&&K(),function(){}}),[c.detail.account,i,l]),Object(a.useEffect)((function(){return M(!s),function(){}}),[s]),Object(a.useEffect)((function(){return i&&W(),function(){}}),[c.detail.isApproved,i]);var X=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(_,{wallet:c,className:"trading-dialog",spec:i,modalIsOpen:T,onClose:function(){return F(!1)},leverage:o,baseToken:r,volume:s,position:j.volume,indexPrice:d,transFee:b,afterTrade:u,direction:A,lang:p,markPriceAfter:g,trading:m}),Object(h.jsx)("button",{className:"short-submit",onClick:function(){return F(!0)},children:p.trade})]});return t()?w?!l||+l<=0?X=Object(h.jsxs)(h.Fragment,{children:[x.isV2&&!f.isOption?Object(h.jsx)(te,{wallet:c,modalIsOpen:Y,onClose:V,spec:m.config,afterDepositAndWithdraw:V,position:m.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:p}):Object(h.jsx)(ee,{wallet:c,modalIsOpen:Y,onClose:function(){return J(!1)},spec:i,balance:L,afterDeposit:U,className:"trading-dialog",lang:p}),Object(h.jsx)("div",{className:"noMargin-text",children:0!==+m.position.margin&&m.position.margin?p["not-enough-margin-tip"]:p["no-margin-tip"]}),Object(h.jsx)("button",{className:"short-submit",onClick:function(){return J(!0)},children:p.deposit})]}):B&&(X=Object(h.jsx)("button",{className:"btn btn-danger short-submit",children:p["enter-volume"]})):X=Object(h.jsx)(q.a,{className:"approve",btnText:p.approve,click:Z,lang:p}):X=Object(h.jsx)(q.a,{className:"btn btn-danger connect",btnText:p["connect-wallet"],click:function(){c.connect()},lang:p}),Object(h.jsx)("div",{className:"submit-btn",children:X})}var ae=Object(b.b)("wallet","trading","version","loading","type")(Object(b.c)((function(e){var t=e.wallet,c=void 0===t?{}:t,i=e.trading,l=e.version,r=e.lang,o=e.loading,j=e.type,b=Object(a.useState)("long"),u=Object(D.a)(b,2),A=u[0],m=u[1],O=Object(a.useState)(),x=Object(D.a)(O,2),p=x[0],g=x[1],v=Object(a.useState)({}),N=Object(D.a)(v,2),w=N[0],y=N[1],k=Object(a.useState)(""),I=Object(D.a)(k,2),B=I[0],M=I[1],Q=Object(a.useState)(""),E=Object(D.a)(Q,2),T=E[0],F=E[1],P=Object(a.useState)(""),R=Object(D.a)(P,2),Y=R[0],J=R[1],G=Object(a.useState)({}),H=Object(D.a)(G,2),L=H[0],z=H[1],q=Object(a.useState)("rise"),U=Object(D.a)(q,2),V=U[0],W=U[1],K=Object(a.useState)("rise"),X=Object(D.a)(K,2),_=X[0],ee=X[1],te=Object(a.useState)(!0),ae=Object(D.a)(te,2),ne=ae[0],ie=ae[1],se=Object(a.useState)(!1),le=Object(D.a)(se,2),re=le[0],oe=le[1],de=Object(a.useState)(!1),je=Object(D.a)(de,2),be=je[0],ue=je[1],Ae=Object(a.useState)(!1),me=Object(D.a)(Ae,2),Oe=(me[0],me[1],Object(a.useRef)()),xe=Object(a.useRef)(),pe=s()("checked-long","check-long-short"," long-short",{"checked-short":"short"===A}),fe=s()("contrant-input",{inputFamliy:""!==i.volume}),he=function(){return w&&w.pool},ge=function(){return c&&c.detail&&c.detail.account},ve=function(e){i.setVolume(""),m(e)},Ne=function(){var e=Object(S.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(ge()&&he()&&i.volumeDisplay)){e.next=6;break}return t=we(i.volumeDisplay),e.next=4,Object(n.n)(c.detail.chainId,w.pool,Math.abs(t),w.symbolId);case 4:a=e.sent,isNaN(a)||J((+a).toFixed(2));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(e){return j.isOption?Object(n.e)(e).div(Object(n.e)(i.contract.multiplier)).toString():e},ye=function(){var e=Object(S.a)(C.a.mark((function e(){var t,a,s,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(ge()&&he()&&i.volumeDisplay&&j.isFuture)){e.next=10;break}return t=c.detail,a="long"===A?i.volumeDisplay:-i.volumeDisplay,e.next=5,Object(n.t)(t.chainId,w.pool,w.symbolId);case 5:return s=e.sent,e.next=8,Object(n.p)(t.chainId,w.pool,a,w.symbolId);case 8:l=e.sent,s&&l&&z({curLiqUsed:s.liquidityUsed0,afterLiqUsed:l.liquidityUsed1});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(S.a)(C.a.mark((function e(){var t,a,s,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(ge()&&he()&&i.volumeDisplay)){e.next=7;break}return t=we(i.volumeDisplay),a="long"===A?t:-t,e.next=5,Object(n.o)(c.detail.chainId,w.pool,a,w.symbolId);case 5:(s=e.sent)&&(l=j.isOption?s.deltaFunding1:s.fundingRate1,M(l));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(S.a)(C.a.mark((function e(){var t,a,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(ge()&&he()&&i.volumeDisplay)){e.next=7;break}return t=we(i.volumeDisplay),a="long"===A?t:-t,e.next=5,Object(n.q)(c.detail.chainId,w.pool,a,w.symbolId);case 5:(s=e.sent)&&F(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(e){e.target.setAttribute("class","contrant-input inputFamliy")},De=function(e){j.isOption?46!==e.which&&(e.which<48||e.which>57)&&e.preventDefault():j.isFuture&&(e.which<48||e.which>57)&&e.preventDefault()},Ie=function(e){var t=e.target.value;"0"===t&&j.isFuture&&(t=""),i.setVolume(t),oe(!0)},Be=function(e){var t=e.target;if(j.isOption){var c=i.contract.multiplier.indexOf("."),a=i.contract.multiplier.slice(c).length,n=t.value;n="0"===(n=t.value.substring(0,t.value.indexOf(".")+a))?"":n,i.setVolume(n)}""===t.value&&t.setAttribute("class","contrant-input")};return Object(a.useEffect)((function(){var e;return i.position&&i.position.volume&&(e=+i.position.volume,m(e>=0?"long":"short")),function(){}}),[i.position.volume]),Object(a.useEffect)((function(){return be||""===i.volumeDisplay?c.detail.account&&i.resume():(i.pause(),ke(),j.isOption&&Ce(),ye(),Ne()),function(){}}),[i.volumeDisplay,be]),Object(a.useEffect)((function(){return Oe.current>i.index?W("fall"):W("rise"),Oe.current=i.index,function(){}}),[i.index]),Object(a.useEffect)((function(){if(j.isOption){var e=i.position.markPrice;xe.current>e?ee("fall"):ee("rise"),xe.current=e,g(e)}}),[i.index,i.position]),Object(a.useEffect)((function(){return i.config&&y(i.config),function(){}}),[i.config]),Object(a.useEffect)((function(){o.loading(),i.init(c,l,j.isOption,(function(){o.loaded()}))}),[c.detail.account,l.current,j.isOption]),Object(a.useEffect)((function(){return i.margin&&i.direction&&m(i.direction),function(){}}),[i.margin]),Object(a.useEffect)((function(){return i.index&&c.isConnected()&&c.supportChain&&ie(!1),function(){}}),[c.detail.account,i.index]),Object(a.useEffect)((function(){return re||(i.position.volume>0?i.volume<0?m("short"):m("long"):i.position.volume<0&&(i.volume>0?m("short"):m("long"))),function(){}}),[i.volume,re]),Object(a.useEffect)((function(){return i.setUserSelectedDirection(A),function(){}}),[A]),Object(h.jsx)("div",{className:"trade-info",children:Object(h.jsxs)("div",{className:"trade-peration",children:[Object(h.jsxs)("div",{className:"check-baseToken",children:[Object(h.jsx)($,{setSpec:y,spec:w,isOption:j.isOption}),Object(h.jsxs)("div",{className:j.isOption?"price-fundingRate pc options":"price-fundingRate pc",children:[j.isFuture&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"index-prcie",children:[r["index-price"],": ",Object(h.jsxs)("span",{className:V,children:["\xa0 ",Object(h.jsx)(d.a,{value:i.index,decimalScale:2})]})]})}),j.isOption&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"mark-price",children:[r["eo-mark-price"]," : ",Object(h.jsxs)("span",{className:_,children:["\xa0 ",Object(h.jsx)(d.a,{value:p,decimalScale:4})]})]}),Object(h.jsxs)("div",{className:"index-prcie",children:[i.config&&j.isOption?i.config.symbol.split("-")[0]:""," : ",Object(h.jsxs)("span",{className:"option-vol",children:["\xa0 ",Object(h.jsxs)("span",{children:[" ",Object(h.jsx)(d.a,{value:i.index,decimalScale:2})]}),Object(h.jsx)("span",{className:"vol",children:" | "}),r.vol," : ",Object(h.jsx)(d.a,{value:i.position.volatility,decimalScale:2,suffix:"%"})]})]})]}),Object(h.jsxs)("div",{className:"funding-rate",children:[j.isOption&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{children:[r["funding-rate"]," : \xa0"]}),Object(h.jsx)(f.a,{block:!1,children:Object(h.jsx)("span",{className:"funding-per",title:i.optionFundingRateTip||"",children:Object(h.jsx)(d.a,{value:i.fundingRate.premiumFunding0,decimalScale:4})})})]}),j.isFuture&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{children:[r["funding-rate-annual"]," : \xa0"]}),Object(h.jsx)(f.a,{block:!1,children:Object(h.jsx)("span",{className:"funding-per",title:i.fundingRateTip||"",children:Object(h.jsx)(d.a,{value:i.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})]})]})]}),Object(h.jsxs)("div",{className:j.isOption?"price-fundingRate mobile options":"price-fundingRate mobile",children:[j.isFuture&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"index-prcie",children:[r.index,": ",Object(h.jsxs)("span",{className:V,children:["\xa0 ",Object(h.jsx)(d.a,{value:i.index,decimalScale:2})]})]})}),j.isOption&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"mark-price",children:[r["eo-mark-price"]," : ",Object(h.jsxs)("span",{className:_,children:["\xa0 ",Object(h.jsx)(d.a,{value:p,decimalScale:2})]})]}),Object(h.jsxs)("div",{className:"index-prcie",children:[i.config&&j.isOption?i.config.symbol.split("-")[0]:"",": ",Object(h.jsxs)("span",{className:V,children:["\xa0 ",Object(h.jsx)(d.a,{value:i.index,decimalScale:2})]})]}),Object(h.jsxs)("div",{className:"index-prcie",children:[r.vol,": ",Object(h.jsx)(d.a,{value:i.position.volatility,decimalScale:2})]})]}),Object(h.jsxs)("div",{className:"funding-rate",children:[j.isOption&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{children:[r["funding-rate"]," : \xa0"]}),Object(h.jsx)(f.a,{block:!1,children:Object(h.jsx)("span",{className:"funding-per",title:i.optionFundingRateTip||"",children:Object(h.jsx)(d.a,{value:i.fundingRate.premiumFunding0,decimalScale:4})})})]}),j.isFuture&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{children:[r["funding-rate-annual"]," : \xa0"]}),Object(h.jsx)(f.a,{block:!1,children:Object(h.jsx)("span",{className:"funding-per",title:i.fundingRateTip||"",children:Object(h.jsx)(d.a,{value:i.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})]})]})]})]}),Object(h.jsxs)("div",{className:pe,children:[Object(h.jsx)("div",{className:"check-long",onClick:function(){return ve("long")},children:r["long-buy"]}),Object(h.jsx)("div",{className:"check-short",onClick:function(){return ve("short")},children:r["short-sell"]})]}),Object(h.jsxs)("div",{className:"the-input",children:[Object(h.jsxs)("div",{className:"left",children:[Object(h.jsxs)("div",{className:"current-position",children:[Object(h.jsx)("span",{children:r["current-position"]}),Object(h.jsx)("span",{className:"position-text",children:Object(h.jsx)(d.a,{value:i.position.volume,allowZero:!0})})]}),j.isFuture&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"contrant",children:[Object(h.jsx)("input",{type:"number",onFocus:Se,onBlur:Be,onKeyPress:De,disabled:!i.index||0===Math.abs(i.position.margin),onChange:function(e){return Ie(e)},value:i.volumeDisplay,className:fe,placeholder:r["contract-volume"]}),Object(h.jsx)("div",{className:"title-volume",children:r["contract-volume"]})]})}),j.isOption&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"contrant option-input",children:[Object(h.jsx)("input",{type:"number",onFocus:Se,onBlur:Be,onKeyPress:De,disabled:!i.index||0===Math.abs(i.position.margin),onChange:function(e){return Ie(e)},value:i.volumeDisplay,className:fe,placeholder:r["option-input"]}),Object(h.jsx)("div",{className:"option-unit",children:w.unit})]})}),!!i.volumeDisplay&&j.isFuture&&Object(h.jsx)("div",{className:"btc",children:Object(h.jsx)(d.a,{value:i.amount.exchanged,allowNegative:!1,decimalScale:4,prefix:"= ",suffix:" ".concat(w.unit)})})]}),Object(h.jsx)("div",{className:"right-info",children:Object(h.jsxs)("div",{className:"contrant-info ".concat(l.current),children:[Object(h.jsxs)("div",{className:"balance-contract",children:[l.isV1&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{className:"balance-contract-text pc v1",children:[r["balance-in-contract"],Object(h.jsx)("br",{}),"(",r["dynamic-balance"],")"]}),Object(h.jsxs)("span",{className:"balance-contract-text mobile v1",children:[r["balance-in-contract"],Object(h.jsx)("br",{}),"(",r["dynamic-balance"],")"]})]}),(l.isV2||l.isV2Lite||j.isOption)&&Object(h.jsxs)(f.a,{block:!1,children:[Object(h.jsx)("span",{className:"balance-contract-text pc",title:r["dynamic-effective-balance-title"],children:r["dynamic-effective-balance"]}),Object(h.jsx)("span",{className:"balance-contract-text mobile",title:r["dynamic-effective-balance-title"],children:r["dynamic-effective-balance"]})]}),Object(h.jsx)("span",{className:"balance-contract-num ".concat(l.current),children:Object(h.jsx)(d.a,{value:i.amount.dynBalance,allowZero:!0,decimalScale:2})})]}),l.isV1&&Object(h.jsxs)("div",{className:"box-margin",children:[Object(h.jsx)("span",{children:r.margin}),Object(h.jsx)("span",{className:"margin",children:Object(h.jsx)(d.a,{value:i.amount.margin,allowZero:!0,decimalScale:2})})]}),(l.isV2||l.isV2Lite||j.isOption)&&Object(h.jsxs)(f.a,{block:!1,children:[Object(h.jsx)("div",{className:"box-margin",children:r.margin}),Object(h.jsxs)("div",{className:"box-margin",children:[Object(h.jsxs)("span",{className:"total-held",title:r["total-held-title"],children:["\xa0- ",r["total-held"]]}),Object(h.jsx)("span",{className:"margin",children:Object(h.jsx)(d.a,{value:i.amount.margin,allowZero:!0,decimalScale:2})})]}),Object(h.jsxs)("div",{className:"margin-held-pos",children:[Object(h.jsxs)("span",{className:"pos-held",title:r["for-this-pos-title"],children:["\xa0- ",r["for-this-pos"]," "]}),Object(h.jsx)("span",{className:"margin",children:Object(h.jsx)(d.a,{value:i.amount.currentSymbolMarginHeld,allowZero:!0,decimalScale:2})})]})]}),Object(h.jsx)(f.a,{block:!0,children:Object(h.jsxs)("div",{className:"available-balance",children:[Object(h.jsxs)("span",{className:"pc",title:r["available-balance-title"],children:[" ",r["available-balance"]," "]}),Object(h.jsx)("span",{className:"mobile",title:r["available-balance-title"],children:r["available-balance"]}),Object(h.jsx)("span",{className:"available-balance-num",children:Object(h.jsx)(d.a,{value:i.amount.available,allowZero:!0,decimalScale:2})})]})})]})})]}),Object(h.jsx)("div",{className:"slider mt-13",children:Object(h.jsx)(Z,{max:i.amount.dynBalance,onValueChange:function(e,t){i.setSlideMargin(e),oe(!1),t&&m("long"===A?"short":"long")},start:i.amount.margin,freeze:ne,currentSymbolMarginHeld:i.position.marginHeldBySymbol,originMarginHeld:i.position.marginHeld,setStopCalculate:function(e){return ue(e)}})}),Object(h.jsx)("div",{className:"title-margin",children:r.margin}),Object(h.jsx)("div",{className:"enterInfo",children:!!i.volumeDisplay&&Object(h.jsxs)(h.Fragment,{children:[j.isFuture&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"text-info",children:[Object(h.jsx)("div",{className:"title-enter pool",children:r["pool-liquidity"]}),Object(h.jsx)("div",{className:"text-enter poolL",children:Object(h.jsx)(d.a,{value:i.fundingRate.liquidity,decimalScale:2,suffix:" ".concat(w.bTokenSymbol)})})]}),Object(h.jsxs)("div",{className:"text-info",children:[Object(h.jsx)("div",{className:"title-enter",children:r["liquidity-used"]}),Object(h.jsxs)("div",{className:"text-enter",children:[Object(h.jsx)(d.a,{value:L.curLiqUsed,suffix:"%",decimalScale:2})," -> ",Object(h.jsx)(d.a,{value:L.afterLiqUsed,decimalScale:2,suffix:"%"})]})]}),Object(h.jsxs)("div",{className:"text-info",children:[Object(h.jsx)("div",{className:"title-enter",children:r["funding-rate-impact"]}),Object(h.jsxs)("div",{className:"text-enter",children:[Object(h.jsx)(d.a,{value:i.fundingRate.fundingRate0,suffix:"%",decimalScale:4})," -> ",Object(h.jsx)(d.a,{value:B,decimalScale:4,suffix:"%"})]})]})]}),j.isOption&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"text-info",children:[Object(h.jsx)("div",{className:"title-enter pool",children:r["mark-price"]}),Object(h.jsx)("div",{className:"text-enter poolL",children:Object(h.jsx)(d.a,{value:p,decimalScale:4})})]}),Object(h.jsxs)("div",{className:"text-info",children:[Object(h.jsx)("div",{className:"title-enter pool",children:r["trade-price"]}),Object(h.jsx)("div",{className:"text-enter poolL",children:Object(h.jsx)(d.a,{value:T,decimalScale:4})})]}),Object(h.jsxs)("div",{className:"text-info",children:[Object(h.jsx)("div",{className:"title-enter pool",children:r["pool-liquidity"]}),Object(h.jsx)("div",{className:"text-enter poolL",children:Object(h.jsx)(d.a,{value:i.fundingRate.liquidity,thousandSeparator:!0,decimalScale:2,suffix:" ".concat(w.bTokenSymbol)})})]})]}),Object(h.jsxs)("div",{className:"text-info",children:[Object(h.jsx)("div",{className:"title-enter",children:r["transaction-fee"]}),Object(h.jsx)("div",{className:"text-enter",children:Object(h.jsx)(d.a,{value:Y,allowZero:!0,decimalScale:2,suffix:" ".concat(w.bTokenSymbol)})})]})]})}),Object(h.jsx)(ce,{hasConnectWallet:ge,transFee:Y,wallet:c,spec:i.config,indexPrice:i.index,available:i.amount.available,volume:i.volumeDisplay,direction:A,leverage:i.amount.leverage,afterTrade:function(){i.setVolume(""),i.refresh(),c.refresh()},position:i.position,trading:i,symbolId:i.config&&i.config.symbolId,bTokenId:i.config&&i.config.bTokenId,version:l,lang:r,type:j,markPriceAfter:T})]})})})));t.a=Object(b.b)("wallet","trading")(Object(b.c)((function({wallet:e,trading:t,isPro:c,lang:n}){const[i,l]=Object(a.useState)("trade"),r=e=>l(e),o=s()("trade-position",i);return Object(h.jsxs)("div",{className:o,children:[Object(h.jsx)("div",{className:"header-top",children:Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)("span",{className:"trade",onClick:()=>r("trade"),children:n.trade}),!c&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{className:"pc position",onClick:()=>r("position"),children:n["my-position"]}),Object(h.jsx)("span",{className:"mobile position",onClick:()=>r("position"),children:n["my-position"]}),Object(h.jsx)("span",{className:"history",onClick:()=>r("history"),children:n.history})]})]})}),Object(h.jsx)(ae,{lang:n}),Object(h.jsx)(y,{lang:n}),Object(h.jsx)(P,{wallet:e,spec:t.config,specs:t.configs,lang:n}),Object(h.jsx)(Y,{lang:n})]})})))},690:function(e,t,c){},691:function(e,t,c){}}]);
//# sourceMappingURL=1.c5465f2c.chunk.js.map