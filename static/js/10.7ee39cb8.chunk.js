(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[10],{1200:function(e,t,n){"use strict";n.r(t);var a=n(108),c=n(0),i=n.n(c),s=n(2),r=n(5),o=n(9),l=n(37),d=n(87),u=n(44),b=n(848),j=n(163),p=n(817),f=n(857),x=n(792),v=n(30),h=n(778),m=n(20),O=n(32),g=(n(992),n(13)),k=n(858),y=n(10);function w(e){var t=e.wallet,n=e.lang,a=e.type,c=e.isLp,l=e.bTokenId,d=e.poolConfig,u=e.version,b=e.baseToken,w=e.address,N=e.walletBalance,S=e.poolInfo,T=e.afterTransaction,C=Object(o.useState)(""),I=Object(r.a)(C,2),_=I[0],q=I[1],E=Object(o.useState)(!1),F=Object(r.a)(E,2),B=(F[0],F[1]),A=Object(o.useState)(""),L=Object(r.a)(A,2),D=L[0],R=L[1],Z=Object(o.useState)(!1),z=Object(r.a)(Z,2),P=z[0],V=z[1],W=Object(j.c)(),U=Object(o.useState)({}),M=Object(r.a)(U,2),$=M[0],Y=M[1],J="add"===a||"v2"===u||"v3"===u||"v3_lite"===u?b:n.shares,H=function(){var e=Object(s.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=6;break}return e.next=3,O.a.request("getEstimatedLpInfo",[t.detail.chainId,w,t.detail.account,b]);case 3:n=e.sent,R(n.b0Penalty),V(n.isB0Staked);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(s.a)(i.a.mark((function e(){var n,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="add"===a?_:Object(g.bg)(_).times(Object(g.bg)(-1)).toString(),"v3"===u||"v3_lite"===u?c=[t.detail.chainId,w,t.detail.account,n,b]:(t.detail.chainId,t.detail.account),e.next=4,O.a.request("getEstimatedLiquidityInfo",c);case 4:s=e.sent,Y(s);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(s.a)(i.a.mark((function e(){var a,s,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(g.bg)(N),!Object(g.bg)(_).gt(a)){e.next=5;break}return W.error(n["not-sufficient-funds"]),e.abrupt("return",!1);case 5:if(!(_<=0||isNaN(_))){e.next=8;break}return W.error(n["it-has-to-be-greater-than-zero"]),e.abrupt("return",!1);case 8:if("lp"!==c){e.next=15;break}return r=[t.detail.chainId,w,t.detail.account,_],e.next=12,O.a.request("addLpLiquidity",r,{includeResponse:!0});case 12:s=e.sent,e.next=19;break;case 15:return o="v3"===u||"v3_lite"===u?[t.detail.chainId,w,t.detail.account,_,b]:[t.detail.chainId,w,t.detail.account,_,l],e.next=18,O.a.request("addLiquidity",o,{includeResponse:!0});case 18:s=e.sent;case 19:if(T(!0),q(""),s&&s.success){e.next=26;break}return W.error(n["failure-of-transaction"]),e.abrupt("return",!1);case 26:W.success(n["add-success"]);case 27:return e.abrupt("return",!0);case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(s.a)(i.a.mark((function e(){var a,s,r,o,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(g.bg)(S.totalShares),!(s=Object(g.bg)(_)).gt(a)){e.next=5;break}return W.error("".concat(n["your-current-max-removable-shares-are"],"  ").concat(S.totalShares)),e.abrupt("return",!1);case 5:if(!(+_<=0||isNaN(_))){e.next=8;break}return W.error(n["invalid-liquidity"]),e.abrupt("return",!1);case 8:if("lp"!==c){e.next=15;break}return o=[t.detail.chainId,w,t.detail.account,_],e.next=12,O.a.request("removeLpLiquidity",o,{includeResponse:!0});case 12:r=e.sent,e.next=19;break;case 15:return d="v3"===u||"v3_lite"===u?[t.detail.chainId,w,t.detail.account,_,b,a.eq(s)]:[t.detail.chainId,w,t.detail.account,_,l,a.eq(s)],e.next=18,O.a.request("removeLiquidity",d,{includeResponse:!0});case 18:r=e.sent;case 19:return r&&r.success?W.success(n["remove-success"]):W.error(n["failure-of-transaction"]),q(""),T(),e.abrupt("return",!0);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){_?(K(),B(!0)):B(!1)}),[_]),Object(o.useEffect)((function(){q("")}),[a]),Object(o.useEffect)((function(){t.isConnected()&&H()}),[t.detail,b,w]),Object(y.jsxs)("div",{className:"operate",children:[Object(y.jsx)("div",{className:"add-input",children:Object(y.jsx)(p.a,{value:_,unit:J,onChange:function(e){q(e)},inputWidth:"237px",styles:{"min-width":"332px"}})}),"add"===a&&Object(y.jsxs)("div",{className:"wallet-balance",children:[n["wallet-balance"]," ",Object(y.jsx)(h.a,{value:N,displayType:"text",decimalScale:2})," ",b]}),"remove"===a&&Object(y.jsxs)("div",{className:"wallet-balance",children:[n["staked-balance"]," ",Object(y.jsx)(h.a,{value:S.totalShares,displayType:"text",decimalScale:2})," ",J]}),"remove"===a&&Object(y.jsx)("div",{children:Object(y.jsx)(k.a,{lang:n,baseToken:b,penalty:D,isB0Staked:P})}),Object(y.jsx)("div",{className:"check-proportion",children:Object(y.jsx)(x.a,{defaultValue:_,onChange:function(e){var t="add"===a?N:S.totalShares,n=Object(v.w)(e,t);q(n)},outline:!0,bgColor:" rgba(85, 119, 253, 0.1)",width:77,height:40})}),Object(y.jsx)("div",{className:"information",children:_&&Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"percentage",children:[Object(y.jsx)("div",{className:"info-box-title",children:n["my-liquidity-percentage"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{allowZero:!0,width:"80px",value:S.percent,decimalScale:2,suffix:"%"})," ->  ",Object(y.jsx)(h.a,{width:"80px",allowZero:!0,value:100*$.percentage1,decimalScale:2,suffix:"%"})]})]}),Object(y.jsxs)("div",{className:"staked-balance",children:[Object(y.jsx)("div",{className:"info-box-title",children:n["staked-balance"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{width:"80px",allowZero:!0,value:S.formatShares,decimalScale:2})," -> ",Object(y.jsx)(h.a,{width:"80px",allowZero:!0,value:$.shares1,decimalScale:2}),"v2"===u||"v3"===u||"v3_lite"===u?" "+b:" "+n.shares]})]})]})}),Object(y.jsxs)("div",{className:"add-remove-btn",children:["add"===a&&Object(y.jsx)(f.a,{alert:W,fontWeight:"bold",onClick:X,bToken:b,pool:d,wallet:t,bTokenId:l,fontSize:"18",type:m.h,width:"331",label:n["add-liquidity"],lang:n}),"remove"===a&&Object(y.jsx)(f.a,{alert:W,fontWeight:"bold",onClick:G,bToken:b,pool:d,type:m.h,wallet:t,bTokenId:l,fontSize:"18",width:"331",label:n["remove-liquidity"],lang:n})]})]})}var N=n(811),S=n(35),T=n(859),C=n(788),I=n(82),_=n(327),q=(n(993),n.p+"static/media/back.b0297594.svg"),E=n(209),F=n(328),B=n(326),A=n(164),L=n(856),D=n(329),R=n.p+"static/media/add-icon.6f7516a6.svg",Z=n.p+"static/media/remove-icon.1feb361f.svg",z=n.p+"static/media/inactive-add.bd5c1504.svg",P=n.p+"static/media/inactive-remove.026bafcb.svg",V=n(208),W=I[g.DeriEnv.get()].chainInfo,U=I[g.DeriEnv.get()].chainInfo;t.default=Object(u.b)("wallet","poolManager")(Object(u.c)((function(e){var t,n=e.lang,c=e.wallet,u=void 0===c?{}:c,p=e.poolManager,f=Object(l.i)(),x=f.version,m=f.chainId,k=f.address,I=f.type,M=Object(o.useState)(""),$=Object(r.a)(M,2),Y=$[0],J=$[1],H=Object(o.useState)(""),K=Object(r.a)(H,2),X=K[0],G=K[1],Q=Object(o.useState)(!1),ee=Object(r.a)(Q,2),te=ee[0],ne=ee[1],ae=Object(o.useState)(""),ce=Object(r.a)(ae,2),ie=ce[0],se=ce[1],re=Object(o.useState)([]),oe=Object(r.a)(re,2),le=oe[0],de=oe[1],ue=Object(o.useState)([]),be=Object(r.a)(ue,2),je=be[0],pe=be[1],fe=Object(o.useState)(),xe=Object(r.a)(fe,2),ve=xe[0],he=xe[1],me=Object(o.useState)("show"),Oe=Object(r.a)(me,2),ge=Oe[0],ke=Oe[1],ye=Object(o.useState)({}),we=Object(r.a)(ye,2),Ne=we[0],Se=we[1],Te=Object(_.a)(),Ce=Object(o.useState)(""),Ie=Object(r.a)(Ce,2),_e=Ie[0],qe=Ie[1],Ee=Object(o.useState)(),Fe=Object(r.a)(Ee,2),Be=Fe[0],Ae=Fe[1],Le=Object(o.useState)({}),De=Object(r.a)(Le,2),Re=De[0],Ze=De[1],ze=U[m]&&U[m].name,Pe=Object(j.c)(),Ve=function(e){e.target.src=D.default},We=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.isConnected()){e.next=17;break}if(t=[u.detail.chainId,k,u.detail.account],n=null,!ie.isLp){e.next=9;break}return e.next=6,O.a.request("getLpWalletBalance",t);case 6:n=e.sent,e.next=16;break;case 9:if("v3"===x||"v3_lite"===x?t.push(Y):t.push(X),"v2_lite_open"!==x){e.next=13;break}return e.next=13,g.openConfigListCache.update();case 13:return e.next=15,O.a.request("getBTokenBalance",t);case 15:n=e.sent;case 16:Ae(n);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(){We(),He(),Ke()},Me=(t={},Object(a.a)(t,n.add,{content:Object(y.jsx)(w,{poolConfig:ie,isLp:I,wallet:u,afterTransaction:Ue,version:x,bTokenId:X,address:k,lang:n,type:"add",poolInfo:Ne,baseToken:Y,walletBalance:Be}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:R,inicon:z,direction:"tab-left"}),Object(a.a)(t,n.remove,{content:Object(y.jsx)(w,{isLp:I,poolConfig:ie,wallet:u,afterTransaction:Ue,lang:n,address:k,type:"remove",bTokenId:X,poolInfo:Ne,balance:Ne,baseToken:Y,version:x}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:Z,inicon:P,direction:"tab-right"}),t),$e=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.load();case 2:if(t=p.pools,"lp"!==I){e.next=7;break}return e.next=6,p.loadDoubleMingingPool();case 6:t=p.lpPools;case 7:if("v2_lite_open"!==x){e.next=11;break}return e.next=10,p.loadOpen();case 10:t=p.openPools;case 11:t=(t=t.filter((function(e){return e.address===k})))[0],n=t.bTokens[0].bTokenSymbol,Object(v.q)(k)?n="CAKE-LP":Object(v.v)(k)&&(n="DERI-USDT SLP"),a=t.bTokens[0].bTokenId,c=(c=t.symbols.map((function(e){var t=[];return t.push(e.symbol),t}))).join(","),qe(c),se(t),de(t.bTokens),J(n),G(a);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.request("claimXVSLp",[u.detail.chainId,k,u.detail.account],{includeResponse:!0});case 2:(t=e.sent)&&t.success?Pe.success(n["collect-success"]):Pe.error(n["failure-of-transaction"]),Xe();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ie){e.next=6;break}return e.next=3,ie.getPoolInfo(u,ie);case 3:return(t=e.sent)&&le.map((function(e){return"v2"===x?e.apy=100*+t.bTokensApy.filter((function(t){return t.bTokenId===e.bTokenId}))[0].apy:"v2_lite_open"!==x&&"v3"!==x&&"v3_lite"!==x?(e.apy=100*+t.bTokensApy[0].apy,Object(v.v)(k)&&(e.lpApy=t.lpApy)):"v3"!==x&&"v3_lite"!==x||(e.apy=100*+t.bTokensApy.filter((function(t){return t.bTokenSymbol===e.bTokenSymbol}))[0].apy,e.supplyApy=100*+t.bTokensApy.filter((function(t){return t.bTokenSymbol===e.bTokenSymbol}))[0].supplyApy,e.xvsApy=100*+t.bTokensApy.filter((function(t){return t.bTokenSymbol===e.bTokenSymbol}))[0].xvsApy),e})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,a,c,s,r,o,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,!ie){e.next=17;break}return e.next=4,ie.getPoolInfo(u,ie);case 4:if(!(n=e.sent).bTokensApy){e.next=17;break}if("v2"===x&&X?(o=n.bTokensApy.filter((function(e){return e.bTokenId===X})),a=o[0].apy,l=o[0].multiplier,r=(r=n.bTokensLiq.filter((function(e){return e.bTokenId===X})))[0].liquidity):"v2_lite_open"!==x&&"v3"!==x&&"v3_lite"!==x?(a=n.bTokensApy[0].apy,r=n.bTokensLiq[0].liquidity):"v3"!==x&&"v3_lite"!==x||((o=n.bTokensApy.filter((function(e){return e.bTokenSymbol===Y}))).length&&(a=o[0].apy,c=o[0].supplyApy,s=o[0].xvsApy,l=o[0].multiplier),(r=n.bTokensLiq.filter((function(e){return e.bTokenSymbol===Y}))).length&&(r=r[0].liquidity)),t={total:r,apy:100*+a,supplyApy:100*+c,xvsApy:100*+s,multiplier:l},!u.isConnected()){e.next=16;break}return e.next=11,ie.getLiquidityInfo(u,k,ie.version,ie.isLp,I,Y,X);case 11:d=e.sent,t=d,"v3"!==x&&"v3_lite"!==x||(t.supplyApy=100*+c,t.xvsApy=100*+s),t.apy=100*+a,t.multiplier=l;case 16:Se(t);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.isConnected()||!ie){e.next=10;break}return e.next=3,ie.getIsStaked(u,ie);case 3:t=e.sent,le.map((function(e){if("v2"===x&&"option"!==I)e.staked=t.bTokens.filter((function(t){return t.bTokenId===e.bTokenId}))[0].isStaked;else if("v3"===x||"v3_lite"===x){var n=t.bTokens.filter((function(t){return t.bTokenSymbol===e.bTokenSymbol}));e.staked=!!n.length&&n[0].isStaked}else e.staked=t.isStaked;return e})),n=[],le.forEach((function(e,t){if(e.staked)return n.push(e),void le.splice(t,1)})),le.unshift.apply(le,n),"v2"===x&&"option"!==I?X&&(a=t.bTokens.filter((function(e){return e.bTokenId===X}))[0].isStaked):a=t.isStaked,ne(a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ie){e.next=6;break}return e.next=3,ie.getVenusEarned(u,k);case 3:t=e.sent,he(t=+t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="v3"!==x&&"v3_lite"!==x?ie.bTokens.filter((function(e){return e.bTokenId===t})):ie.bTokens.filter((function(e){return e.bTokenSymbol===n})),Se({}),G(t),Ae(""),J(a[0].bTokenSymbol),ne();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){u.detail.chainId!==m&&u.switchNetwork(Te[m])}),[u.detail]),Object(o.useEffect)((function(){$e()}),[]),Object(o.useEffect)((function(){pe(le)}),[le]),Object(o.useEffect)((function(){if(le.length&&(Y||X)){var e={};if("v2"!==x)e=le.filter((function(e){return e.bTokenSymbol===Y}))[0];else if("v2"===x){e=le.filter((function(e){return e.nowTokenId===X}))[0]}Ze(e)}}),[le,Y,X]),Object(o.useEffect)((function(){Je()}),[ie,le]),Object(o.useEffect)((function(){if(u.isConnected()&&("v3"===x||"v3_lite"===x)){var e;return Xe(),e=window.setInterval((function(){Xe()}),18e4),function(){e&&clearInterval(e)}}}),[u,u.detail,ie]),Object(o.useEffect)((function(){He(),We()}),[X,ie,u.detail.account,Y]),Object(o.useEffect)((function(){Ke()}),[ie,u.detail.account,le,X]),Object(y.jsxs)("div",{className:"pool-detail",children:[Object(y.jsx)("div",{className:"back-pool",children:Object(y.jsx)(d.b,{to:"/pool",children:Object(y.jsxs)("div",{className:"icon-back",children:[Object(y.jsx)("img",{alt:"",src:q}),Object(y.jsx)("span",{children:n.back})]})})}),Object(y.jsxs)("div",{className:"pool-deatail-info",children:[Object(y.jsxs)("div",{className:"pool-detail-basetoken-info",children:[Object(y.jsxs)("div",{className:"pool-info-text",children:[Object(y.jsxs)("div",{className:"pool-network-type",children:[Object(y.jsx)("div",{className:"network-logo",children:Object(y.jsx)("img",{alt:"",src:function(e){var t,n=+e;return 56===n||97===n?t=E.default:137===n?t=F.default:1===n&&(t=B.default),t}(m)})}),Object(y.jsxs)("div",{className:"pool-type-network-text",children:[Object(y.jsxs)("div",{className:"pool-type-text",children:[n[ie.type]," ",n[ie.zone]]}),Object(y.jsx)("div",{className:"pool-network-text",children:ze})]})]}),Object(y.jsxs)("div",{className:"pool-des",children:["lp"!==I&&n["amm-pool-des"],"clp"===x&&Object(y.jsxs)(y.Fragment,{children:[n["deri-pancake-pool-des"],Object(y.jsxs)("span",{className:"font-color",children:[" ",n["deri-pancake-token"]," "]}),n["deri-token-des"]]}),"slp"===x&&Object(y.jsxs)(y.Fragment,{children:[n["deri-sushi-pool-des"],Object(y.jsxs)("span",{className:"font-color",children:[" ",n["deri-sushi-token"]," "]}),n["deri-token-des"]]}),Object(y.jsx)("br",{}),"lp"!==I?Object(y.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.finance/mining-faq#is-the-liquidity-mining-on-deri-pools-risk-free",children:Object(y.jsxs)("span",{className:"learn-more",children:[" ",n["learn-more"]]})}):Object(y.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.finance/mining-faq#is-the-liquidity-mining-on-sushiswap-sushiswap-onsen-and-pancakeswap-deri-risk-free",children:Object(y.jsxs)("span",{className:"learn-more",children:[" ",n["learn-more"]]})})]})]}),Object(y.jsxs)("div",{className:"select-basetoken-info",children:[Object(y.jsxs)("div",{className:"select-coin-title-search",children:[Object(y.jsxs)("div",{className:"select-coin-title",children:[" ",n["select-the-coin"]]}),Object(y.jsx)("div",{className:"search-box",children:Object(y.jsx)(T.a,{list:le,searchName:"bTokenSymbol",onChange:function(e){return pe(e)}})})]}),Object(y.jsxs)("div",{className:"coin-search",children:[Object(y.jsx)("div",{className:"slide-icon left",children:Object(y.jsx)(S.a,{token:"arrow-left",width:"24",height:"24"})}),Object(y.jsxs)("div",{className:"v3"===x||"v3_lite"===x?"coin-list some-coin":"coin-list",children:["lp"!==I&&"v2_lite_open"!==x&&Object(y.jsx)(y.Fragment,{children:je.map((function(e,t){return Object(y.jsxs)("div",{className:Y===e.bTokenSymbol?"coin-box checked-base":"coin-box",onClick:function(){Ge(e.bTokenId,e.bTokenSymbol)},children:[Object(y.jsxs)("div",{className:"base-apy-info",children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(e.bTokenSymbol)}),Object(y.jsxs)("div",{className:"apy-base-staked",children:[Object(y.jsx)("div",{className:"base-name",children:e.bTokenSymbol}),Object(y.jsxs)("div",{className:"base-apy",children:[n.apy," \xa0 ",Object(y.jsx)(h.a,{width:"50px",value:e.apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),("v3"===x||"v3_lite"===x)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{children:[" +  ",Object(y.jsx)(h.a,{width:"50px",value:e.supplyApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),"  + "]}),Object(y.jsx)(h.a,{width:"50px",value:e.xvsApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]})]})]})]}),e.staked&&Object(y.jsx)("img",{src:L.a,alt:""})]})}))}),"v2_lite_open"===x&&Object(y.jsx)(y.Fragment,{children:je.map((function(e,t){return Object(y.jsxs)("div",{className:"coin-box checked-base",onClick:function(){Ge(e.bTokenId)},children:[Object(y.jsxs)("div",{className:"base-apy-info",children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(e.bTokenSymbol),children:Object(y.jsx)("img",{alt:"",onError:Ve,src:"https://raw.githubusercontent.com/deri-finance/deri-open-zone/main/img/".concat(e.bTokenSymbol,".png")})}),Object(y.jsx)("div",{className:"apy-base-staked",children:Object(y.jsx)("div",{className:"base-name",children:e.bTokenSymbol})})]}),e.staked&&Object(y.jsxs)("div",{className:"stake",children:[Object(y.jsx)("img",{src:L.a,alt:""}),n.staked]})]})}))}),"lp"===I&&le.length&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"coin-box checked-base",children:Object(y.jsxs)("div",{className:"base-apy-info",children:[Object(y.jsxs)("div",{className:"lp-btoken-logo",children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(le[0].bTokenSymbol)}),Object(y.jsx)("span",{className:"conect-logo",children:"+"}),Object(y.jsx)("div",{className:"btoken-logo ".concat(le[1].bTokenSymbol)})]}),Object(y.jsxs)("div",{className:"apy-base-staked",children:[Object(y.jsx)("div",{className:"base-name",children:Y}),Object(y.jsxs)("div",{className:"base-apy",children:[Object(v.q)(k)&&Object(y.jsxs)(y.Fragment,{children:[n.apy," \xa0 ",Object(y.jsx)(h.a,{value:le[1].apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]}),Object(v.v)(k)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(C.a,{text:"".concat(n.apy," ").concat((+le[1].apy).toFixed(2)," %"),tip:n["deri-apy"]}),"\xa0 + \xa0 ",Object(y.jsx)(C.a,{text:"".concat(n.apy,"  ").concat((+le[1].lpApy).toFixed(2)," %"),tip:n["sushi-apy"]})]})]})]})]})})})]}),Object(y.jsx)("div",{className:"slide-icon right",children:Object(y.jsx)(S.a,{token:"arrow-right",width:"24",height:"24"})})]})]})]}),Object(y.jsxs)("div",{className:"pool-detail-add-remove-info",children:[Object(y.jsxs)("div",{className:"mining-deri-liquidity",children:[Object(y.jsxs)("div",{className:"btoken-liquidity",children:["lp"!==I&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(Y),children:"v2_lite_open"===x&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("img",{alt:"",onError:Ve,src:"https://raw.githubusercontent.com/deri-finance/deri-open-zone/main/img/".concat(Y,".png")})})}),Object(y.jsxs)("div",{className:"manage-stake",children:[Object(y.jsxs)("div",{className:"manage",children:[n.manage," ",Y," ",n.liquidity]}),te&&Object(y.jsxs)("div",{className:"stake",children:[Object(y.jsx)("img",{src:L.a,alt:""}),n.staked]})]})]}),"lp"===I&&le.length&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"lp-btoken-logo",children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(le[0].bTokenSymbol)}),Object(y.jsx)("span",{className:"conect-logo",children:"+"}),Object(y.jsx)("div",{className:"btoken-logo ".concat(le[1].bTokenSymbol)})]}),Object(y.jsxs)("div",{className:"manage-stake",children:[Object(y.jsxs)("div",{className:"manage",children:[n.manage," ",Y," ",n.liquidity]}),te&&Object(y.jsxs)("div",{className:"stake",children:[Object(y.jsx)("img",{src:L.a,alt:""}),n.staked]})]})]})]}),Object(y.jsx)("div",{className:"deri-current-epoch",children:"v2_lite_open"!==x&&Object(y.jsx)(b.a,{poolShow:!1,lang:n,wallet:u})})]}),Object(y.jsxs)("div",{className:"mining-add-remove-liquidity",children:[Object(y.jsxs)("div",{className:"pool-info",children:[Object(y.jsxs)("div",{className:"pool-info-title",children:[Object(y.jsx)("div",{className:"pool-info-title-text",children:n["pool-info"]}),Object(y.jsxs)("div",{className:"down-up",children:["show"===ge&&Object(y.jsx)("span",{onClick:function(){return ke("hide")},children:Object(y.jsx)("img",{className:"up-icon",alt:"",src:A.default})}),"hide"===ge&&Object(y.jsx)("span",{onClick:function(){return ke("show")},children:Object(y.jsx)("img",{alt:"",src:A.default})})]})]}),Object(y.jsxs)("div",{className:"'pool-info-text' ".concat(ge),children:[Object(y.jsxs)("div",{className:"pool-info-text-one",children:["v2_lite_open"!==x&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:n.apy}),Object(y.jsxs)("div",{className:"info-box-num",children:["v3"!==x&&"v3_lite"!==x&&Object(y.jsx)(h.a,{value:Ne.apy,displayType:"text",decimalScale:2,suffix:"%"}),("v3"===x||"v3_lite"===x)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(C.a,{text:Object(y.jsx)(h.a,{width:"50px",value:Re.apy,displayType:"text",decimalScale:2,suffix:"%"}),tip:n["deri-apy"]}),"\xa0 +  \xa0  ",Object(y.jsx)(C.a,{text:Object(y.jsx)(h.a,{width:"50px",value:Re.supplyApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:n["venus-suppy-apy"]}),"  \xa0 +  \xa0",Object(y.jsx)(C.a,{text:Object(y.jsx)(h.a,{width:"50px",value:Re.xvsApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:n["xvs-distribution-apy"]})]})]})]}),Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:n["pool-liquidity"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{value:Ne.total,displayType:"text",decimalScale:2,thousandSeparator:!0})," ","v3"===x||"v3_lite"===x?"BUSD":Y]})]}),("v2"===x||"v3"===x||"v3_lite"===x)&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:n.multiplier}),Object(y.jsx)("div",{className:"info-box-num",children:Object(y.jsx)(h.a,{allowZero:!0,value:Ne.multiplier,decimalScale:2})})]}),Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:n["my-liquidity-percentage"]}),Object(y.jsx)("div",{className:"info-box-num",children:Object(y.jsx)(h.a,{allowZero:!0,value:Ne.percent,decimalScale:2,suffix:"%"})})]}),"v2"!==x&&"v3"!==x&&"v3_lite"!==x&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:n["liquidity-share-value"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{allowZero:!0,decimalScale:6,value:Ne.shareValue,thousandSeparator:!0})," ",Y]})]})}),Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:n["staked-balance"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{allowZero:!0,value:Ne.formatShares,decimalScale:2}),"v2"===x||"v3"===x||"v3_lite"===x?" "+Y:" "+n.shares]})]}),"v2"!==x&&"v3"!==x&&"v3_lite"!==x&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title"}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{allowZero:!0,decimalScale:2,value:Ne.values,thousandSeparator:!0})," ",Y]})]}),("v2"===x||"v3"===x||"v3_lite"===x)&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:n["mining-pnl"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{allowZero:!0,prefix:" ",value:Ne.swappedPnl,decimalScale:2})," ",Y]})]}),("v3"===x||"v3_lite"===x)&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:n["xvs-earned"]}),Object(y.jsxs)("div",{className:"info-box-num collect-box",children:[Object(y.jsx)(h.a,{value:ve,decimalScale:2})," ",Object(y.jsx)(V.a,{onClick:Ye,className:"collect",label:n.collect})]})]})]}),Object(y.jsxs)("div",{className:"pool-info-text-two",children:["lp"!==I&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:n.symbols}),Object(y.jsx)("div",{className:"info-box-num symbols",children:"main"===ie.zone?_e:Object(y.jsx)(C.a,{tip:_e,children:_e})})]}),Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:n["contract-address"]}),Object(y.jsx)("div",{className:"info-box-num",children:Object(y.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(W[m]&&W[m].viewUrl,"/address/").concat(k),children:Object(v.h)(k)})})]})]})]})]}),Object(y.jsx)("div",{className:"add-remove-liquidity",children:Object(y.jsx)(N.a,{tabSet:Me,width:379,size:18,inactiveBgColor:"#0c192d",icon:"",borderBottom:!0,divider:!0})})]})]})]})]})})))},778:function(e,t,n){"use strict";var a,c,i=n(18),s=n(104),r=n(52),o=n(5),l=n(48),d=n(9),u=(n(76),n(794)),b=n(47),j=n(30),p=n(13),f=n(10),x=Object(b.a)(u.a)(a||(a=Object(l.a)(["\n  width : ","px;\n"])),(function(e){return e.width})),v=b.a.div(c||(c=Object(l.a)(["\n  width : ",";\n  height : ",";\n"])),(function(e){return/px$/.test(e.width)?e.width:"".concat(e.width,"px")}),(function(e){return/px$/.test(e.height)?e.height:"".concat(e.height,"px")}));t.a=function(e){var t=Object(d.useState)(Object(f.jsx)("span",{className:"loading-line"})),n=Object(o.a)(t,2),a=n[0],c=n[1],l=Object(d.useState)(!0),u=Object(o.a)(l,2),b=u[0],h=u[1],m=function(){var t=e.allowZero;return"object"!==Object(r.a)(e.value)&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===Math.abs(e.value)&&!0===t};return Object(d.useEffect)((function(){var t=e.allowZero,n=(e.wallet,e.defaultValue),a=void 0===n?"--":n,r=Object(s.a)(e,["allowZero","wallet","defaultValue"]);m()?(!t&&r.value&&/\d+\.0*[1-9]+/.test(r.value)&&0===+Object(p.bg)(r.value).toFixed(+r.decimalScale||2)&&(r.decimalScale=Object(j.c)(Math.abs(r.value))+1),r.value=Object(j.D)(r.value),r.value&&/\d+.9{6}/.test(r.value)&&(r.value=(+r.value).toFixed(5)),c(Object(f.jsx)(x,Object(i.a)(Object(i.a)({},r),{},{displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0})))):b&&(c(Object(f.jsx)(v,Object(i.a)({className:"loading-line"},e))),e.closeShowLoadingEffectAfterLoaded&&h(!1));var o=window.setTimeout((function(){m()||c(a)}),3e4);return function(){clearTimeout(o)}}),[e.value,e.decimalScale,e.suffix]),a}},788:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a,c=n(48),i=n(47),s=n(105),r=n(30),o=n(10),l=i.a.div(a||(a=Object(c.a)(["\n  display:",";\n  .text {\n    border-bottom : 1px dashed #93A1B8;\n    width : max-content;\n    cursor : pointer;\n    display:","\n  }\n"])),(function(e){return e.block}),(function(e){return e.block}));function d(e){var t=e.text,n=e.id,a=void 0===n?Object(r.a)(t):n,c=e.tip,i=e.multiline,d=e.html,u=e.className,b=e.block,j=void 0===b?"block":b,p=e.width,f=void 0===p?"auto":p,x=e.children,v=e.tiggerEvent;return Object(o.jsxs)(l,{className:u,block:j,children:[Object(o.jsx)("div",{className:"text","data-for":a,"data-tip":c,"data-event":Object(r.t)()?"click":v,"data-html":d,children:t||x}),c&&Object(o.jsx)(s.a,{id:a,width:f,padding:"12",place:"bottom",overridePosition:function(e,t,n,a,c,i,s,r){var o=n.getBoundingClientRect(),l=a.getBoundingClientRect(),d=o.x,u=o.y,b=o.height,j=e.left,p=e.top;return(d=j+l.width>document.documentElement.clientWidth?j-l.width+o.width:j)<0&&(d=0),(u=p+l.height>=document.documentElement.clientHeight?p-l.height+b/2:p)<0&&(u=0),{top:u,left:d}},html:d,borderRadius:8,multiline:i})]})}},792:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,c=n(5),i=n(48),s=n(9),r=n(208),o=n(47),l=n(10),d=o.a.div(a||(a=Object(i.a)(["\n    display : flex;\n    width: 100%;\n    justify-content: space-between;\n  "])));function u(e){var t=e.groups,n=void 0===t?["25%","50%","75%","100%"]:t,a=e.selectedBorderColor,i=e.defaultBorderColor,o=e.onChange,u=e.defaultValue,b=e.outline,j=e.outlineColor,p=e.width,f=e.height,x=e.bgColor,v=e.className,h=Object(s.useState)(u),m=Object(c.a)(h,2),O=m[0],g=m[1];return Object(s.useEffect)((function(){g(u)}),[u]),Object(l.jsx)(d,{className:v,children:n.map((function(e,t){return Object(l.jsx)(r.a,{label:e,selectedBorderColor:a,isSelected:e===O,disabled:!1,outline:b,bgColor:x,className:"g-button",defaultBorderColor:i,outlineColor:j,width:p,height:f,onClick:function(){var t;(t=e)!==O?(g(t),o&&o(t)):t===O?(g(""),o&&o("")):g(t)}},t)}))})}},811:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a,c=n(5),i=n(48),s=n(47),r=n(9),o=n(10),l=s.a.div(a||(a=Object(i.a)(["\n    cursor: pointer;\n    width:","px;\n    height:","px;\n    display:flex;\n    .tab-left.inactive{\n      border-radius:0px 0px 4px 0px;\n    }\n    .tab-right.inactive{\n      border-radius:0px 0px 0px 4px;\n    }\n    .tab-left.active{\n      border-radius:0px 4px 0px 0px;\n      ",";\n      height:14px;\n    }\n    .tab-right.active{\n      border-radius:4px 0px 0px 0px;\n      ",";\n      height:14px;\n    }\n    .inactive,.active{\n      width:50%;\n      box-sizing: content-box;\n      padding: 15px 24px;\n      font-size:","px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n    .inactive{\n      background:",";\n      ","\n    }\n    .active {\n      color: ",";\n      background : ",";\n      ",";\n    }\n    .icon-tab{\n      margin-right:20px;\n      width:25px;\n      height:25px;\n    }\n  "])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.borderR}),(function(e){return e.borderL}),(function(e){return e.size}),(function(e){return e.inactiveBgColor}),(function(e){return e.borderB}),(function(e){return e.activeFontColor}),(function(e){return e.activeBgColor}),(function(e){return e.borderT}));function d(e){var t=e.tabSet,n=e.inactiveBgColor,a=e.activeBgColor,i=(e.icon,e.className),s=e.width,d=void 0===s?238:s,u=e.height,b=void 0===u?47:u,j=e.size,p=void 0===j?16:j,f=e.borderTop,x=void 0!==f&&f,v=e.borderBottom,h=void 0!==v&&v,m=e.divider,O=void 0!==m&&m,g=Object.keys(t),k=Object(r.useState)(g[0]),y=Object(c.a)(k,2),w=y[0],N=y[1],S=t[w].style,T=x?"border-top:1px solid ".concat(t[w].borderColor):"border-top:0",C=h?"border-bottom:1px solid ".concat(t[w].borderColor):"border-bottom:0",I=O?"border-left:1px solid ".concat(t[w].borderColor):"border-left:0",_=O?"border-right:1px solid ".concat(t[w].borderColor):"border-right:0",q=t[w].fontColor?t[w].fontColor:"#FFFFFF";return Object(o.jsxs)("div",{style:S,className:i,children:[Object(o.jsx)(l,{className:"tab-header",width:d,height:b,activeFontColor:q,activeBgColor:a,inactiveBgColor:n,size:p,borderT:T,borderB:C,borderL:I,borderR:_,children:g.map((function(e){return Object(o.jsxs)("div",{className:"".concat(t[e].direction,e===w?" active":" inactive"),onClick:function(){return function(e){N(e)}(e)},children:[t[e].icon?Object(o.jsx)("img",{alt:"",className:"icon-tab",src:e===w?t[e].icon:t[e].inicon}):"","  ",e]},e)}))}),t[w].content]})}},817:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,c=n(18),i=n(48),s=n(9),r=n(47),o=n(13),l=n(10),d=r.a.div(a||(a=Object(i.a)(["\ndisplay : flex;\nfont-size : 14px;\nalign-items : center;\nbackground: rgba(85, 119, 253, 0.1);\nborder-radius: 4px;\njustify-content: space-between;\ninput {\n  background: transparent;\n  border-radius: 4px;\n  // min-width: 240px;\n  border: 0;\n  width : ",";\n  height: 56px;\n  color : #E0ECFF;\n  font-size : 18px;\n  padding-left: 16px;\n}\ninput:focus {\n  outline: none;\n}\n.unit {\n  margin-right: ",";\n}\n"])),(function(e){return e.inputWidth}),(function(e){return e.unitPadding}));function u(e){var t=e.value,n=e.unit,a=e.max,i=e.step,r=e.onChange,u=e.styles,b=void 0===u?{}:u,j=e.focus,p=e.unitPadding,f=void 0===p?"24px":p,x=e.minTradeVolume,v=e.decimal,h=void 0===v?2:v,m=e.readOnly,O=e.inputWidth,g=void 0===O?"50%":O,k=e.className,y=e.disabled,w=void 0!==y&&y,N=Object(s.useRef)(null);return Object(s.useEffect)((function(){N.current.setCustomValidity(""),N.current&&j&&N.current.focus()}),[j]),Object(l.jsxs)(d,{unitPadding:f,inputWidth:g,className:k,style:Object(c.a)({},b),children:[Object(l.jsx)("input",{type:"number",disabled:w,value:t,step:i,ref:N,onChange:function(e){var t="\\d+\\.\\d{0,".concat(h,"}$"),n=new RegExp(t),c=e.target.value;if(a&&Object(o.bg)(c).gt(a))r&&r(a);else if(c<0||isNaN(c))r&&r("");else if(c){if(x>=1)if(c/x>=1)r&&r(Object(o.bg)(c).div(x).integerValue()*x);else r&&r(c*x);else if(/\d+\./.test(c)&&!n.test(c)){var i=c.substring(0,c.indexOf(".")+1+h);r&&r(i)}else r&&r(c)}else r&&r(c)},readOnly:m}),Object(l.jsx)("div",{className:"unit",children:n})]})}},822:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a,c=n(48),i=n(47),s=(n(9),n(10)),r=i.a.div(a||(a=Object(c.a)(["\nwidth:","%;\nmax-width:100%;\nheight:10px;\nbackground-color: #5577FD;\n"])),(function(e){return e.width}));function o(e){var t=e.startTimestamp,n=e.nowTimestamp,a=e.endTimestamp,c=parseInt((n-t)/(a-t)*100);return Object(s.jsx)("div",{className:"time-slider",children:Object(s.jsx)(r,{width:c})})}},848:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(0),c=n.n(a),i=n(2),s=n(5),r=n(9),o=n(208),l=n(822),d=n(327),u=n(163),b=n(778),j=n(32),p=n(30),f=(n(849),n(10));function x(e){var t=e.lang,n=e.poolShow,a=void 0===n||n,x=e.wallet,v=void 0===x?{}:x,h=Object(r.useState)(""),m=Object(s.a)(h,2),O=m[0],g=m[1],k=Object(r.useState)(0),y=Object(s.a)(k,2),w=y[0],N=y[1],S=Object(u.c)(),T=Object(r.useState)(0),C=Object(s.a)(T,2),I=C[0],_=C[1],q=Object(r.useState)(0),E=Object(s.a)(q,2),F=E[0],B=E[1],A=Object(r.useState)({}),L=Object(s.a)(A,2),D=L[0],R=L[1],Z=Object(r.useState)(!1),z=Object(s.a)(Z,2),P=z[0],V=z[1],W=Object(r.useState)(""),U=Object(s.a)(W,2),M=U[0],$=U[1],Y=Object(d.a)(D.chainId);Object(r.useEffect)((function(){var e;return e=window.setInterval((function(){var e=28800,n=parseInt(Date.now()/1e3),a=parseInt(n/e)*e,c=a+e-n,i=parseInt(c/3600),s=parseInt(c%3600/60),r=parseInt(c%60);N(a),_(a+e),B(n),g("".concat(i," ").concat(t.h," ").concat(s," ").concat(t.m," ").concat(r," ").concat(t.s))}),1e3),function(){e&&clearInterval(e)}}),[]);var J=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,a,i,s,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.isConnected()){e.next=10;break}return e.next=3,j.a.request("getUserInfoAll",[v.detail.account]);case 3:t=e.sent,n=(+t.total).toFixed(2),a=t.valid?(+t.amount).toFixed(2):0,i=t.lp,s=(+t.trade).toFixed(2),r=t.chainId,R({claimed:n,unclaimed:a,harvestDeriLp:i,harvestDeriTrade:s,chainId:r});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==Y.name){e.next=3;break}return S.error("".concat(t["wrong-network"])),e.abrupt("return");case 3:if(Object(p.e)(v.detail.chainId,D.chainId)){e.next=6;break}return S.error("".concat(t["your-deri-is-on"]," ").concat(Y.name," ").concat(t["connect-to"]," ").concat(Y.name," ").concat(t["to-claim"])),e.abrupt("return");case 6:if(0!==+D.unclaimed){e.next=9;break}return S.error(t["no-deri-to-claim-yet"]),e.abrupt("return");case 9:if(!(parseInt(Date.now()/1e3)%28800<1800)){e.next=13;break}return S.error(t["claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch"]),e.abrupt("return");case 13:return e.next=15,j.a.request("mintDToken",[v.detail.chainId,v.detail.account],{includeResponse:!0});case 15:if(!e.sent.success){e.next=20;break}return e.abrupt("return",!0);case 20:return S.error(t["claim-failed"]),e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.isConnected()){e.next=7;break}return e.next=3,H();case 3:e.sent&&V(!0),e.next=17;break;case 7:return e.prev=7,e.next=10,v.connect();case 10:return t=e.sent,e.abrupt("return",!!t);case 14:return e.prev=14,e.t0=e.catch(7),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(){return e.apply(this,arguments)}}(),X=function(e){var n;switch(e){case 1:n=t.jan;break;case 2:n=t.feb;break;case 3:n=t.mar;break;case 4:n=t.apr;break;case 5:n=t.may;break;case 6:n=t.jun;break;case 7:n=t.jul;break;case 8:n=t.aug;break;case 9:n=t.sep;break;case 10:n=t.oct;break;case 11:n=t.nov;break;case 12:n=t.dec}return n},G=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,a,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.isConnected()){e.next=5;break}return e.next=3,j.a.request("getUserFirstClaimInfo",[v.detail.account]);case 3:(t=e.sent).first_timestamp&&(n=new Date(1e3*t.first_timestamp),a=n.getFullYear(),i=n.getMonth()+1,i=X(i),s=n.getDate(),$("".concat(i," ").concat(s,", ").concat(a)));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=window.setInterval(J,18e4);return J(),G(),function(){return clearInterval(e)}}),[v.detail.account]),Object(f.jsx)("div",{className:"mining-claim",children:Object(f.jsxs)("div",{className:"mining-claim-info",children:[Object(f.jsxs)("div",{className:"deri-num-slider",children:[Object(f.jsxs)("div",{className:"deri-claim-time",children:[t["current-epoch-remaining-time"]," : ",O]}),D.harvestDeriLp>0&&Object(f.jsxs)("div",{className:"deri-claim-text",children:[t["your-harvest-in-current"]," ",Object(f.jsx)("span",{className:"deri-num",children:Object(f.jsx)(b.a,{value:D.harvestDeriLp,decimalScale:2,displayType:"text",di:!0,thousandSeparator:!0})}),"   $DERI."]}),a&&Object(f.jsxs)("div",{className:"deri-claim-text",children:["You have ",Object(f.jsx)("span",{className:"deri-num",children:Object(f.jsx)(b.a,{value:P?0:D.unclaimed,displayType:"text",thousandSeparator:!0})}),"  unclaimed $DERI across all staked pools. You\u2019ve earned a total of ",Object(f.jsx)(b.a,{value:P?+D.claimed+ +D.unclaimed:D.claimed,displayType:"text",thousandSeparator:!0})," Deri token",M&&Object(f.jsxs)("span",{children:[" since ",M,". Woohoo!"]})]}),Object(f.jsx)("div",{className:"deri-claim-slider",children:Object(f.jsx)(l.a,{startTimestamp:w,nowTimestamp:F,endTimestamp:I})})]}),a&&Object(f.jsx)("div",{className:"cliam-button",children:Object(f.jsx)(o.a,{fontWeight:"bold",label:t["claim-all"],onClick:K})})]})})}},849:function(e,t,n){},856:function(e,t,n){"use strict";t.a=n.p+"static/media/staked.45c27f0b.svg"},857:function(e,t,n){"use strict";var a=n(18),c=n(0),i=n.n(c),s=n(2),r=n(5),o=n(104),l=n(9),d=n(208),u=(n(163),n(44)),b=n(10);t.a=Object(u.b)("wallet")(Object(u.c)((function(e){var t=e.lang,n=e.wallet,c=e.pool,u=void 0===c?{}:c,j=e.bTokenId,p=e.bToken,f=e.icon,x=e.label,v=e.onClick,h=(e.isReady,e.disabled),m=void 0===h||h,O=e.alert,g=Object(o.a)(e,["lang","wallet","pool","bTokenId","bToken","icon","label","onClick","isReady","disabled","alert"]),k=Object(l.useState)(!0),y=Object(r.a)(k,2),w=y[0],N=y[1],S=Object(l.useState)(x),T=Object(r.a)(S,2),C=T[0],I=T[1],_=Object(l.useState)(f),q=Object(r.a)(_,2),E=q[0],F=q[1],B=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u&&n&&n.detail)){e.next=17;break}if(n.isConnected()){e.next=6;break}return F(null),e.abrupt("return",n.connect());case 6:if(n.isApproved){e.next=15;break}return F(null),e.next=10,n.approve();case 10:return(t=e.sent)?O&&O.success("Approve success"):O&&O.error("Approve failed"),e.abrupt("return",t);case 15:return F(f),e.abrupt("return",v());case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)(Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u&&n&&n.detail&&u.bTokens&&t&&(n.isConnected()?n.isApproved||"WBNB"===p?(I(x),F(f)):(I(t.approve),F(null)):(I(t["connect-wallet"]),F(null)));case 1:case"end":return e.stop()}}),e)}))),[u,n.detail,n.isApproved,t,p]),Object(l.useEffect)((function(){N(m)}),[m]),Object(l.useEffect)((function(){n&&u&&u.address&&(n.setAddress(u.address),u.isV3||u.isV3Lite?n.setBToken(p):n.setBTokenId(j))}),[n,u,j,p]),Object(b.jsx)(d.a,Object(a.a)(Object(a.a)({},g),{},{disabled:!w,label:C,onClick:B,icon:E}))})))},858:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a,c=n(5),i=n(48),s=n(9),r=(n(32),n(47)),o=n(35),l=n(788),d=n(10),u=r.a.div(a||(a=Object(i.a)(["\n  .remove-hint{\n    cursor: pointer;\n    .text{\n      display: flex;\n      border:0;\n    }\n    span{\n      margin-left:8px;\n    }\n  }\n"])));function b(e){var t=e.lang,n=e.baseToken,a=e.penalty,i=e.isB0Staked,r=e.availableBalance,b=Object(s.useState)(""),j=Object(c.a)(b,2),p=j[0],f=j[1];return Object(s.useEffect)((function(){var e;e=i?"BUSD"===n?"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(a," BUSD ").concat(t["this-action-will-update-your"]):"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(a," BUSD ").concat(t["this-action-will-trigger-swapping"]," ").concat(n," ").concat(t["to-update-your"]):"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(a," BUSD ").concat(t["this-action-will-trigger-swapping"]," ").concat(n," ").concat(t["to-update-your-busd-balance-to-reflect-the-unsettled-amount"]),f(e)}),[i,a,n]),Object(d.jsx)(u,{children:+a<0&&+r>0&&Object(d.jsx)("div",{className:"remove-hint",children:Object(d.jsxs)(l.a,{tip:p,width:"332",children:[Object(d.jsx)(o.a,{token:"warn"})," ",Object(d.jsx)("span",{children:t["negative-unsettled-balance"]})]})})})}},859:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,c=n(5),i=n(48),s=n(9),r=n(47),o=n(333),l=n(10),d=r.a.div(a||(a=Object(i.a)(["\n  .search-token{\n  width: ","px;\n  height: ","px;\n  background: ",";\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding:0 24px;\n  border-radius:4px;\n  img{\n    width:18px;\n    height:18px;\n  }\n  .search-input{\n    border: 0;\n    width:100%;\n    height: 100%;\n    background:transparent;\n    outline-style: none;\n    color: #FFFFFF;\n    font-size: 18px;\n    border-radius: 4px;\n  }\n}\n"])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.bgColor}));function u(e){var t=e.list,n=e.onChange,a=e.width,i=void 0===a?"320":a,r=e.height,u=void 0===r?"48":r,b=e.bgColor,j=void 0===b?"rgba(85, 119, 253, 0.1)":b,p=e.searchName,f=void 0===p?"bTokenSymbol":p,x=Object(s.useState)(""),v=Object(c.a)(x,2),h=v[0],m=v[1],O=Object(s.useState)(0),g=Object(c.a)(O,2),k=(g[0],g[1]),y=Object(s.useRef)([]);return Object(s.useEffect)((function(){if(h){var e=h.toLocaleUpperCase();0===y.current.length&&(y.current=t,k(t.length));var a=y.current.filter((function(t){return t[f]&&t[f].indexOf(e)>=0}));n(a)}else n(y.current)}),[h]),Object(s.useEffect)((function(){0===y.current.length&&k(t.length)}),[t]),Object(l.jsx)(d,{width:i,height:u,bgColor:j,children:Object(l.jsxs)("div",{className:"search-token",children:[Object(l.jsx)("input",{type:"text",className:"search-input",placeholder:"Search",value:h,onChange:function(e){!function(e){var t=e.target.value;m(t)}(e)}}),Object(l.jsx)("img",{src:o.default,alt:""})]})})}},992:function(e,t,n){},993:function(e,t,n){}}]);
//# sourceMappingURL=10.7ee39cb8.chunk.js.map