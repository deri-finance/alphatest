{"version":3,"sources":["utils/DeriNumberFormat.js","components/Button/Button.js","components/hoc/withModal.js","hooks/useDisableScroll.js","hooks/useQuery.js","components/Mining/Liquidity/Liquidity.js","components/Mining/Liquidity/Dialog/AddLiquidity.js","hooks/useSpecification.js","components/Mining/Liquidity/Dialog/RemoveLiquidity.js","components/Mining/Liquidity/LiquidityMining.js","components/Claim/Claim.js","hooks/useClaimInfo.js","hooks/useConfig.js","components/Mining/Trade/Liquidity.js","components/Mining/Trade/TradeMining.js","../node_modules/react-modal/lib/index.js"],"names":["DeriNumberFormat","props","useState","renderablity","setRenderablity","useEffect","allowZero","others","value","Math","abs","displayType","Button","btnText","className","disabled","click","afterClick","checkApprove","wallet","spec","status","setStatus","isApproved","setIsApproved","pending","setPending","loadRef","useRef","onClick","a","beforeAction","afterAction","current","style","display","loadApproveStatus","detail","account","bTokenId","isUnlocked","chainId","pool","res","approve","unlock","success","alert","ref","marginRight","withModal","Component","appElement","document","getElementById","customizeStyle","overlay","position","zIndex","background","content","border","inset","overflow","state","modalIsOpen","this","overlayMerged","Object","assign","mergedStyle","isOpen","onClose","React","useDisableScroll","nested","window","scrollTo","querySelector","useQuery","URLSearchParams","useLocation","search","AddDialog","address","baseToken","afterAdd","balance","isLpPool","baseTokenId","symbolId","amount","setAmount","decimal","setDecimal","addValue","setAddValue","setSpec","loadSpec","isConnected","getSpecification","useSpecification","addLiq","max","bg","gt","minAddLiquidity","isNaN","addLpLiquidity","addLiquidity","toFixed","substring","indexOf","length","thousandSeparator","decimalScale","type","placeholder","onChange","e","target","RemoveDialog","liqInfo","afterRemove","unit","setBalance","remove","shares","removeLpLiquidity","removeLiquidity","data-dismiss","Operator","version","loadLiqidityInfo","btnType","setBtnType","setIsOpen","buttonElment","setButtonElment","loadBalance","eqInNumber","total","getLpWalletBalance","getWalletBalance","isApprove","isLpUnlocked","result","unlockLp","error","message","connect","el","isV1","inject","observer","liquidity","setLiquidity","bToken","setBToken","loadLiquidityInfo","getPoolInfoApy","apyPool","getPoolLiquidity","pooLiquidity","info","getLpLiquidityInfo","getLiquidityInfo","isLP","getLpPoolInfoApy","lapy","lpApy","apy2","shareValue","multipliedBy","poolLiquidity","apy","percent","dividedBy","toString","values","sharesTitle","isCakeLP","suffix","title","isSushiLP","isV2","LiquidityMining","Claim","miningClaim","tradingClaim","setBtnText","claimed","setClaimed","claimInfo","setClaimInfo","interval","loadClaimInfo","getUserInfoAll","unclaimed","valid","harvestDeriLp","lp","harvestDeriTrade","trade","setInterval","clearInterval","useClaimInfo","claimInfoInterval","remainingTime","setRemainingTime","config","DeriEnv","get","useConfig","claim","text","parseInt","Date","now","mintDToken","period","dis","h","m","s","configInfo","Config","userInfoInPool","setUserInfoInPool","tradeSummary","setTradeSummary","history","useHistory","loadUserInfoInPool","userInfo","getUserInfoInPool","userInfoPool","myTradingVolumeCurrent","volume1h","getTradeInfo","poolInfo","totalTradingVolumeCurrent","configs","load","find","c","storeConfig","push","TradeMining","defineProperty","exports","obj","_Modal","require","_Modal2","__esModule","default","module"],"mappings":"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","file":"static/js/4.d99b5e04.chunk.js","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport NumberFormat from 'react-number-format'\n\nexport default function DeriNumberFormat(props){\n  const [renderablity, setRenderablity] = useState('--');\n\n  useEffect(() => {\n    const {allowZero,...others} = props \n    if((props.value || ((Math.abs(props.value)) === 0 && allowZero === true))) {\n      setRenderablity(<NumberFormat {...others} displayType = 'text' />)\n    } \n    return () => {};\n  }, [props.value]);\n\n  return renderablity;\n}","import {useState,useRef,useEffect} from 'react';\nimport { isUnlocked, unlock } from '../../lib/web3js/v2';\nexport default function Button({btnText,className,disabled,click,afterClick,checkApprove,wallet,spec}){\n  const [status, setStatus] = useState(disabled ? 'disabled' : 'enabled');\n  const [isApproved, setIsApproved] = useState(true);\n  const [pending, setPending] = useState(false);\n  const loadRef = useRef(null)\n\n  const onClick = async () => {\n    if(status !== 'enabled') {\n      return ;\n    }\n    beforeAction()\n    const result = await click();    \n    if(result){\n      afterClick && afterClick()\n    } \n    afterAction()\n  }\n\n  const beforeAction = ()  => {\n    setStatus('disabled')\n    setPending(true);\n    loadRef.current && (loadRef.current.style.display = 'inline-block')\n  }\n\n  const afterAction = () => {\n    loadRef.current && (loadRef.current.style.display = 'none')\n    setStatus('enabled')\n    setPending(false);\n  }\n\n  const loadApproveStatus = async () => {\n    if(checkApprove && wallet && wallet.detail.account && spec.bTokenId){\n      const res = await isUnlocked(wallet.detail.chainId,spec.pool,wallet.detail.account,spec.bTokenId)\n      setIsApproved(res);\n    }\n  }\n  const approve = async () => {\n    beforeAction();\n    const res = await unlock(wallet.detail.chainId,spec.pool,wallet.detail.account,spec.bTokenId);\n    if(res.success){\n      setIsApproved(true);\n    } else {\n      setIsApproved(false)\n      alert('Approve faild')\n    }\n    afterAction();\n  }\n\n  const action = () => {\n    if(isApproved){\n      onClick();\n    } else {\n      approve();\n    }\n  }\n\n  useEffect(() => {\n    loadApproveStatus();\n    return () => {};\n  }, [wallet,spec,checkApprove]);\n\n  return(\n    <button className={className} onClick={action} >\n        <span className='btn-loading-wrap'>\n          <span ref={loadRef}\n            className='spinner spinner-border spinner-border-sm'\n            style={{display : 'none' ,marginRight : '2'}}>\n          </span>\n        </span>\n          {pending ? 'PENDING' : (isApproved ? btnText : 'APPROVE')  }\n        </button>\n  )\n}","import React from 'react'\nimport Modal from 'react-modal/lib/components/Modal';\n\nconst withModal = Component => {\n  const appElement = document.getElementById('root')\n  const customizeStyle =  {\n    overlay: {\n      position: 'fixed',\n      zIndex : 1,\n      background : 'rgb(0 0 0 / 0.5)'\n    },\n    content: {\n      position: 'absolute',\n      border : 0,\n      background : 'none',\n      inset : 0,\n      overflow : 'initial'\n    }\n  };\n\n  class WithModal extends React.Component {\n    constructor(props){\n      super(props)\n      this.state = {\n        modalIsOpen : false\n      }\n    }\n\n    render(){\n      const {modalIsOpen,className,overlay = {}} = this.props\n      const overlayMerged = Object.assign(customizeStyle.overlay,{...overlay})\n      const mergedStyle = Object.assign(customizeStyle,{overlay :overlayMerged})\n      return (\n        <Modal isOpen={modalIsOpen} style={mergedStyle} appElement={appElement}>\n          <div className={className}>\n            <Component {...this.props} className={className} onClose={this.props.onClose}/>\n          </div>\n        </Modal>\n      )\n    }\n  }\n\n  return WithModal;\n}\nexport default withModal;","import { useEffect } from 'react'\n\nexport default function useDisableScroll(nested) {\n  \n  useEffect(() => {\n    window.scrollTo(0, 0);\n    document.querySelector('body').style.overflow = 'hidden'\n    return () => {\n      if(!nested){\n        document.querySelector('body').style.overflow = 'auto'\n      }\n    };\n  }, []);\n  return null;\n}\n","import { useLocation } from \"react-router-dom\";\n\nexport default function useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n","import React, { useState, useEffect} from 'react'\nimport {\n\tgetLiquidityInfo,getPoolInfoApy,isUnlocked,unlock,getPoolLiquidity, getWalletBalance, unlockLp, isLpUnlocked, getLpWalletBalance, getLpLiquidityInfo,getLpPoolInfoApy, bg\n} from '../../../lib/web3js/indexV2'\nimport AddLiquidity from './Dialog/AddLiquidity';\nimport RemoveLiquidity from './Dialog/RemoveLiquidity';\nimport Button from '../../Button/Button';\nimport { inject, observer } from 'mobx-react';\nimport withModal from '../../hoc/withModal';\nimport { eqInNumber, isCakeLP, isLP, isSushiLP } from '../../../utils/utils';\nimport DeriNumberFormat from '../../../utils/DeriNumberFormat';\n\nfunction Liquidity({wallet,version,chainId,baseToken,address,type,baseTokenId,symbolId}) {\n  const [liquidity,setLiquidity] = useState({})\n  const [bToken,setBToken] = useState(baseToken)\n\n\tconst isLpPool = (type === 'lp')\n\t\n\n\tconst loadLiquidityInfo = async () => {\n\t\tconst apyPool = await getPoolInfoApy(chainId,address)\n\t\tconst pooLiquidity = await getPoolLiquidity(chainId,address,baseTokenId);\n\t\tif(wallet.isConnected() && eqInNumber(chainId , wallet.detail.chainId)){\n\t\t\tlet info = null;\n\t\t\tif(isLpPool){\n\t\t\t\tinfo = await getLpLiquidityInfo(chainId,address,wallet.detail.account)\n\t\t\t} else {\n\t\t\t\tinfo = await getLiquidityInfo(chainId,address,wallet.detail.account,baseTokenId);\n\t\t\t}\n\t\t\tlet lpApy ;\n\t\t\tif(isLP(address)){\n\t\t\t\tlet lapy = await getLpPoolInfoApy(chainId,address)\n\t\t\t\tlpApy = (+lapy.apy2) * 100;                     \t\t\t\t\t\t\n\t\t\t\tif(!info.shareValue){\n\t\t\t\t\tinfo.shareValue = 1; \n\t\t\t\t}\n\t\t\t}\n\t\t\tif(info){\n\t\t\t\tif(version.isV1) {\n\t\t\t\t\tconst total = bg(info.shares).multipliedBy(info.shareValue)\n\t\t\t\t\tsetLiquidity({\n\t\t\t\t\t\ttotal :  (+info.poolLiquidity),\n\t\t\t\t\t\tapy : (+apyPool.apy) * 100,\n\t\t\t\t\t\tshareValue : info.shareValue,\n\t\t\t\t\t\tpercent : total.dividedBy(info.poolLiquidity).multipliedBy(100).toString() ,\n\t\t\t\t\t\tshares : info.shares,\n\t\t\t\t\t\tvalues : total.toString(),\n\t\t\t\t\t\tlpApy,\n\t\t\t\t\t\tunit : 'shares',\n\t\t\t\t\t\tsharesTitle : 'Staked Balance'\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tsetLiquidity({\n\t\t\t\t\t\ttotal : (+info.poolLiquidity),\n\t\t\t\t\t\tapy : (+apyPool.apy) * 100,\n\t\t\t\t\t\tshares : info.shares,\n\t\t\t\t\t\tpercent : bg(info.shares).dividedBy(info.poolLiquidity).multipliedBy(100).toString(),\n\t\t\t\t\t\tunit : baseToken,\n\t\t\t\t\t\tsharesTitle : 'My Liquidity'\n\t\t\t\t\t})\n\t\t\t\t}\t\n\t\t\t}\n\t\t} else {\n\t\t\t\n\t\t\tlet lpApy ;\n\t\t\tif(isLP(address)){\n\t\t\t\tlet lapy = await getLpPoolInfoApy(chainId,address)\n        \t\tlpApy = (+lapy.apy2) * 100;                           \n\t\t\t}\n\t\t\tif(pooLiquidity){\n\t\t\t\tsetLiquidity({\n\t\t\t\t\ttotal : pooLiquidity.liquidity,\n\t\t\t\t\tapy : (+apyPool.apy) * 100,\n\t\t\t\t\tlpApy\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tloadLiquidityInfo();\n\t\t//cake 显示的baseToken 不一致，特殊处理\n\t\tif(isCakeLP(address)){\n\t\t\tsetBToken('CAKE-LP')\n\t\t}\n\t\treturn () => {}\n\t}, [wallet.detail.account,baseToken])\n\n\n  return (\n    <div className=\"liquidity-box\">\n      <div className=\"odd title\">Provide { bToken } Earn DERI</div>\n\t\t\t\t<div className=\"odd text\">\n\t\t\t\t\t\t<div className=\"text-title\">Pool Total Liquidity</div>\n\t\t\t\t\t\t<div className=\"text-num\"><DeriNumberFormat allowZero={true} value={ liquidity.total} suffix={` ${ bToken}`  } thousandSeparator={true}/></div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"odd text\">\n\t\t\t\t\t\t<div className=\"text-title\">APY</div>\n\t\t\t\t\t\t<div className='text-num' >\n\t\t\t\t\t\t\t<span title={isLP(address) && 'DERI-APY'} className={`${isLP(address) && 'sushi-apy-underline'}`}><DeriNumberFormat value={ liquidity.apy } decimalScale={2} suffix='%'/></span>\n\t\t\t\t\t\t\t{isLP(address) && <><span> +</span> <span className=\"sushi-apy-underline text-num\" title={isSushiLP(address) ? 'SUSHI-APY' : 'CAKE-APY'}> \n\t\t\t\t\t\t\t<DeriNumberFormat value={ liquidity.lpApy } allowZero={true}  decimalScale={2} suffix='%'/></span></>}\n\t\t\t\t\t\t</div>\t\t\t\t\t\t\n\t\t\t\t</div>\t\n\t\t\t\t{version.isV1 && <div className=\"odd text\">\n\t\t\t\t\t<div className=\"text-title\">Liquidity Share Value</div>\n\t\t\t\t\t<div className=\"text-num\"><DeriNumberFormat  allowZero={true} decimalScale={6} value={ liquidity.shareValue} suffix={ ' '+ bToken } thousandSeparator={true}/></div>\t\t\t\t\t\t\n\t\t\t\t</div>}\n\t\t\t\t<div className=\"odd text\">\n\t\t\t\t\t\t<div className=\"text-title\">My Liquidity Pencentage</div>\n\t\t\t\t\t\t<div className=\"text-num\"><DeriNumberFormat allowZero={true} value={ liquidity.percent } decimalScale={2} suffix={'%'}/></div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"odd text\">\n\t\t\t\t\t\t<div className=\"text-title\">{liquidity.sharesTitle} </div>\n\t\t\t\t\t\t<div className=\"text-num\"><DeriNumberFormat allowZero={true}  value={ liquidity.shares  } decimalScale={2} /> <span>{liquidity.unit}</span> </div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"odd text\">\n\t\t\t\t\t<div className=\"text-title money\">{version.isV1 && <DeriNumberFormat allowZero={true}   value={liquidity.values} suffix ={' '+ bToken } decimalScale={2}/>}</div>\t\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t{version.isV2 && <div className=\"odd text\"></div>}\n\t\t\t\t<div className=\"title-check\">\n\t\t\t\t</div>\n\t\t\t\t<Operator version={version} wallet={wallet} chainId={chainId} address={address} liqInfo={liquidity} baseToken={bToken} isLpPool={isLpPool} loadLiqidityInfo={loadLiquidityInfo} symbolId={symbolId} baseTokenId={baseTokenId}/>\n\t</div>\n  )\n}\n\n\nconst AddDialog = withModal(AddLiquidity)\nconst RemoveDialog = withModal(RemoveLiquidity)\n\n//操作区\nconst Operator = ({version,wallet,chainId,address,baseToken,isLpPool,liqInfo,loadLiqidityInfo,baseTokenId,symbolId})=> {\n\tconst [isApproved,setIsApproved] = useState(false)\n\tconst [btnType, setBtnType] = useState('add')\n\tconst [isOpen, setIsOpen] = useState(false)\n\tconst [balance, setBalance] = useState('');\n\tconst [buttonElment, setButtonElment] = useState(null);\n\t\n\n  const loadBalance = async () => {\n    if(wallet.isConnected() && eqInNumber(wallet.detail.chainId,chainId)){\n\t\t\tlet total = null;\n\t\t\tif(isLpPool){\n\t\t\t\ttotal = await getLpWalletBalance(wallet.detail.chainId,address,wallet.detail.account);\n\t\t\t} else {\n\t\t\t\ttotal = await getWalletBalance(wallet.detail.chainId,address,wallet.detail.account,baseTokenId);\n\t\t\t}\n\t\t\tif(typeof total !== 'object'){\n\t\t\t\tsetBalance(total)\t\t\t\t\n\t\t\t}\n    }\n  }\n\n  useEffect(() => {\n\t\tloadBalance();\n\t\tloadLiqidityInfo();\n    return () => {}\n  }, [wallet.detail.account])\n\n\n\tconst isApprove = async () => {\n\t\tif(isLpPool){\n\t\t\tconst result = await isLpUnlocked(chainId,address,wallet.detail.account) \t\t\t \n\t\t\tsetIsApproved(result);\n\t\t\treturn result;\n\t\t} else {\n\t\t\tconst result = await isUnlocked(chainId,address,wallet.detail.account,baseTokenId) \t\t\t \n\t\t\tsetIsApproved(result);\n\t\t\treturn result;\n\t\t}\n\t}\n\t\n\n\n\tconst approve = async () => {\n\t\tlet res = null;\n\t\tif(isLpPool){\n\t\t\tres = await unlockLp(chainId,address,wallet.detail.account);\n\t\t} else {\n\t\t\tres = await unlock(chainId,address,wallet.detail.account,baseTokenId);\n\t\t}\t\t\n\t\tif(res && res.success){\n\t\t\tsetIsApproved(true)\n\t\t} else {\n\t\t\talert(res.error ?  res.error.message || 'Approve failed' : 'Approve failed')\n\t\t}\n  }\n\n\n\tconst connect =  async () => {\n\t\tawait wallet.connect();\n\t}\n\t\n\tconst addLiquidity = () => {\n\t\tsetIsOpen(true);\n\t\tsetBtnType('add')\n\t}\n\n\tconst afterClick = () => {\n\t\tsetIsOpen(false);\n\t\t// loadLiquidity()\n\t\tloadBalance();\n\t\tloadLiqidityInfo();\n\t}\n\n\tconst removeLiquidity = () => {\n\t\tsetIsOpen(true);\n\t\tsetBtnType('remove')\n\t}\n\n\n  \n  useEffect(() => {\n\t\t//todo 判断网络\n    if(wallet.isConnected() && eqInNumber(wallet.detail.chainId, chainId)){\n\t\t\tisApprove()\n    }\n\t\treturn () => {}\n\t}, [wallet.detail.account])\n\n\tuseEffect(() => {\t\t\n\t\tif(wallet.isConnected() && eqInNumber(wallet.detail.chainId,chainId) && isApproved){\n\t\t\tsetButtonElment((<div className=\"add-remove-liquidity\">\n\t\t\t<button \n\t\t\t\t\tclassName=\"add-liquidity\"\n\t\t\t\t\tonClick={addLiquidity}>\n\t\t\t\t\tADD LIQUIDITY\n\t\t\t</button>\n\t\t\t<button className=\"remove-liquidity\" onClick={removeLiquidity}>\n\t\t\t\t\tREMOVE LIQUIDITY\n\t\t\t</button>\n\t\t</div>))\n\t\t} else {\n\t\t\tlet el = null\n\t\t\tif(!wallet.isConnected()){\n\t\t\t\tel = <div className='approve'><Button className='approve-btn' click={connect} btnText='Connect Wallet'></Button></div>\n\t\t\t} else if(!eqInNumber(wallet.detail.chainId,chainId)) {\n\t\t\t\tel = <div className=\"approve\" ><Button className='approve-btn wrong-network' btnText='Wrong Network'></Button></div>\t\t\t\t\n\t\t\t} else if(!isApproved) {\n\t\t\t\tel = <div className='approve'><Button className='approve-btn' click={approve} btnText='APPROVE'></Button></div>\n\t\t\t} \n\t\t\tsetButtonElment(el)\n\t\t}\n\t\t\t\n\t\treturn () => {};\n\t}, [wallet.detail.account,isApproved]);\n\n  return (\n    <div className=\"liquidity-btn\">\n\t\t\t{\n\t\t\t\tbtnType === 'add' \n\t\t\t\t? <AddDialog  modalIsOpen={isOpen} isLpPool={isLpPool} onClose={afterClick} balance={balance}\n\t\t\t\t\t\t\t\t\t\t  address={address} wallet={wallet} baseToken={baseToken} afterAdd={afterClick} baseTokenId={baseTokenId}  symbolId={symbolId}/> \n\t\t\t\t: <RemoveDialog  modalIsOpen={isOpen} isLpPool={isLpPool} onClose={afterClick} liqInfo={liqInfo} \n\t\t\t\t\t\t\t\t\t\t\taddress={address} wallet={wallet} unit={version.isV1 ? 'shares' :baseToken} afterRemove={afterClick} baseTokenId={baseTokenId} symbolId={symbolId}/>\n\t\t\t}\t\t\t\n\t\t\t{buttonElment}\n  </div>\n  )\n}\n\nexport default inject('wallet','version')(observer(Liquidity))","import React, { useState ,useEffect} from 'react'\nimport NumberFormat from 'react-number-format'\nimport Button from '../../../Button/Button';\nimport Modal from 'react-modal'\nimport { addLiquidity, getWalletBalance, bg, addLpLiquidity } from '../../../../lib/web3js/indexV2';\nimport useSpecification from '../../../../hooks/useSpecification';\nimport useDisableScroll from '../../../../hooks/useDisableScroll';\n\n\n\nexport default function AddLiquidity({wallet,address,baseToken,onClose,afterAdd,balance,isLpPool,baseTokenId,symbolId}){\n  const [amount, setAmount] = useState('0');\n  const [decimal, setDecimal] = useState('00');\n  const [addValue, setAddValue] = useState('')\n  const spec = useSpecification({wallet,address,symbolId});\n  useDisableScroll();\n\n\n  const input = (e) => {\n    const {value} =e.target\n    setAddValue(value)\n  }\n\n  const addAll = () => {\n    setAddValue(balance);\n  }\n\n  const addLiq = async () => {\n    const max = bg(balance)\n    const cur = bg(addValue);\n    if(cur.gt(max)) {\n      alert(\"not sufficient funds\");\n      return false;\n    }\n    if(spec && (+addValue) < (+spec.minAddLiquidity)) {\n      alert(`The input liquidity shall not be less than ${spec.minAddLiquidity}`);\n      return false;\n    }\n    if(addValue <=0 || isNaN(addValue)){\n      alert(\"It has to be greater than zero\");\n      return false;\n    }\n    let res =  null;\n    if(isLpPool){\n      res = await addLpLiquidity(wallet.detail.chainId,address,wallet.detail.account,addValue);\n    } else{\n      res = await addLiquidity(wallet.detail.chainId,address,wallet.detail.account,addValue,baseTokenId)\n    }\n    \n    if (!res ||  !res.success) {\n      alert(\"failure of transaction\");\n    }\n    return true;\n  }\n\n  useEffect(() => {    \n    const amount = (+balance).toFixed(2)\n    const decimal = amount.substring(amount.indexOf('.') + 1,amount.length)\n    setAmount(amount);\n    setDecimal(decimal)\n    return () => {};\n  }, [balance]);\n\n\n  return(\n    <div className='modal-dialog'>\n        <div className='modal-content'>\n          <div className='modal-header'>\n            <div className='title'>ADD LIQUIDITY</div>\n            <div className='close' onClick={onClose}>\n              <span>&times;</span>\n            </div>\n          </div>\n          <div className='modal-body'>\n            <div className='margin-box-info'>\n              <div>Wallet Balance</div>\n              <div className='money'>\n                <span> \n                  <span className='bt-balance'>\n                    <NumberFormat displayType='text' value ={amount } thousandSeparator={true} allowZero={true} decimalScale={0}/>.\n                    <span className='float'><NumberFormat displayType='text' value ={decimal} thousandSeparator={true} decimalScale={2} allowZero={true}/></span>\n                  </span> \n                    <div className='base-token'>{ baseToken }</div> \n                  </span>\n                <span className='add'></span>\n              </div>\n              <div className='enter-margin'>\n                <div className='input-margin'>\n                  <div className='box'>\n                    <div className='amount' style={{display : addValue ? 'block' : 'none'}}>LIQUIDITY</div>\n                    <input\n                      type='number'\n                      className='margin-value'\n                      placeholder='LIQUIDITY'\n                      value={addValue}\n                      onChange={input}\n                    />\n                  </div>\n                </div>\n                <div>{ baseToken }</div>\n              </div>\n              <div className='max'>\n                MAX: <span className='max-num'>{balance }</span>\n                <span className='max-btn-left' onClick={addAll}>ADD ALL</span>\n              </div>\n              <div className='add-margin-btn'>\n                <Button className='margin-btn' click={addLiq} btnText='ADD' afterClick={afterAdd}/>\n              </div>\n            </div>\n          </div>    \n        </div>\n      </div>\n  )\n}","import { useState, useEffect } from 'react'\nimport { getSpecification } from \"../lib/web3js/indexV2\";\n\nexport default function useSpecification({wallet,address,symbolId}){\n  const [spec, setSpec] = useState({});\n\n  const loadSpec = async () => {\n    if(wallet.isConnected() && address){\n      const spec =  await getSpecification(wallet.detail.chainId,address,symbolId);\n      setSpec(spec);\n    }\n  }\n\n  useEffect(() => {\n    loadSpec();\n    return () => {      \n    }\n  }, wallet.detail.account,address);\n\n  return spec;\n}","import React, { useState ,useEffect} from 'react'\nimport NumberFormat from 'react-number-format'\nimport { removeLiquidity, bg, removeLpLiquidity } from '../../../../lib/web3js/indexV2';\nimport Button from '../../../Button/Button';\nimport useDisableScroll from '../../../../hooks/useDisableScroll';\n\nexport default function RemoveLiquidity({wallet,address,liqInfo,onClose,afterRemove,isLpPool,baseTokenId,unit}){  \n  const [amount, setAmount] = useState('');\n  const [balance, setBalance] = useState('0');\n  const [decimal, setDecimal] = useState('00');\n  useDisableScroll();\n\n\n  const addAll = () => {\n    setAmount(liqInfo.shares)\n  }\n\n  const onChange = e => {\n    const {value} = e.target;\n    setAmount(value)\n  }\n\n  const remove = async () => {\n    const max = bg(liqInfo.shares);\n    const cur = bg(amount);\n    if (cur.gt(max)) {\n      alert(`Your current max removable shares are  ${liqInfo.shares}`);\n      return false;\n    }\n    if(!isLpPool){\n      const balance = (+liqInfo.shares) - (+amount)\n      if (balance < 1 && balance > 0) {\n        alert('Leaving staking balance of smaller than 1 is not allowed. Please click \"MAX\" to remove all if you are to withdraw all of your liquidity.');\n        return false;\n      }\n    }\n    if (+amount <= 0 || isNaN(amount)) {\n      alert(\"Invalid Liquidity!\");\n      return false;\n    }\n    let res = null;\n    if(isLpPool){\n      res = await removeLpLiquidity(wallet.detail.chainId,address,wallet.detail.account,amount);\n    } else {\n      res = await removeLiquidity(wallet.detail.chainId,address,wallet.detail.account,amount,baseTokenId);\n    }\n    \n    if(!res || !res.success){\n      alert(\"failure of transaction\");\n      return false; \n    }\n    return true;\n  }\n\n\n  useEffect(() => {    \n    if(liqInfo && liqInfo.shares){\n      const balance = (+liqInfo.shares).toFixed(2);\n      const decimal = balance.substring(balance.indexOf('.') +1 ,balance.indexOf('.') + 3)\n      setBalance(balance);\n      setDecimal(decimal)\n    }\n    return () => {};\n  }, [liqInfo.shares]);\n\n  \n  \n  return(\n    <div className='modal-dialog'>\n        <div className='modal-content'>\n          <div className='modal-header'>\n            <div className='title'>REMOVE LIQUIDITY</div>\n            <div className='close' data-dismiss='modal' onClick={onClose}>\n              <span>&times;</span>\n            </div>\n          </div>\n          <div className='modal-body'>          \n            <div className='margin-box-info'>\n              <div>Shares Available</div>\n              <div className='money'>\n                <span>\n                  <span className='bt-balance'>\n                    <NumberFormat displayType='text' value ={balance} decimalScale={0} thousandSeparator={true}/>.\n                    <span className='float'>{decimal}</span>\n                  </span>\n                    </span>\n                <span className='remove'></span>\n              </div>\n              <div className='enter-margin'>\n                <div className='input-margin'>\n                  <div className='box'>\n                    <div className='amount' style={{display : amount ? 'block' : 'none'}}>\n                      LIQUIDITY SHARES\n                    </div>\n                    <input\n                      type='number'\n                      className='margin-value'\n                      placeholder='LIQUIDITY SHARES'\n                      value={amount}\n                      onChange={onChange}\n                    />\n                  </div>\n                </div>\n                <div>{unit}</div>\n              </div>\n              <div className='max'>\n                <span>MAX REMOVEABLE:</span>\n                <span className='max-num'>{liqInfo.shares}</span>\n                <span className='max-btn-left' onClick={addAll}>REMOVE ALL</span>\n              </div>\n              <div className='add-margin-btn'>\n                <Button click={remove} className='margin-btn' btnText='REMOVE' afterClick={afterRemove}/>\n              </div>\n            </div>\n          </div>    \n        </div>\n      </div>\n      )\n}","import Claim from '../../Claim/Claim';\nimport Liquidity from './Liquidity';\n\n\nfunction LiquidityMining(props){\n  return (\n    <div className=\"liquidity-info\">\n      <Claim {...props} miningClaim={true}/>\n      <Liquidity {...props}/>\n  </div>)\n}\n\nexport default LiquidityMining","import { useState, useEffect} from 'react'\n\nimport useClaimInfo from \"../../hooks/useClaimInfo\";\nimport useConfig from \"../../hooks/useConfig\";\nimport { mintDToken } from \"../../lib/web3js/indexV2\";\nimport Button from '../Button/Button';\nimport { eqInNumber } from '../../utils/utils';\n\nexport default function Claim({wallet,miningClaim,tradingClaim}){\n\tconst [btnText, setBtnText] = useState('Collect Wallet')\n\tconst [claimed, setClaimed] = useState(false);\n\tconst [claimInfo,claimInfoInterval] = useClaimInfo(wallet);\n\tconst [remainingTime, setRemainingTime] = useState('')\n\tconst config = useConfig(claimInfo.chainId) \n\n  //claim deri\n\tconst claim = async () => {\n\t\tif(!eqInNumber(wallet.detail.chainId,claimInfo.chainId)) {\n\t\t\talert(`Your DERI is on ${ config.text } . Connect to ${ config.text } to claim.`)\n\t\t\treturn ;\n\t\t}\n\t\tif (claimInfo.unclaimed === 0) {\n\t\t\talert('Sorry,no DERI to claim yet');\n\t\t\treturn;\n\t\t}\n\t\tlet now = parseInt(Date.now() / 1000) % (3600 * 8);\n\t\tif (now < 1800) {\n\t\t\talert('Claiming DERI is disabled during first 30 minutes of each epoch');\n\t\t\treturn;\n\t\t}\n\t\tconst res = await mintDToken(wallet.detail.chainId,wallet.detail.account)\n\t\tif(res.success){\n\t\t\tclearInterval(claimInfoInterval);\n\t\t\treturn true;\n\t\t} else {\n\t\t\talert('Claim failed')\n\t\t\treturn false;\n\t\t}\n  }\n\n\tconst click = async () => {\n\t\tif(wallet.isConnected()){\n\t\t\tconst res = await claim();\n\t\t\tif(res){\n\t\t\t\tsetClaimed(true)\n\t\t\t}\n\t\t} \n\t}\n\n\n\t\n\t//初始化按钮文案和事件\n\tconst initButton = () => {\n\t\tif(wallet.isConnected()){\n\t\t\tsetBtnText('CLAIM')\n\t\t} else {\n\t\t\tsetBtnText('Collect Wallet')\n\t\t}\n\t}\n  \n  useEffect(() => {\n\t\tlet interval = null;\n\t\tif(miningClaim){\n\t\t\t//计数器\n\t\t\tinterval = window.setInterval(() => {\n\t\t\t\tlet period = 3600 * 8;\n\t\t\t\tlet current = parseInt(Date.now()/1000);\n\t\t\t\tlet epochBegin = parseInt(current / period)*period;\n\t\t\t\tlet dis = (epochBegin + period - current);\n\t\t\t\tlet h = parseInt(dis / 3600);\n\t\t\t\tlet m = parseInt((dis % 3600)/60)\n\t\t\t\tlet s = parseInt(dis % 60) \n\t\t\t\tsetRemainingTime(`${h} h ${m} m ${s} s`);\n\t\t\t},1000);\n\t\t}    \n\n\t\tinitButton();\t\t\n    return () => {\n      interval && clearInterval(interval);\n\t\t};\n\t\t\n  }, [wallet.detail.account]);\n\n\n  return (\n    <div className='claim-box'>\n\t\t\t\t<div className='odd title'>{miningClaim ?  'My Liquidity-Providing Harvest in Current Epoch' : 'My Trading Harvest in Current Epoch'}</div>\n\t\t\t\t{miningClaim && <div className='odd text'>\n\t\t\t\t\t\t<div className='text-title'>Current Epoch Remaining Time</div>\n\t\t\t\t\t\t<div className='text-num'>{ remainingTime }</div>\n\t\t\t\t</div>}\t\t\t\t\n\t\t\t\t<div className='odd text'>\n\t\t\t\t\t\t{miningClaim && <div className='text-title'>My Harvest in Current Epoch (estimated)</div>}\n\t\t\t\t\t\t{tradingClaim && <div className='text-title'> My Trading Harvest in Current Epoch (Est)</div>}\n\t\t\t\t\t\t<div className='text-num'>{ miningClaim ? claimInfo.harvestDeriLp : claimInfo.harvestDeriTrade} DERI</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='odd text'>\n\t\t\t\t\t\t<div className='text-title'>Claimed DERI</div>\n\t\t\t\t\t\t<div className='text-num'>{claimed ? ((+claimInfo.claimed) + (+claimInfo.unclaimed)).toFixed(2) : claimInfo.claimed }</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='odd text'>\n\t\t\t\t\t\t<div className='text-title'></div>\n\t\t\t\t\t\t<div className='text-num'></div>\n\t\t\t\t</div>\n\t\t\t\t<div className='odd text'>\n\t\t\t\t\t\t<div className='text-title'>Unclaimed DERI</div>\n\t\t\t\t\t\t<div className='text-num'>{ claimed ? 0 : claimInfo.unclaimed }</div>\n\t\t\t\t</div>\n\t\t\t\t{tradingClaim && \n\t\t\t\t<div className='odd text'>\n\t\t\t\t\t\t<div className='text-title'></div>\n\t\t\t\t\t\t<div className='text-num'></div>\n\t\t\t\t</div>}\n\t\t\t\t<div className='odd claim-network'>\n\t\t\t\t\t\t{miningClaim && <div className='text-title'>Your DERI is on { config.text } . Connect to { config.text } to claim.</div>}\n\t\t\t\t</div>\n\t\t\t\t<div className='claim-btn'>\n\t\t\t\t\t<Button btnText={btnText} click={click} className='claim'/>\t\t\t\t\t\n\t\t\t\t</div>\n      </div>\n  ) \n}","import { useState, useEffect } from 'react'\nimport { getUserInfoAll ,deriToNatural} from '../lib/web3js/indexV2';\n\n\nexport default function useClaimInfo(wallet){\n  const [claimInfo, setClaimInfo] = useState({});\n  let interval = null;\n\n  const loadClaimInfo =  async () => {\n    if(wallet.isConnected()){\n      const claimInfo  = await getUserInfoAll(wallet.detail.account);\n      const claimed = (+claimInfo.total).toFixed(2);\n      const unclaimed = claimInfo.valid ? (+claimInfo.amount).toFixed(2) : 0;\n      const harvestDeriLp = (+claimInfo.lp).toFixed(2);\n      const harvestDeriTrade = (+claimInfo.trade).toFixed(2);\n      const chainId = claimInfo.chainId\n      setClaimInfo({claimed,unclaimed,harvestDeriLp,harvestDeriTrade,chainId})\n    }\n  }\n\n  useEffect(() => {\n    interval = window.setInterval(loadClaimInfo,1000 * 60 *3);\n      loadClaimInfo();\n    return () => clearInterval(interval);\n  }, [wallet.detail.account])\n  return [claimInfo,interval];\n}","import config from '../config.json'\nimport {DeriEnv} from '../lib/web3js/indexV2'\nexport default function useConfig(chainId,type = 'chainInfo'){\n  return config[DeriEnv.get()][type][chainId] || {};\n}","import { useState, useEffect } from 'react'\nimport {Link} from 'react-router-dom'\nimport { getUserInfoAll,getUserInfoInPool ,getPoolInfoApy} from '../../../lib/web3js/indexV2';\nimport { useHistory } from 'react-router-dom';\nimport { inject, observer } from 'mobx-react';\nimport { storeConfig, eqInNumber } from '../../../utils/utils';\nimport Config from '../../../model/Config';\n\nconst configInfo = new Config();\n\n\nfunction Liquidity({wallet = {},version,chainId,address,symbolId}) {\n  const [userInfoInPool,setUserInfoInPool] = useState({})\n  const [tradeSummary, setTradeSummary] = useState({});\n  const history = useHistory();\n\n\tconst loadUserInfoInPool = async () => {\n\t\tconst userInfo = await getUserInfoAll(wallet.account);\n\t\tconst userInfoPool = await getUserInfoInPool(chainId,address,wallet.account);\n\t\tconst harvestDeriTrade = (+userInfo.trade).toFixed(2);\n\t\tconst myTradingVolumeCurrent = userInfoPool.volume1h\n\t\tsetUserInfoInPool({harvestDeriTrade,myTradingVolumeCurrent})\n\t}\n\n\tconst getTradeInfo = async () => {\n\t\tconst poolInfo = await getPoolInfoApy(chainId,address);\n\t\tconst totalTradingVolumeCurrent = poolInfo.volume1h\n\t\tsetTradeSummary({totalTradingVolumeCurrent})\n  }\n  \n  const toTrade = () => {\n    const configs = configInfo.load(version);\n    const config = version.isV1 ? configs.find(c => eqInNumber(c.pool,address)) : configs.find(c => eqInNumber(c.pool,address) && c.symbolId === symbolId)\n    storeConfig(version.current,config)\n    history.push('/lite')\n  }\n\n\tuseEffect(() => {\n\t\tif(wallet && wallet.account){\n\t\t\tloadUserInfoInPool();\n\t\t\tgetTradeInfo();\n\t\t}\n\t\treturn () => {};\n\t}, []);\n\n  return(\n    <div className=\"liquidity-box\">\n      <div className=\"odd title\">Trade to Earn DERI</div>\n        <div className=\"odd text\">\n            <div className=\"text-title\">Total Trading Volume in Current Hour</div>\n            <div className=\"text-num\">{ tradeSummary.totalTradingVolumeCurrent || 0}</div>\n        </div>\n        <div className=\"odd text\">\n            <div className=\"text-title\">My Trading Volume in Current Hour</div>\n            <div className=\"text-num\">{ userInfoInPool.myTradingVolumeCurrent || 0 }</div>\n        </div>\n        <div className=\"odd text\">\n            <div className=\"text-title\"></div>\n            <div className=\"text-num\"></div>\n        </div>\n        <div className=\"odd text\">\n            <div className=\"text-title\"></div>\n            <div className=\"text-num\"></div>\n        </div>\n        <div className=\"odd text\">\n            <div className=\"text-title\"></div>\n            <div className=\"text-num\"></div>\n        </div>\n        <div className=\"odd claim-network\">\n              \n        </div>\n        <div className=\"claim-btn\">\n            <button className=\"claim\" onClick={toTrade}>\n              TRADE\n            </button>\n        </div>\n    </div> \n  )\n}\nexport default inject('version')(observer(Liquidity))","import Claim from '../../Claim/Claim';\nimport Liquidity from './Liquidity';\n\nexport default function TradeMining({wallet,...props}){\n  return(\n    <div className=\"trade-info\">\n      <Claim wallet={wallet} tradingClaim={true}/>\n\t\t\t<Liquidity {...props}/>\n  </div>\n  )\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Modal = require(\"./components/Modal\");\n\nvar _Modal2 = _interopRequireDefault(_Modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _Modal2.default;\nmodule.exports = exports[\"default\"];"],"sourceRoot":""}