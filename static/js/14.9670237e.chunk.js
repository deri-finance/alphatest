(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[14],{611:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n(0),a=n.n(c),s=n(1),r=n(9),i=n(6),o=n(18);function l(e){var t=e.btnText,n=e.className,c=e.disabled,l=e.click,u=e.afterClick,d=e.checkApprove,b=e.wallet,p=e.spec,j=e.lang,f=Object(i.useState)(c?"disabled":"enabled"),O=Object(r.a)(f,2),m=O[0],x=O[1],v=Object(i.useState)(!0),h=Object(r.a)(v,2),y=h[0],k=h[1],N=Object(i.useState)(!1),g=Object(r.a)(N,2),I=g[0],w=g[1],S=Object(i.useState)(t),T=Object(r.a)(S,2),A=T[0],C=T[1],_=Object(i.useRef)(null),E=function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("enabled"===m){e.next=2;break}return e.abrupt("return");case 2:return F(),e.next=5,l();case 5:e.sent&&u&&u(),q();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){x("disabled"),w(!0),_.current&&(_.current.style.display="inline-block")},q=function(){_.current&&(_.current.style.display="none"),x("enabled"),w(!1)},z=function(){var e=Object(s.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(d&&b&&b.detail.account)){e.next=5;break}return e.next=3,b.isApproved(p.pool,p.bTokenId);case 3:t=e.sent,k(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(),e.next=3,b.approve(p.pool,p.bTokenId);case 3:e.sent.success?k(!0):(k(!1),alert(j["approve-failed"])),q();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){return z(),function(){}}),[b,p,d]),Object(i.useEffect)((function(){return t&&C(t),function(){}}),[t]),Object(o.jsxs)("button",{className:n,onClick:function(){y?E():H()},children:[Object(o.jsx)("span",{className:"btn-loading-wrap",children:Object(o.jsx)("span",{ref:_,className:"spinner spinner-border spinner-border-sm",style:{display:"none",marginRight:"2"}})}),I?j.pending:y?A:j.approve]})}},612:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(6),a=n(613),s=n(18);function r(e){const[t,n]=Object(c.useState)("--");return Object(c.useEffect)((()=>{const{allowZero:t,...c}=e;return("object"!==typeof e.value&&void 0!==e.value&&""!==e.value&&"NaN"!==e.value||0===(isNaN(e.value)&&Math.abs(e.value))&&!0===t)&&n(Object(s.jsx)(a.a,{...c,displayType:"text"})),()=>{}}),[e.value]),t}},616:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var c=n(0),a=n.n(c),s=n(1),r=n(9),i=n(6),o=n(16),l=n(95),u=n(33),d=(n(14),o.a.get()),b=l[d].chainInfo;function p(e){var t=Object(i.useState)(!1),n=Object(r.a)(t,2),c=n[0],l=n[1],p=Object(i.useState)([]),j=Object(r.a)(p,2),f=j[0],O=j[1],m=Object(i.useState)([]),x=Object(r.a)(m,2),v=x[0],h=x[1],y=Object(i.useState)([]),k=Object(r.a)(y,2),N=k[0],g=k[1],I=Object(i.useState)([]),w=Object(r.a)(I,2),S=w[0],T=w[1],A=Object(i.useState)([]),C=Object(r.a)(A,2),_=C[0],E=C[1],F=Object(i.useState)([]),q=Object(r.a)(F,2),z=q[0],H=q[1],K=Object(i.useState)([]),P=Object(r.a)(K,2),U=P[0],G=P[1];return Object(i.useEffect)((function(){var t=function(){var e=Object(s.a)(a.a.mark((function e(t){var n,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.A)(t.chainId,t.pool,t.bTokenId);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return n=e.t0,e.next=8,Object(o.z)(t.chainId,t.pool,t.bTokenId);case 8:if(e.t1=e.sent,e.t1){e.next=11;break}e.t1={};case 11:return c=e.t1,s=t.pool||"",e.abrupt("return",Object.assign(t,{network:b[t.chainId]&&b[t.chainId].name,liquidity:n.liquidity,apy:(100*+c.apy).toFixed(2),formatAdd:Object(u.e)(s),address:s,type:"perpetual",buttonText:"STAKING",multiplier:c.multiplier}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(e){var t=[];return e.reduce((function(e,t){var n=e.find((function(e){return Object(u.d)(e.pool.address,t.address)}));if(n&&n.list.length<5)n.list.push(t);else{var c={pool:{network:t.network,symbol:t.symbol,address:t.address,formatAdd:t.formatAdd,version:t.version,chainId:t.chainId,airdrop:t.airdrop,type:t.type,bTokenSymbol:t.bTokenSymbol,bTokenId:t.bTokenId,symbolId:t.symbolId},list:[t]};e.push(c)}return e}),t),t},c=Object(o.l)(d,"v2"),r=Object(o.l)(d,"v1"),i=Object(o.l)(d,"v2_lite"),p=Object(o.l)(d,"option"),j=Object(o.D)(d),m=Object(o.l)(d,"v2_lite_open"),x=c.concat(r).concat(j).concat(i).concat(p).concat(m).reduce((function(e,t){var n=e.findIndex((function(e){return e.chainId===t.chainId&&e.bTokenSymbol===t.bTokenSymbol&&t.version===e.version}));return("v2"===t.version||"v2_lite"===t.version||"option"===t.version||"v2_lite_open"===t.version)&&n>-1&&-1===e[n].symbol.indexOf(t.symbol)?e[n].symbol+=",".concat(t.symbol):e.push(t),e}),[]);x=x.map(t);var v=Object(o.u)(d).map(function(){var e=Object(s.a)(a.a.mark((function e(t){var n,c,s,r,i,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.A)(t.chainId,t.pool);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return n=e.t0,e.next=8,Object(o.z)(t.chainId,t.pool);case 8:if(e.t1=e.sent,e.t1){e.next=11;break}e.t1={};case 11:if(c=e.t1,s=t.pool||"",!Object(u.m)(t.pool)){e.next=18;break}return e.next=16,Object(o.w)(t.chainId,t.pool);case 16:l=e.sent,r=l&&(100*+l.apy2).toFixed(2);case 18:return Object(u.n)(t.pool)&&(i="SUSHI-APY"),Object(u.l)(t.pool)&&(i="CAKE-APY"),e.abrupt("return",Object.assign(t,{network:b[t.chainId].name,liquidity:n.liquidity,apy:(100*+c.apy).toFixed(2),formatAdd:Object(u.e)(s),lpApy:r,address:s,type:"lp",label:i,buttonText:"STAKING"}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y=x.concat(v);return Promise.all(y).then((function(t){var c=t.filter((function(e){return("v1"===e.version||!e.version)&&!e.retired})),a=t.filter((function(e){return("v2"===e.version||"v2_lite"===e.version)&&!e.retired})),s=t.filter((function(e){return"option"===e.version&&!e.retired})),r=t.filter((function(e){return e.retired&&!e.premining})),i=t.filter((function(e){return e.retired&&e.premining})),o=t.filter((function(e){return e.isOpen}));e&&(c=n(c),a=n(a),s=n(s),o=n(o)),g(a),h(c),T(s),O(t),E(r),H(i),G(o),l(!0)})),function(){return f.length=0}}),[]),[c,f,v,N,S,_,z,U]}},635:function(e,t,n){"use strict";var c=n(0),a=n.n(c),s=n(1),r=n(9),i=n(6),o=n(22),l=n(95),u=n(16),d=n(612),b=n(46),p=n(611),j=n(33),f=n(610),O=n.n(f),m=n(18),x=l[u.a.get()].chainInfo;function v(e){var t=e.wallet,n=e.pool,c=e.card,l=e.index,b=e.list,f=e.lang,O=Object(i.useState)(""),x=Object(r.a)(O,2),v=x[0],h=x[1],y=Object(i.useState)(!1),k=Object(r.a)(y,2),N=k[0],g=k[1],I=Object(o.useHistory)(),w=function(){t.connect().then((function(){g(!0)}))},S=function(){var e=Object(s.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.H)(t.detail.account);case 2:if((n=e.sent).valid){e.next=6;break}return alert(f["no-deri-to-claim"]),e.abrupt("return");case 6:if(Object(j.d)(t.detail.chainId,n.chainId)){e.next=9;break}return alert(f["please-switch-to-BSC-to-claim-deri"]),e.abrupt("return");case 9:return e.next=11,Object(u.Q)(n.chainId,t.detail.account);case 11:e.sent.success||alert(f["claim-failed"]);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){if(n&&n.airdrop)t.isConnected()?h(Object(m.jsx)(p.a,{btnText:f.claim,click:S,lang:f})):h(Object(m.jsx)(p.a,{btnText:f["connect-wallet"],click:w,lang:f}));else{var e="/mining/".concat(n.version||"v1","/").concat(n.chainId,"/").concat(c.type,"/").concat(c.symbol,"/").concat(c.bTokenSymbol,"/").concat(n.address);c.bTokenId&&(e="".concat(e,"?baseTokenId=").concat(c.bTokenId)),c.symbolId&&(e=e.indexOf("?")>0?"".concat(e,"&symbolId=").concat(c.symbolId):"".concat(e,"?symbolId=").concat(c.symbolId)),h(Object(m.jsx)("button",{onClick:function(){return function(e){I.push(e)}(e)},children:f.staking}))}return function(){}}),[t.detail.account,N]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"info",children:[Object(m.jsxs)("div",{className:"top-info",children:[Object(m.jsxs)("div",{className:"pool-top",children:[Object(m.jsx)("span",{className:"logo ".concat(c.bTokenSymbol)}),Object(m.jsx)("span",{className:"base-token",children:c.bTokenSymbol})]}),Object(m.jsxs)("div",{className:"pool-detail",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"title",children:c.airdrop?f.total:f["pool-liq"]}),Object(m.jsx)(d.a,{value:c.liquidity,displayType:"text",thousandSeparator:!0,decimalScale:c.lpApy?7:0})]}),Object(m.jsx)("div",{className:"multiplier",children:c.multiplier&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{children:f.multiplier}),Object(m.jsxs)("span",{className:"multiplier-value",title:f["multiplier-tip"],children:[c.multiplier,"x"]})]})}),Object(m.jsx)("div",{className:"apy",children:!c.isOpen&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{children:f.apy}),Object(m.jsxs)("span",{children:[Object(m.jsx)("span",{className:c.lpApy?"sushi-apy-underline":"",title:c.lpApy&&f["deri-apy"],children:c.apy?Object(m.jsx)(d.a,{value:c.apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}):"--"}),c.lpApy&&c.lpApy>0&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{children:" + "}),Object(m.jsxs)("span",{className:c.lpApy?"sushi-apy-underline":"",title:c.lpApy&&c.label,children:[" ",Object(m.jsx)(d.a,{value:c.lpApy,displayType:"text",suffix:"%",decimalScale:2})]})]})]})]})})]})]}),Object(m.jsx)("div",{className:"bottom-btn",children:v})]}),l!==b.length-1&&Object(m.jsx)("div",{className:"top-line"})]})}t.a=Object(b.b)("wallet","version")(Object(b.c)((function(e){var t=e.wallet,n=e.group,c=void 0===n?{}:n,a=e.lang,s=c.pool,r=c.list,i=O()("pool",{"only-one":1===r.length,full:5===r.length});return Object(m.jsxs)("div",{className:i,children:[Object(m.jsxs)("div",{className:"pool-header",children:[Object(m.jsxs)("div",{className:"left",children:[Object(m.jsx)("div",{className:"network",children:s.network&&s.network.toUpperCase()}),Object(m.jsxs)("div",{className:"pool-desc",children:[Object(m.jsxs)("span",{className:"symbol",children:[Object(m.jsxs)("span",{className:"symbol-label",children:[a.symbol,":"]}),Object(m.jsx)("span",{className:"symbol-value",children:s.symbol})]}),Object(m.jsxs)("span",{className:"address",children:[Object(m.jsxs)("span",{className:"address-label",children:[a.address,":"]}),s.airdrop?"--":Object(m.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(x[s.chainId]&&x[s.chainId].viewUrl,"/address/").concat(s.address),children:s.formatAdd})]})]})]}),Object(m.jsx)("div",{className:"version",children:a[s.version]})]}),Object(m.jsx)("div",{className:"pool-info",children:r.map((function(e,n){return Object(m.jsx)(v,{card:e,index:n,pool:s,list:r,wallet:t,lang:a},n)}))})]})})))},636:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(637);var c=n(18);function a(e){var t=e.lang;return Object(c.jsxs)("div",{className:"pool-placehold",children:[Object(c.jsx)("div",{className:"header",children:Object(c.jsx)("div",{className:"title",children:t["add-pool"]})}),Object(c.jsxs)("div",{className:"pool-body",children:[Object(c.jsx)("div",{className:"info",children:Object(c.jsx)("div",{children:t["add-pool-text"]})}),Object(c.jsx)("div",{className:"btn-c",children:Object(c.jsx)("button",{onClick:function(){return alert(t["coming-soon"])},children:t.add})})]})]})}},637:function(e,t,n){},714:function(e,t,n){},715:function(e,t,n){},756:function(e,t,n){"use strict";n.r(t);var c=n(9),a=n(6),s=n(635),r=n(616),i=n(610),o=n.n(i),l=(n(714),n(715),n(46)),u=n(636),d=n(18);t.default=Object(l.b)("version","loading")(Object(l.c)((function(e){var t=e.lang,n=e.loading,i=Object(r.a)(!0),l=Object(c.a)(i,8),b=l[0],p=(l[1],l[2]),j=l[3],f=l[4],O=(l[5],l[6],l[7]),m=Object(a.useState)("future"),x=Object(c.a)(m,2),v=x[0],h=x[1],y=o()("filter-area",v),k=function(e){h(e)};return Object(a.useEffect)((function(){return b?n.loaded():n.loading(),function(){}}),[b]),Object(d.jsxs)("div",{className:"mining-info",children:[Object(d.jsxs)("div",{className:y,children:[Object(d.jsx)("span",{className:"future-zone",onClick:function(){return k("future")},children:t.futures}),Object(d.jsx)("span",{className:"option-zone",onClick:function(){return k("option")},children:t.options}),Object(d.jsx)("span",{className:"separator-line"}),Object(d.jsx)("span",{className:"open-zone",onClick:function(){return k("open")},children:t["open-zone"]})]}),"future"===v&&Object(d.jsxs)("div",{className:"official-pool",children:[Object(d.jsx)("div",{className:"pools",children:j.map((function(e,n){return Object(d.jsx)(s.a,{group:e,lang:t},n)}))}),Object(d.jsx)("div",{className:"pools",children:p.map((function(e,n){return Object(d.jsx)(s.a,{group:e,lang:t},n)}))})]}),"option"===v&&Object(d.jsx)("div",{className:"official-pool",children:Object(d.jsx)("div",{className:"pools",children:f.map((function(e,n){return Object(d.jsx)(s.a,{group:e,lang:t},n)}))})}),"open"===v&&Object(d.jsxs)("div",{className:"pools open-pool",children:[O.map((function(e,n){return Object(d.jsx)(s.a,{group:e,lang:t},n)})),Object(d.jsx)(u.a,{lang:t})]})]})})))}}]);
//# sourceMappingURL=14.9670237e.chunk.js.map