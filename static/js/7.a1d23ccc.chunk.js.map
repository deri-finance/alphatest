{"version":3,"sources":["utils/DeriNumberFormat.js","components/Tab/Tab.js","components/Input/Input.js","components/ButtonGroup/ButtonGroup.js","pages/Pool/Claim.js","assets/img/polygon-logo.svg","assets/img/ethereum.svg","pages/Pool/img/staked.svg","pages/Pool/OperateLiquidity.js","pages/Pool/img/back.svg","pages/Pool/Detail.js"],"names":["DeriNumberFormat","props","useState","className","renderablity","setRenderablity","isValidate","allowZero","value","undefined","isNaN","Math","abs","useEffect","wallet","defaultValue","others","displayType","fixedDecimalScale","thousandSeparator","timeout","window","setTimeout","isConnected","clearTimeout","Tab","tabSet","inactiveBgColor","activeBgColor","icon","width","height","size","borderTop","borderBottom","divider","arr","Object","keys","selected","setSelected","styles","style","borderT","borderColor","borderB","borderL","borderR","Wrapper","styled","div","fontColor","map","item","direction","onClick","select","content","Input","unit","step","onChange","unitPadding","inputWidth","inputValue","setInputValue","inputRef","useRef","current","focus","type","ref","onBlur","e","target","ButtonGroup","groups","defaultBorderColor","outline","outlineColor","bgColor","setValue","text","index","label","isSelected","Claim","lang","poolShow","remainingTime","setRemainingTime","interval","setInterval","period","parseInt","Date","now","dis","h","m","s","clearInterval","OperateLiquidity","isLp","bTokenId","version","baseToken","address","walletBalance","poolInfo","afterTransaction","addRemoveValue","setAddRemoveValue","addLiquidity","a","max","bg","gt","alert","param","detail","chainId","account","apiProxy","request","removeLiquidity","totalShares","cur","eq","decimalScale","balance","percentage","times","toString","Button","PRIMARY","chainInfo","config","DeriEnv","get","inject","observer","poolManager","useParams","symbol","nowToken","setNowToken","nowTokenId","setNowTokenId","poolConfig","setPoolConfig","bTokenList","setBTokenList","isShowInfo","setIsShowInfo","setPoolInfo","symbols","setSymbols","setWalletBalance","networkText","name","getWalletBalance","params","push","getLiquidityInfo","background","load","pool","pools","loadDoubleMingingPool","lpPools","filter","p","bToken0","bTokens","bTokenSymbol","isCakeLP","isSushiLP","join","getPoolInfo","res","apy","bTokensApy","i","info","liquidity","bTokensLiq","total","checkoutBaseToken","b","to","alt","src","backIcon","id","BSC","POLYGON","ETH","networkLogo","suffix","length","stakedLogo","downIcon","percent","shareValue","formatShares","prefix","swappedPnl","formatAddress"],"mappings":"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","file":"static/js/7.a1d23ccc.chunk.js","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport NumberFormat from 'react-number-format'\r\nimport { inject, observer } from 'mobx-react';\r\n\r\nfunction DeriNumberFormat(props){\r\n  const [renderablity, setRenderablity] = useState(<span className='loading-line'></span>);\r\n\r\n  const isValidate = () => {\r\n    const {allowZero} = props \r\n    return (typeof props.value !== 'object' && props.value !== undefined && props.value !== '' && props.value !== 'NaN') \r\n          || ((isNaN(props.value) && Math.abs(props.value)) === 0 && allowZero === true )\r\n  }\r\n\r\n  useEffect(() => {\r\n    const {allowZero,wallet,defaultValue = '--',...others} = props \r\n    if(isValidate()) {\r\n      setRenderablity(<NumberFormat {...others}  displayType = 'text'  fixedDecimalScale={true} thousandSeparator={true}/>)\r\n    } else {\r\n      setRenderablity(<span className='loading-line'></span>)\r\n    } \r\n    const timeout = window.setTimeout(() => {\r\n      if(!isValidate() && wallet && !wallet.isConnected()){\r\n        setRenderablity(defaultValue)\r\n      }\r\n    },30000)\r\n    return () => {\r\n      clearTimeout(timeout)\r\n    };\r\n  }, [props.value]);\r\n\r\n  return renderablity;\r\n}\r\n\r\nexport default DeriNumberFormat","import styled from 'styled-components'\r\nimport React, { useState } from 'react';\r\n\r\nexport default function Tab({ tabSet, inactiveBgColor,activeBgColor,icon, className, width = 238, height = 47, size = 16,borderTop = false,borderBottom = false, divider = false }) {\r\n  const arr = Object.keys(tabSet)\r\n  const [selected, setSelected] = useState(arr[0])\r\n  const styles = tabSet[selected].style\r\n  let borderT = borderTop ? `border-top:1px solid ${tabSet[selected].borderColor}`:\"border-top:0\"\r\n  let borderB = borderBottom ? `border-bottom:1px solid ${tabSet[selected].borderColor}`:\"border-bottom:0\"\r\n  let borderL = divider ? `border-left:1px solid ${tabSet[selected].borderColor}`:\"border-left:0\"\r\n  let borderR = divider ? `border-right:1px solid ${tabSet[selected].borderColor}`:\"border-right:0\"\r\n  const Wrapper = styled.div`\r\n    cursor: pointer;\r\n    width:${width}px;\r\n    height:${height}px;\r\n    display:flex;\r\n    .tab-left.inactive{\r\n      border-radius:0px 0px 4px 0px;\r\n    }\r\n    .tab-right.inactive{\r\n      border-radius:0px 0px 0px 4px;\r\n    }\r\n    .tab-left.active{\r\n      border-radius:0px 4px 0px 0px;\r\n      ${borderR};\r\n      height:14px;\r\n    }\r\n    .tab-right.active{\r\n      border-radius:4px 0px 0px 0px;\r\n      ${borderL};\r\n      height:14px;\r\n    }\r\n    .inactive,.active{\r\n      width:50%;\r\n      box-sizing: content-box;\r\n      padding: 15px 24px;\r\n      font-size:${size}px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n    }\r\n    .inactive{\r\n      background:${inactiveBgColor};\r\n      ${borderB}\r\n    }\r\n    .active {\r\n      color: ${tabSet[selected].fontColor ? tabSet[selected].fontColor : '#FFFFFF'};\r\n      background : ${activeBgColor};\r\n      ${borderT};\r\n    }\r\n  `\r\n  function select(item) {\r\n    setSelected(item)\r\n  }\r\n\r\n  return (\r\n    <div style={styles} className={className}>\r\n      <Wrapper className='width'>\r\n        {arr.map(item => (\r\n          <div\r\n            key={item}\r\n            className={item === selected ? `${tabSet[item].direction} active` : `${tabSet[item].direction} inactive`}\r\n            onClick={() => select(item)}>\r\n            {item}\r\n          </div>\r\n        ))}\r\n      </Wrapper>\r\n      {tabSet[selected].content}\r\n    </div>\r\n  )\r\n}","import { useEffect, useRef, useState } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nexport default function Input({value,unit,step,onChange,styles = {},unitPadding = '24px',inputWidth = '50%',className}){\r\n  const [inputValue,setInputValue] = useState(value)\r\n  const inputRef = useRef(null);\r\n  const change = e => {\r\n    const {value} = e.target\r\n    setInputValue(value)\r\n  }\r\n  const onBlur = (e)=>{\r\n    const {value} = e.target\r\n    setInputValue(value)\r\n    onChange && onChange(value)\r\n  }\r\n  const Wrapper = styled.div`\r\n    display : flex;\r\n    font-size : 14px;\r\n    align-items : center;\r\n    background: rgba(85, 119, 253, 0.1);\r\n    border-radius: 4px;\r\n    justify-content: space-between;\r\n    input {\r\n      background: transparent;\r\n      border-radius: 4px;\r\n      min-width: 240px;\r\n      border: 0;\r\n      width : ${inputWidth};\r\n      height: 56px;\r\n      color : #E0ECFF;\r\n      font-size : 18px;\r\n      padding-left: 16px;\r\n    }\r\n    input:focus {\r\n      outline: none;\r\n    }\r\n    .unit {\r\n      margin-right: ${unitPadding};\r\n    }\r\n  `\r\n  useEffect(()=>{\r\n    if(inputRef.current){\r\n      inputRef.current.focus();\r\n    }\r\n  },[inputValue])\r\n  useEffect(()=>{\r\n    setInputValue(value)\r\n  },[value])\r\n  return (\r\n    <Wrapper className={className} style={{...styles}}>\r\n      <input type='number' value={inputValue} step = {step} ref={inputRef} onBlur={onBlur} onChange={change}/>\r\n      <div className='unit'>{unit}</div>\r\n    </Wrapper>    \r\n  )\r\n}","import React, { useState } from 'react';\r\nimport Button from \"../Button/Button\";\r\nimport styled from 'styled-components';\r\n\r\nexport default function ButtonGroup({groups = ['25%','50%','75%','100%'],defaultBorderColor ,onChange,defaultValue = '',outline,outlineColor,width,height,bgColor,className}){\r\n  const Wrapper = styled.div`\r\n    display : flex;\r\n    width: 100%;\r\n    justify-content: space-between;\r\n  `\r\n  const [value, setValue] = useState(defaultValue)\r\n  const select = current => {\r\n    if(current !== value) {\r\n      setValue(current)\r\n      onChange && onChange(current);\r\n    } else if(current === value){\r\n      setValue('')\r\n    } else {\r\n      setValue(current)\r\n    }\r\n  }\r\n  return (<Wrapper className={className}>\r\n    {groups.map((text,index) => (\r\n      <Button label={text} key={index} isSelected={text === value} outline = {outline} bgColor={bgColor} className='g-button' defaultBorderColor={defaultBorderColor} outlineColor={outlineColor} width={width} height={height} onClick={() => select(text)}/>\r\n    ))}\r\n  </Wrapper>)\r\n}","import React, { useState, useEffect } from 'react'\r\nimport Button from '../../components/Button/Button'\r\nimport './claim.less'\r\nexport default function Claim({lang,poolShow=true}) {\r\n  const [remainingTime,setRemainingTime] = useState('')\r\n  useEffect(() => {\r\n\t\tlet interval = null;\r\n\t\t\t//计数器\r\n\t\t\tinterval = window.setInterval(() => {\r\n\t\t\t\tlet period = 3600 * 8;\r\n\t\t\t\tlet current = parseInt(Date.now()/1000);\r\n\t\t\t\tlet epochBegin = parseInt(current / period)*period;\r\n\t\t\t\tlet dis = (epochBegin + period - current);\r\n\t\t\t\tlet h = parseInt(dis / 3600);\r\n\t\t\t\tlet m = parseInt((dis % 3600)/60)\r\n\t\t\t\tlet s = parseInt(dis % 60) \r\n\t\t\t\tsetRemainingTime(`${h} ${lang['h']} ${m} ${lang['m']} ${s} ${lang['s']}`);\r\n\t\t\t},1000);\r\n    return () => {\r\n      interval && clearInterval(interval);\r\n\t\t};\r\n\t\t\r\n  }, []);\r\n  return (\r\n    <div className='mining-claim'>\r\n      <div className='mining-claim-info'>\r\n        <div className='deri-num-slider'>\r\n          <div className='deri-claim-time'>\r\n            {remainingTime}\r\n          </div>\r\n          {poolShow && <div className='deri-claim-text'>\r\n            You have 2,100 unclaimed $DERI across all staked pools. You’ve earned a total of 23,694 Deri token since Sep 12, 2021. Woohoo!\r\n          </div>}\r\n          <div className='deri-claim-slider'>\r\n          </div>\r\n        </div>\r\n        {poolShow && <div className='cliam-button'>\r\n          <Button label={lang['claim-all']} />\r\n        </div>}\r\n      </div>\r\n    </div>\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/polygon-logo.7a9c05d3.svg\";","export default __webpack_public_path__ + \"static/media/ethereum.017d2801.svg\";","export default __webpack_public_path__ + \"static/media/staked.46571832.svg\";","import { useEffect, useState } from 'react'\r\nimport Input from \"../../components/Input/Input\"\r\nimport Button from \"../../components/Button/Button\"\r\nimport ButtonGroup from \"../../components/ButtonGroup/ButtonGroup\"\r\nimport DeriNumberFormat from \"../../utils/DeriNumberFormat\"\r\nimport { PRIMARY } from '../../utils/Constants';\r\nimport apiProxy from \"../../model/ApiProxy\"\r\nimport './operateLiauidity.less'\r\nimport {bg} from \"../../lib/web3js/index\"\r\nexport default function OperateLiquidity({ wallet,lang,type,isLp,bTokenId,version,baseToken,address,walletBalance,poolInfo,afterTransaction }) {\r\n  const [addRemoveValue,setAddRemoveValue] = useState('')\r\n  const getValue = (value)=>{\r\n    setAddRemoveValue(value)\r\n  }\r\n  const unit = type === 'add' || version === 'v2' ? baseToken : lang['shares']\r\n  const groupValue = (value)=>{\r\n    value = parseInt(value)\r\n    let balance = type === 'add' ? walletBalance : poolInfo.totalShares;\r\n    let percentage = bg(balance).times(bg(value/100)).toString()\r\n    setAddRemoveValue(percentage)\r\n  }\r\n  const addLiquidity = async ()=>{\r\n    const max = bg(walletBalance)\r\n    const cur = bg(addRemoveValue);\r\n    if(cur.gt(max)) {\r\n      alert(lang['not-sufficient-funds']);\r\n      return false;\r\n    }\r\n    if(addRemoveValue <=0 || isNaN(addRemoveValue)){\r\n      alert(lang['it-has-to-be-greater-than-zero']);\r\n      return false;\r\n    }\r\n    if(isLp === 'lp'){\r\n      let param = [wallet.detail.chainId,address,wallet.detail.account,addRemoveValue]\r\n      let res = await apiProxy.request('addLpLiquidity',param)\r\n    }else{\r\n      let param = [wallet.detail.chainId,address,wallet.detail.account,addRemoveValue,bTokenId]\r\n      let res = await apiProxy.request('addLiquidity',param)\r\n    }\r\n   \r\n    afterTransaction(true)\r\n    // if(!res || !res.success){\r\n    //   alert(lang['failure-of-transaction']);\r\n    //   return false; \r\n    // }\r\n    \r\n    return true;\r\n  }\r\n  const removeLiquidity = async ()=>{\r\n    const max = bg(poolInfo.totalShares)\r\n    const cur = bg(addRemoveValue)\r\n    if (cur.gt(max)) {\r\n      alert(`${lang['your-current-max-removable-shares-are']}  ${poolInfo.totalShares}`);\r\n      return false;\r\n    }\r\n    \r\n    if (+addRemoveValue <= 0 || isNaN(addRemoveValue)) {\r\n      alert(lang['invalid-liquidity']);\r\n      return false;\r\n    }\r\n    if(isLp === 'lp'){\r\n      let param = [wallet.detail.chainId,address,wallet.detail.account,addRemoveValue]\r\n      let res = await apiProxy.request('removeLpLiquidity',param)\r\n    }else{\r\n      let param = [wallet.detail.chainId,address,wallet.detail.account,addRemoveValue,bTokenId,max.eq(cur)]\r\n      let res = await apiProxy.request('removeLiquidity',param)\r\n    }\r\n    \r\n    afterTransaction()\r\n    // if(!res || !res.success){\r\n    //   alert(lang['failure-of-transaction']);\r\n    //   return false; \r\n    // }\r\n    return true;\r\n  }\r\n  useEffect(()=>{\r\n    setAddRemoveValue('')\r\n  },[type])\r\n  return (\r\n    <div className='operate'>\r\n      <div className='add-input'>\r\n        <Input value={addRemoveValue} unit={unit} onChange={getValue} styles={{ width: \"332px\" }} />\r\n      </div>\r\n      {type === 'add' && <div className='wallet-balance'>\r\n        {lang['wallet-balance']} <DeriNumberFormat value={walletBalance} displayType='text' decimalScale={2}  /> {baseToken}\r\n      </div>}\r\n      {type === 'remove' && <div className='wallet-balance'>\r\n      {lang['staked-balance']} <DeriNumberFormat value={poolInfo.totalShares} displayType='text' decimalScale={2}  /> {unit}\r\n      </div>}\r\n      \r\n      <div className='check-proportion'>\r\n      <ButtonGroup groups={['25%','50%','75%','100%']} onChange={groupValue} outline={true} bgColor =' rgba(85, 119, 253, 0.1)' width={77} height={40}/>\r\n      </div>\r\n      <div className='information'>\r\n      \r\n      </div>\r\n      <div className='add-remove-btn'>\r\n        {type === 'add' && <Button onClick={()=>{addLiquidity()}} type={PRIMARY} width=\"331\" label={lang[\"add-liquidity\"]} />}\r\n        {type === 'remove' && <Button onClick={()=>{removeLiquidity()}} type={PRIMARY} width=\"331\" label={lang[\"remove-liquidity\"]} />} \r\n      </div>\r\n    </div>\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/back.300bea44.svg\";","import { useState, useEffect } from 'react'\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { inject, observer } from 'mobx-react';\r\nimport Claim from './Claim'\r\nimport OperateLiquidity from './OperateLiquidity'\r\nimport Tab from '../../components/Tab/Tab'\r\nimport DeriNumberFormat from \"../../utils/DeriNumberFormat\"\r\nimport apiProxy from \"../../model/ApiProxy\"\r\nimport { formatAddress,isCakeLP,isSushiLP } from \"../../utils/utils\"\r\nimport config from '../../config.json'\r\nimport { DeriEnv } from '../../lib/web3js/index'\r\nimport './detail.less'\r\nimport backIcon from './img/back.svg'\r\nimport BSC from '../../assets/img/bsc-logo.svg'\r\nimport POLYGON from '../../assets/img/polygon-logo.svg'\r\nimport ETH from '../../assets/img/ethereum.svg'\r\nimport downIcon from '../../assets/img/arrow-down.svg'\r\nimport stakedLogo from './img/staked.svg'\r\nconst env = DeriEnv.get();\r\nconst { chainInfo } = config[env]\r\nfunction Detail({ lang, wallet = {}, poolManager }) {\r\n  const { version, chainId, symbol, address, type } = useParams();\r\n  const [nowToken, setNowToken] = useState('')\r\n  const [nowTokenId, setNowTokenId] = useState('')\r\n  const [poolConfig, setPoolConfig] = useState('')\r\n  const [bTokenList, setBTokenList] = useState([])\r\n  const [isShowInfo, setIsShowInfo] = useState('show')\r\n  const [poolInfo, setPoolInfo] = useState({})\r\n  const [symbols, setSymbols] = useState('')\r\n  const [walletBalance, setWalletBalance] = useState()\r\n  const networkText = chainInfo[chainId] && chainInfo[chainId].name;\r\n  const networkLogo = (chainId) => {\r\n    let src;\r\n    let id = +chainId\r\n    if (id === 56 || id === 97) {\r\n      src = BSC\r\n    } else if (id === 137) {\r\n      src = POLYGON\r\n    } else if (id === 1) {\r\n      src = ETH\r\n    }\r\n    return src\r\n  }\r\n\r\n  const getWalletBalance = async () => {\r\n    if (wallet.isConnected()) {\r\n      let params = [wallet.detail.chainId, address, wallet.detail.account]\r\n      let balance = null;\r\n      if (poolConfig.isLp) {\r\n        balance = await apiProxy.request('getLpWalletBalance', params)\r\n      } else {\r\n        params.push(nowTokenId)\r\n        balance = await apiProxy.request('getBTokenBalance', params)\r\n      }\r\n      setWalletBalance(balance)\r\n    }\r\n  }\r\n  const afterTransaction = () => {\r\n    getWalletBalance()\r\n    getLiquidityInfo()\r\n  }\r\n  const tabSet = {\r\n    [lang['add']]: {\r\n      content: <OperateLiquidity isLp={type} wallet={wallet} afterTransaction={afterTransaction} version={version} bTokenId={nowTokenId} address={address} lang={lang} type='add' baseToken={nowToken} walletBalance={walletBalance} />,\r\n      style: { background: \"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)\" },\r\n      borderColor: \"#203B60\",\r\n      direction: \"tab-left\"\r\n    },\r\n    [lang['remove']]: {\r\n      content: <OperateLiquidity isLp={type} wallet={wallet} afterTransaction={afterTransaction} lang={lang} version={version} address={address} type='remove' bTokenId={nowTokenId} poolInfo={poolInfo} balance={poolInfo} baseToken={nowToken} version={version} />,\r\n      style: { background: \"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)\" },\r\n      borderColor: \"#203B60\",\r\n      direction: \"tab-right\"\r\n    },\r\n  }\r\n  const load = async () => {\r\n    await poolManager.load()\r\n    let pool = poolManager.pools;\r\n    if (type === 'lp') {\r\n      await poolManager.loadDoubleMingingPool();\r\n      pool = poolManager.lpPools\r\n    }\r\n    pool = pool.filter(p => p.address === address)\r\n    pool = pool[0]\r\n    let bToken0 = pool.bTokens[0].bTokenSymbol\r\n    if(isCakeLP(address)){\r\n      bToken0 = 'CAKE-LP'\r\n    }else if(isSushiLP(address)){\r\n      bToken0 = 'DERI-USDT SLP'\r\n    }\r\n    let bTokenId = pool.bTokens[0].bTokenId\r\n    let symbols = pool.symbols.map(item => {\r\n      let arr = [];\r\n      arr.push(item.symbol)\r\n      return arr\r\n    })\r\n    symbols = symbols.join(',')\r\n    setSymbols(symbols)\r\n    setPoolConfig(pool)\r\n    setBTokenList(pool.bTokens)\r\n    setNowToken(bToken0)\r\n    setNowTokenId(bTokenId)\r\n  }\r\n  const getPoolInfo = async () => {\r\n    if (poolConfig) {\r\n      let res = await poolConfig.getPoolInfo(wallet, poolConfig);\r\n      let arr = bTokenList.map(item => {\r\n        if (version === 'v2') {\r\n          item.apy = (+(res.bTokensApy.filter(i => i.bTokenId === item.bTokenId)[0].apy) * 100)\r\n        } else {\r\n          item.apy = +(res.bTokensApy[0].apy) * 100\r\n        }\r\n        return item\r\n      })\r\n      return res\r\n    }\r\n  }\r\n  const getLiquidityInfo = async () => {\r\n    let info = null\r\n    if (poolConfig) {\r\n      let res = await poolConfig.getPoolInfo(wallet, poolConfig);\r\n      let apy;\r\n      let liquidity;\r\n      if (version === 'v2' && nowTokenId) {\r\n        apy = res.bTokensApy.filter(p => p.bTokenId === nowTokenId);\r\n        apy = apy[0].apy;\r\n        liquidity = res.bTokensLiq.filter(p => p.bTokenId === nowTokenId);\r\n        liquidity = liquidity[0].liquidity;\r\n      } else {\r\n        apy = res.bTokensApy[0].apy\r\n        liquidity = res.bTokensLiq[0].liquidity\r\n      }\r\n      info = {\r\n        total: liquidity,\r\n        apy: (+apy) * 100,\r\n      }\r\n      if (wallet.isConnected()) {\r\n        let res = await poolConfig.getLiquidityInfo(wallet, address, poolConfig.version, poolConfig.isLp, nowTokenId)\r\n        info = res;\r\n        info['apy'] = (+apy) * 100;\r\n      }\r\n      setPoolInfo(info)\r\n    }\r\n  }\r\n  const checkoutBaseToken = async (bTokenId) => {\r\n    let now = poolConfig.bTokens.filter(b => b.bTokenId === bTokenId)\r\n    setNowTokenId(bTokenId)\r\n    setNowToken(now[0].bTokenSymbol)\r\n  }\r\n  useEffect(() => {\r\n    load()\r\n  }, [])\r\n  useEffect(() => {\r\n    getPoolInfo()\r\n  }, [poolConfig, bTokenList])\r\n  useEffect(() => {\r\n    getLiquidityInfo()\r\n    getWalletBalance()\r\n  }, [nowTokenId, poolConfig, wallet.detail.account])\r\n\r\n  return (\r\n    <div className='pool-detail'>\r\n      <div className='back-pool'>\r\n        <Link to='/pool'>\r\n          <div className='icon-back'>\r\n            <img alt='' src={backIcon} />\r\n            <span>{lang['back']}</span>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n      <div className='pool-deatail-info'>\r\n        <div className='pool-detail-basetoken-info'>\r\n          <div className='pool-info-text'>\r\n            <div className='pool-network-type'>\r\n              <div className='network-logo'>\r\n                <img alt='' src={networkLogo(chainId)} />\r\n              </div>\r\n              <div className='pool-type-network-text'>\r\n                <div className='pool-type-text'>\r\n                  {lang[version]}\r\n                </div>\r\n                <div className='pool-network-text'>\r\n                  {networkText}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className='pool-des'>\r\n              {lang['pool-des']}\r\n              <span className='learn-more'> {lang['learn-more']}</span>\r\n            </div>\r\n          </div>\r\n          <div className='select-basetoken-info'>\r\n            <div className='select-coin-title'>\r\n              {lang['select-the-coin']}\r\n            </div>\r\n            <div className='coin-list'>\r\n              {type !== 'lp' && <>\r\n                {bTokenList.map((item, index) =>\r\n                (<div className='coin-box' onClick={() => { checkoutBaseToken(item.bTokenId) }}>\r\n                  <div className='base-apy-info'>\r\n                    <div className={`btoken-logo ${item.bTokenSymbol}`}></div>\r\n                    <div className='apy-base-staked'>\r\n                      <div className='base-name'>{item.bTokenSymbol}</div>\r\n                      <div className='base-apy'>\r\n                        {lang['apy']} <DeriNumberFormat value={item.apy} suffix='%' displayType='text' allowZero={true} decimalScale={2} />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className='staked'></div>\r\n                </div>)\r\n                )}\r\n              </>}\r\n              {type === 'lp' && bTokenList.length && <>\r\n                <div className='coin-box'>\r\n                  <div className='base-apy-info'>\r\n                    <div className='lp-btoken-logo'>\r\n                      <div className={`btoken-logo ${bTokenList[0].bTokenSymbol}`}></div>\r\n                      <span className='conect-logo'>+</span>\r\n                      <div className={`btoken-logo ${bTokenList[1].bTokenSymbol}`}></div>\r\n                    </div>\r\n                    <div className='apy-base-staked'>\r\n                      <div className='base-name'>{nowToken}</div>\r\n                      <div className='base-apy'>\r\n                        {lang['apy']} <DeriNumberFormat value={bTokenList[1].apy} suffix='%' displayType='text' allowZero={true} decimalScale={2} />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='pool-detail-add-remove-info'>\r\n          <div className='mining-deri-liquidity'>\r\n            <div className='btoken-liquidity'>\r\n              {type !== 'lp' &&  <>\r\n                <div className={`btoken-logo ${nowToken}`}></div>\r\n                <div className='manage-stake'>\r\n                  <div className='manage'>\r\n                    {lang['manage']} {nowToken} {lang['liquidity']}\r\n                  </div>\r\n                  <div className='stake'>\r\n                    <img src={stakedLogo} alt='' />\r\n                    {lang['staked']}\r\n                  </div>\r\n                </div>\r\n              </>}\r\n              {type === 'lp' && bTokenList.length && <>\r\n                <div className='lp-btoken-logo'>\r\n                  <div className={`btoken-logo ${bTokenList[0].bTokenSymbol}`}></div>\r\n                  <span className='conect-logo'>+</span>\r\n                  <div className={`btoken-logo ${bTokenList[1].bTokenSymbol}`}></div>\r\n                </div>\r\n                <div className='manage-stake'>\r\n                  <div className='manage'>\r\n                    {lang['manage']} {nowToken} {lang['liquidity']}\r\n                  </div>\r\n                  <div className='stake'>\r\n                    <img src={stakedLogo} alt='' />\r\n                    {lang['staked']}\r\n                  </div>\r\n                </div>\r\n              </>}\r\n            </div>\r\n            <div className='deri-current-epoch'>\r\n              <Claim poolShow={false} lang={lang} />\r\n            </div>\r\n          </div>\r\n          <div className='mining-add-remove-liquidity'>\r\n            <div className='pool-info'>\r\n              <div className='pool-info-title'>\r\n                <div className='pool-info-title-text'>\r\n                  {lang['pool-info']}\r\n                </div>\r\n                <div className='down-up'>\r\n                  {isShowInfo === 'show' && <span onClick={() => setIsShowInfo('hide')}>\r\n                    <img className='up-icon' alt='' src={downIcon} />\r\n                  </span>}\r\n                  {isShowInfo === 'hide' && <span onClick={() => setIsShowInfo('show')}>\r\n                    <img alt='' src={downIcon} />\r\n                  </span>}\r\n                </div>\r\n              </div>\r\n              <div className={`'pool-info-text' ${isShowInfo}`}>\r\n                <div className='pool-info-text-one'>\r\n                  <div className='info-box'>\r\n                    <div className='info-box-title'>{lang['apy']}</div>\r\n                    <div className='info-box-num'>\r\n                      <DeriNumberFormat value={poolInfo.apy} displayType='text' decimalScale={2} suffix='%' />\r\n                    </div>\r\n                  </div>\r\n                  <div className='info-box'>\r\n                    <div className='info-box-title'>{lang['pool-liquidity']}</div>\r\n                    <div className='info-box-num'>\r\n                      <DeriNumberFormat value={poolInfo.total} displayType='text' thousandSeparator={true} suffix={` ${nowToken}`} />\r\n                    </div>\r\n                  </div>\r\n                  {version === 'v2' && <div className='info-box'>\r\n                    <div className='info-box-title'>{lang['multiplier']}</div>\r\n                    <div className='info-box-num'>1</div>\r\n                  </div>}\r\n                  <div className='info-box'>\r\n                    <div className='info-box-title'>{lang['my-liquidity-percentage']}</div>\r\n                    <div className='info-box-num'><DeriNumberFormat allowZero={true} value={poolInfo.percent} decimalScale={2} suffix={'%'} /></div>\r\n                  </div>\r\n                  {version != 'v2' && <div className='info-box'>\r\n                    <div className='info-box-title'>{lang['liquidity-share-value']}</div>\r\n                    <div className='info-box-num'><DeriNumberFormat allowZero={true} decimalScale={6} value={poolInfo.shareValue} thousandSeparator={true} /> {nowToken}</div>\r\n                  </div>}\r\n\r\n                  <div className='info-box'>\r\n                    <div className='info-box-title'>{lang['staked-balance']}</div>\r\n                    <div className='info-box-num'>\r\n                      <DeriNumberFormat allowZero={true} value={poolInfo.formatShares} decimalScale={2} />\r\n                      {version === 'v2' ? \" \" + nowToken : \" \" + lang['shares']}\r\n                    </div>\r\n                  </div>\r\n                  {version == 'v2' && <div className='info-box'>\r\n                    <div className='info-box-title'>{lang['mining-pnl']}</div>\r\n                    <div className='info-box-num'>\r\n                      <DeriNumberFormat allowZero={true} prefix=' ' value={poolInfo.swappedPnl} decimalScale={2} /> {nowToken}\r\n                    </div>\r\n                  </div>}\r\n                </div>\r\n                <div className='pool-info-text-two'>\r\n                  {type !== 'lp' && <div className='info-box'>\r\n                    <div className='info-box-title'>{lang['symbols']}</div>\r\n                    <div className='info-box-num symbols'>\r\n                      {symbols}\r\n                    </div>\r\n                  </div>}\r\n                  <div className='info-box'>\r\n                    <div className='info-box-title'>{lang['contract-address']}</div>\r\n                    <div className='info-box-num'>\r\n                      {formatAddress(address)}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className='add-remove-liquidity'>\r\n              <Tab tabSet={tabSet} width={379} size={18} inactiveBgColor='#0c192d' icon='' borderBottom={true} divider={true} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default inject('wallet', 'poolManager')(observer(Detail))"],"sourceRoot":""}