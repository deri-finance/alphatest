{"version":3,"sources":["components/Button/Button.js","utils/DeriNumberFormat.js","components/hoc/withModal.js","components/Mining/Liquidity/Liquidity.js","components/Mining/Liquidity/Dialog/AddLiquidity.js","hooks/useSpecification.js","components/Mining/Liquidity/Dialog/RemoveLiquidity.js","components/Mining/Liquidity/LiquidityMining.js","components/Claim/Claim.js","hooks/useClaimInfo.js","hooks/useConfig.js","components/Mining/Trade/Liquidity.js","components/Mining/Trade/TradeMining.js","../node_modules/react-modal/lib/index.js"],"names":["Button","btnText","className","disabled","click","afterClick","useState","status","setStatus","pending","setPending","loadRef","useRef","onClick","a","current","style","display","ref","marginRight","DeriNumberFormat","props","renderablity","setRenderablity","useEffect","allowZero","others","value","Math","abs","displayType","withModal","Component","appElement","document","getElementById","customizeStyle","overlay","position","zIndex","background","content","border","inset","overflow","state","modalIsOpen","this","isOpen","onClose","React","AddDialog","wallet","address","baseToken","afterAdd","balance","isLpPool","addValue","setAddValue","spec","setSpec","loadSpec","isConnected","getSpecification","detail","chainId","account","useSpecification","addLiq","max","bg","gt","alert","minAddLiquidity","isNaN","res","addLpLiquidity","addLiquidity","success","thousandSeparator","decimalScale","type","placeholder","onChange","e","target","RemoveDialog","liqInfo","afterRemove","amount","setAmount","remove","shares","cur","removeLpLiquidity","removeLiquidity","data-dismiss","Operator","loadLiquidity","loadLiqidityInfo","isApproved","setIsApproved","btnType","setBtnType","setIsOpen","setBalance","buttonElment","setButtonElment","loadBalance","eqInNumber","total","getLpWalletBalance","getWalletBalance","isApprove","isLpUnlocked","result","isUnlocked","approve","unlockLp","unlock","error","message","connect","el","inject","observer","liquidity","setLiquidity","loadLiquidityInfo","getPoolInfoApy","apyPool","getPoolLiquidity","pooLiquidity","info","getLpLiquidityInfo","getLiquidityInfo","isSushi","sushiApy","poolLiquidity","apy","shareValue","percent","values","suffix","title","LiquidityMining","Claim","setBtnText","claimInfo","setClaimInfo","interval","loadClaimInfo","getUserInfoAll","claimed","deriToNatural","toFixed","unclaimed","valid","harvestDeriLp","lp","harvestDeriTrade","trade","window","setInterval","clearInterval","useClaimInfo","claimInfoInterval","remainingTime","setRemainingTime","config","DeriEnv","get","useConfig","claim","text","parseInt","Date","now","mintDToken","period","dis","h","m","s","trading","symbol","userInfoInPool","setUserInfoInPool","tradeSummary","setTradeSummary","history","useHistory","loadUserInfoInPool","userInfo","getUserInfoInPool","userInfoPool","myTradingVolumeCurrent","volume1h","getTradeInfo","poolInfo","totalTradingVolumeCurrent","switch","pool","push","TradeMining","Object","defineProperty","exports","obj","_Modal","require","_Modal2","__esModule","default","module"],"mappings":"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","file":"static/js/4.daaf42ef.chunk.js","sourcesContent":["import {useState,useRef} from 'react';\nexport default function Button({btnText,className,disabled,click,afterClick}){\n  const [status, setStatus] = useState(disabled ? 'disabled' : 'enabled');\n  const [pending, setPending] = useState(false);\n  const loadRef = useRef(null)\n\n  const onClick = async () => {\n    if(status !== 'enabled') {\n      return ;\n    }\n    setStatus('disabled')\n    setPending(true);\n    loadRef.current && (loadRef.current.style.display = 'inline-block')\n    const result = await click();    \n    if(result){\n      afterClick && afterClick()\n    } \n    loadRef.current && (loadRef.current.style.display = 'none')\n    setStatus('enabled')\n    setPending(false);\n  }\n\n  return(\n    <button className={className} onClick={onClick} >\n        <span className='btn-loading-wrap'>\n          <span ref={loadRef}\n            className='spinner spinner-border spinner-border-sm'\n            style={{display : 'none' ,marginRight : '2'}}>\n          </span>\n        </span>\n          {pending ? 'PENDING' : btnText  }\n        </button>\n  )\n}","import React,{useState,useEffect} from 'react'\nimport NumberFormat from 'react-number-format'\n\nexport default function DeriNumberFormat(props){\n  const [renderablity, setRenderablity] = useState('--');\n\n  useEffect(() => {\n    const {allowZero,...others} = props \n    if((props.value || ((Math.abs(props.value)) === 0 && allowZero === true))) {\n      setRenderablity(<NumberFormat {...others} displayType = 'text' />)\n    } \n    return () => {};\n  }, [props.value]);\n\n  return renderablity;\n}","import React from 'react'\nimport Modal from 'react-modal/lib/components/Modal';\n\nconst withModal = Component => {\n  const appElement = document.getElementById('root')\n  const customizeStyle =  {\n    overlay: {\n      position: 'fixed',\n      zIndex : 2,\n      background : 'rgb(0 0 0 / 0.5)'\n    },\n    content: {\n      position: 'absolute',\n      border : 0,\n      background : 'none',\n      inset : 0,\n      overflow : 'initial'\n    }\n  };\n\n  class WithModal extends React.Component {\n    constructor(props){\n      super(props)\n      this.state = {\n        modalIsOpen : false\n      }\n    }\n\n    render(){\n      const {modalIsOpen,className} = this.props\n      return (\n        <Modal isOpen={modalIsOpen} className={className} style={customizeStyle} appElement={appElement}>\n          <Component {...this.props} onClose={this.props.onClose}/>\n        </Modal>\n      )\n    }\n  }\n\n  return WithModal;\n}\nexport default withModal;","import React, { useState, useEffect} from 'react'\nimport {\n\tgetLiquidityInfo,getPoolInfoApy,isUnlocked,unlock,getPoolLiquidity, getWalletBalance, unlockLp, isLpUnlocked, getLpWalletBalance, getLpLiquidityInfo\n} from '../../../lib/web3js/indexV2'\nimport AddLiquidity from './Dialog/AddLiquidity';\nimport RemoveLiquidity from './Dialog/RemoveLiquidity';\nimport Button from '../../Button/Button';\nimport { inject, observer } from 'mobx-react';\nimport withModal from '../../hoc/withModal';\nimport { eqInNumber, isSushi } from '../../../utils/utils';\nimport DeriNumberFormat from '../../../utils/DeriNumberFormat';\n\nfunction Liquidity({wallet,chainId,baseToken,address,type}) {\n  const [liquidity,setLiquidity] = useState({})\n\n\tconst isLpPool = (type === 'lp')\n\t\n\n\tconst loadLiquidityInfo = async () => {\n\t\tconst apyPool = await getPoolInfoApy(chainId,address)\n\t\tconst pooLiquidity = await getPoolLiquidity(chainId,address);\n\n\t\tif(wallet.isConnected() && eqInNumber(chainId , wallet.detail.chainId)){\n\t\t\tlet info = null;\n\t\t\tif(isLpPool){\n\t\t\t\tinfo = await getLpLiquidityInfo(chainId,address,wallet.detail.account)\n\t\t\t} else {\n\t\t\t\tinfo = await getLiquidityInfo(chainId,address,wallet.detail.account);\n\t\t\t}\n\n\t\t\tlet sushiApy ;\n\t\t\tif(isSushi(address)){\n\t\t\t\tsushiApy =  0.22008070161007/(+pooLiquidity.liquidity) * 100;           \n\t\t\t}\n\t\t\tif(info){\n\t\t\t\tsetLiquidity({\n\t\t\t\t\ttotal :  (+info.poolLiquidity),\n\t\t\t\t\tapy : (+apyPool.apy) * 100,\n\t\t\t\t\tshareValue : info.shareValue,\n\t\t\t\t\tpercent : ((info.shares * info.shareValue) / info.poolLiquidity) * 100 ,\n\t\t\t\t\tshares : info.shares,\n\t\t\t\t\tvalues : info.shares * info.shareValue,\n\t\t\t\t\tsushiApy\n\t\t\t\t})\t\n\t\t\t}\n\t\t} else {\n\t\t\t\n\t\t\tlet sushiApy ;\n\t\t\tif(isSushi(address)){\n\t\t\t\tsushiApy =  0.22008070161007/pooLiquidity.liquidity * 100;           \n\t\t\t}\n\t\t\tif(pooLiquidity){\n\t\t\t\tsetLiquidity({\n\t\t\t\t\ttotal : pooLiquidity.liquidity,\n\t\t\t\t\tapy : (+apyPool.apy) * 100,\n\t\t\t\t\tsushiApy\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tloadLiquidityInfo();\n\t\treturn () => {}\n\t}, [wallet.detail.account])\n\n\n  return (\n    <div className=\"liquidity-box\">\n      <div className=\"odd title\">Provide { baseToken } Earn DERI</div>\n\t\t\t\t<div className=\"odd text\">\n\t\t\t\t\t\t<div className=\"text-title\">Pool Total Liquidity</div>\n\t\t\t\t\t\t<div className=\"text-num\"><DeriNumberFormat allowZero={true} value={ liquidity.total} suffix={` ${baseToken}`  } thousandSeparator={true}/></div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"odd text\">\n\t\t\t\t\t\t<div className=\"text-title\">APY</div>\n\t\t\t\t\t\t<div className='text-num' >\n\t\t\t\t\t\t\t<span title={isSushi(address) && 'DERI-APY'} className={`${isSushi(address) && 'sushi-apy-underline'}`}><DeriNumberFormat value={ liquidity.apy } decimalScale={2} suffix='%'/></span>\n\t\t\t\t\t\t\t{isSushi(address) && <><span> +</span> <span className=\"sushi-apy-underline text-num\" title='SUSHI-APY'> \n\t\t\t\t\t\t\t<DeriNumberFormat value={ liquidity.sushiApy } allowZero={true}  decimalScale={2} suffix='%'/></span></>}\n\t\t\t\t\t\t</div>\t\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div className=\"odd text\">\n\t\t\t\t\t\t<div className=\"text-title\">Liquidity Share Value</div>\n\t\t\t\t\t\t<div className=\"text-num\"><DeriNumberFormat  allowZero={true} decimalScale={6} value={ liquidity.shareValue} suffix={ ' '+ baseToken } thousandSeparator={true}/></div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"odd text\">\n\t\t\t\t\t\t<div className=\"text-title\">My Liquidity Pencentage</div>\n\t\t\t\t\t\t<div className=\"text-num\"><DeriNumberFormat allowZero={true} value={ liquidity.percent } decimalScale={2} suffix={'%'}/></div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"odd text\">\n\t\t\t\t\t\t<div className=\"text-title\">Staked Balance </div>\n\t\t\t\t\t\t<div className=\"text-num\"><DeriNumberFormat allowZero={true}  value={ liquidity.shares  } decimalScale={2} /> <span>Shares</span> </div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"odd claim-network\">\n\t\t\t\t\t<div className=\"text-title money\"><DeriNumberFormat allowZero={true}   value={liquidity.values} suffix ={' '+ baseToken } decimalScale={2}/></div>\n\t\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div className=\"title-check\">\n\t\t\t\t</div>\n\t\t\t\t <Operator wallet={wallet} chainId={chainId} address={address} liqInfo={liquidity} baseToken={baseToken} loadLiquidity={loadLiquidityInfo} isLpPool={isLpPool} loadLiqidityInfo={loadLiquidityInfo}/>\n\t</div>\n  )\n}\n\n\nconst AddDialog = withModal(AddLiquidity)\nconst RemoveDialog = withModal(RemoveLiquidity)\n\n//操作区\nconst Operator = ({wallet,chainId,address,baseToken,loadLiquidity,isLpPool,liqInfo,loadLiqidityInfo})=> {\n\tconst [isApproved,setIsApproved] = useState(false)\n\tconst [btnType, setBtnType] = useState('add')\n\tconst [isOpen, setIsOpen] = useState(false)\n\tconst [balance, setBalance] = useState('');\n\tconst [buttonElment, setButtonElment] = useState(null);\n\t\n\n  const loadBalance = async () => {\n    if(wallet.isConnected() && eqInNumber(wallet.detail.chainId,chainId)){\n\t\t\tlet total = null;\n\t\t\tif(isLpPool){\n\t\t\t\ttotal = await getLpWalletBalance(wallet.detail.chainId,address,wallet.detail.account);\n\t\t\t} else {\n\t\t\t\ttotal = await getWalletBalance(wallet.detail.chainId,address,wallet.detail.account);\n\t\t\t}\n\t\t\tif(typeof total !== 'object'){\n\t\t\t\tsetBalance(total)\t\t\t\t\n\t\t\t}\n    }\n  }\n\n  useEffect(() => {\n\t\tloadBalance();\n\t\tloadLiqidityInfo();\n    return () => {}\n  }, [wallet.detail.account])\n\n\n\tconst isApprove = async () => {\n\t\tif(isLpPool){\n\t\t\tconst result = await isLpUnlocked(chainId,address,wallet.detail.account) \t\t\t \n\t\t\tsetIsApproved(result);\n\t\t\treturn result;\n\t\t} else {\n\t\t\tconst result = await isUnlocked(chainId,address,wallet.detail.account) \t\t\t \n\t\t\tsetIsApproved(result);\n\t\t\treturn result;\n\t\t}\n\t}\n\t\n\n\n\tconst approve = async () => {\n\t\tlet res = null;\n\t\tif(isLpPool){\n\t\t\tres = await unlockLp(chainId,address,wallet.detail.account);\n\t\t} else {\n\t\t\tres = await unlock(chainId,address,wallet.detail.account);\n\t\t}\t\t\n\t\tif(res && res.success){\n\t\t\tsetIsApproved(true)\n\t\t} else {\n\t\t\talert(res.error ?  res.error.message || 'Approve failed' : 'Approve failed')\n\t\t}\n  }\n\n\n\tconst connect =  async () => {\n\t\tawait wallet.connect();\n\t}\n\t\n\tconst addLiquidity = () => {\n\t\tsetIsOpen(true);\n\t\tsetBtnType('add')\n\t}\n\n\tconst afterClick = () => {\n\t\tsetIsOpen(false);\n\t\tloadLiquidity()\n\t\tloadBalance();\n\t\tloadLiqidityInfo();\n\t}\n\n\tconst removeLiquidity = () => {\n\t\tsetIsOpen(true);\n\t\tsetBtnType('remove')\n\t}\n\n\n  \n  useEffect(() => {\n\t\t//todo 判断网络\n    if(wallet.isConnected() && eqInNumber(wallet.detail.chainId, chainId)){\n\t\t\tisApprove()\n    }\n\t\treturn () => {}\n\t}, [wallet.detail.account])\n\n\tuseEffect(() => {\t\t\n\t\tif(wallet.isConnected() && eqInNumber(wallet.detail.chainId,chainId) && isApproved){\n\t\t\tsetButtonElment((<div className=\"add-remove-liquidity\">\n\t\t\t<button \n\t\t\t\t\tclassName=\"add-liquidity\"\n\t\t\t\t\tonClick={addLiquidity}>\n\t\t\t\t\tADD LIQUIDITY\n\t\t\t</button>\n\t\t\t<button className=\"remove-liquidity\" onClick={removeLiquidity}>\n\t\t\t\t\tREMOVE LIQUIDITY\n\t\t\t</button>\n\t\t</div>))\n\t\t} else {\n\t\t\tlet el = null\n\t\t\tif(!wallet.isConnected()){\n\t\t\t\tel = <div className='approve'><Button className='approve-btn' click={connect} btnText='Connect Wallet'></Button></div>\n\t\t\t} else if(!eqInNumber(wallet.detail.chainId,chainId)) {\n\t\t\t\tel = <div className=\"approve\" ><Button className='approve-btn wrong-network' btnText='Wrong Network'></Button></div>\t\t\t\t\n\t\t\t} else if(!isApproved) {\n\t\t\t\tel = <div className='approve'><Button className='approve-btn' click={approve} btnText='APPROVE'></Button></div>\n\t\t\t} \n\t\t\tsetButtonElment(el)\n\t\t}\n\t\t\t\n\t\treturn () => {};\n\t}, [wallet.detail.account,isApproved]);\n\n  return (\n    <div className=\"liquidity-btn\">\n\t\t\t{\n\t\t\t\tbtnType === 'add' \n\t\t\t\t? <AddDialog  modalIsOpen={isOpen} isLpPool={isLpPool} onClose={afterClick} balance={balance} address={address} wallet={wallet} baseToken={baseToken} afterAdd={afterClick}/> \n\t\t\t\t: <RemoveDialog  modalIsOpen={isOpen} isLpPool={isLpPool} onClose={afterClick} liqInfo={liqInfo} address={address} wallet={wallet} baseToken={baseToken} afterRemove={afterClick}/>\n\t\t\t}\t\t\t\n\t\t\t{buttonElment}\n  </div>\n  )\n}\n\nexport default inject('wallet')(observer(Liquidity))","import React, { useState ,useEffect} from 'react'\nimport NumberFormat from 'react-number-format'\nimport Button from '../../../Button/Button';\nimport Modal from 'react-modal'\nimport { addLiquidity, getWalletBalance, bg, addLpLiquidity } from '../../../../lib/web3js/indexV2';\nimport useSpecification from '../../../../hooks/useSpecification';\n\n\n\nexport default function AddLiquidity({wallet,address,baseToken,onClose,afterAdd,balance,isLpPool}){\n  const [addValue, setAddValue] = useState('')\n  const spec = useSpecification({wallet,address});\n\n\n  const input = (e) => {\n    const {value} =e.target\n    setAddValue(value)\n  }\n\n  const addAll = () => {\n    setAddValue(balance);\n  }\n\n  const addLiq = async () => {\n    const max = bg(balance)\n    const cur = bg(addValue);\n    if(cur.gt(max)) {\n      alert(\"not sufficient funds\");\n      return false;\n    }\n    if(spec && (+addValue) < (+spec.minAddLiquidity)) {\n      alert(`The input liquidity shall not be less than ${spec.minAddLiquidity}`);\n      return false;\n    }\n    if(addValue <=0 || isNaN(addValue)){\n      alert(\"It has to be greater than zero\");\n      return false;\n    }\n    let res =  null;\n    if(isLpPool){\n      res = await addLpLiquidity(wallet.detail.chainId,address,wallet.detail.account,addValue);\n    } else{\n      res = await addLiquidity(wallet.detail.chainId,address,wallet.detail.account,addValue)\n    }\n    \n    if (!res ||  !res.success) {\n      alert(\"failure of transaction\");\n    }\n    return true;\n  }\n\n\n  return(\n    <div className='modal-dialog'>\n        <div className='modal-content'>\n          <div className='modal-header'>\n            <div className='title'>ADD LIQUIDITY</div>\n            <div className='close' onClick={onClose}>\n              <span>&times;</span>\n            </div>\n          </div>\n          <div className='modal-body'>\n            <div className='margin-box-info'>\n              <div>Wallet Balance</div>\n              <div className='money'>\n                <span> \n                  <span className='bt-balance'>\n                    <NumberFormat displayType='text' value ={balance } thousandSeparator={true} decimalScale={2}/>\n                  </span> \n                    <div className='base-token'>{ baseToken }</div> \n                  </span>\n                <span className='add'></span>\n              </div>\n              <div className='enter-margin'>\n                <div className='input-margin'>\n                  <div className='box'>\n                    <div className='amount' style={{display : addValue ? 'block' : 'none'}}>LIQUIDITY</div>\n                    <input\n                      type='number'\n                      className='margin-value'\n                      placeholder='LIQUIDITY'\n                      value={addValue}\n                      onChange={input}\n                    />\n                  </div>\n                </div>\n                <div>{ baseToken }</div>\n              </div>\n              <div className='max'>\n                MAX: <span className='max-num'>{balance }</span>\n                <span className='max-btn-left' onClick={addAll}>ADD ALL</span>\n              </div>\n              <div className='add-margin-btn'>\n                <Button className='margin-btn' click={addLiq} btnText='ADD' afterClick={afterAdd}/>\n              </div>\n            </div>\n          </div>    \n        </div>\n      </div>\n  )\n}","import { useState, useEffect } from 'react'\nimport { getSpecification } from \"../lib/web3js/indexV2\";\n\nexport default function useSpecification({wallet,address}){\n  const [spec, setSpec] = useState({});\n\n  const loadSpec = async () => {\n    if(wallet.isConnected() && address){\n      const spec =  await getSpecification(wallet.detail.chainId,address,wallet.detail.account);\n      setSpec(spec);\n    }\n  }\n\n  useEffect(() => {\n    loadSpec();\n    return () => {      \n    }\n  }, wallet.detail.account,address);\n\n  return spec;\n}","import React, { useState } from 'react'\nimport NumberFormat from 'react-number-format'\nimport { removeLiquidity, bg, removeLpLiquidity } from '../../../../lib/web3js/indexV2';\nimport Button from '../../../Button/Button';\n\nexport default function RemoveLiquidity({wallet,address,liqInfo,onClose,afterRemove,isLpPool}){  \n  const [amount, setAmount] = useState('');\n\n\n  const addAll = () => {\n    setAmount(liqInfo.shares)\n  }\n\n  const onChange = e => {\n    const {value} = e.target;\n    setAmount(value)\n  }\n\n  const remove = async () => {\n    const max = bg(liqInfo.shares);\n    const cur = bg(amount);\n    if(!isLpPool){\n      const balance = (+liqInfo.shares) - (+amount)\n      if (balance < 1 && balance !== 0) {\n        alert('Leaving staking balance of smaller than 1 is not allowed. Please click \"MAX\" to remove all if you are to withdraw all of your liquidity.');\n        return false;\n      }\n    }\n    if (cur.gt(max)) {\n      alert(`Your current max removable shares are  ${liqInfo.shares}`);\n      return false;\n    }\n    if (+amount <= 0 || isNaN(amount)) {\n      alert(\"Invalid Liquidity!\");\n      return false;\n    }\n    let res = null;\n    if(isLpPool){\n      res = await removeLpLiquidity(wallet.detail.chainId,address,wallet.detail.account,amount);\n    } else {\n      res = await removeLiquidity(wallet.detail.chainId,address,wallet.detail.account,amount);\n    }\n    \n    if(!res || !res.success){\n      alert(\"failure of transaction\");\n      return false; \n    }\n    return true;\n  }\n  \n  \n  return(\n    <div className='modal-dialog'>\n        <div className='modal-content'>\n          <div className='modal-header'>\n            <div className='title'>REMOVE LIQUIDITY</div>\n            <div className='close' data-dismiss='modal' onClick={onClose}>\n              <span>&times;</span>\n            </div>\n          </div>\n          <div className='modal-body'>          \n            <div className='margin-box-info'>\n              <div>Shares Available</div>\n              <div className='money'>\n                <span>\n                  <span className='bt-balance'>\n                    <NumberFormat displayType='text' value ={liqInfo.shares} thousandSeparator={true} decimalScale={2}/>\n                    </span>\n                    </span>\n                <span className='remove'></span>\n              </div>\n              <div className='enter-margin'>\n                <div className='input-margin'>\n                  <div className='box'>\n                    <div className='amount' style={{display : amount ? 'block' : 'none'}}>\n                      LIQUIDITY SHARES\n                    </div>\n                    <input\n                      type='number'\n                      className='margin-value'\n                      placeholder='LIQUIDITY SHARES'\n                      value={amount}\n                      onChange={onChange}\n                    />\n                  </div>\n                </div>\n                <div>Shares</div>\n              </div>\n              <div className='max'>\n                <span>MAX REMOVEABLE:</span>\n                <span className='max-num'>{liqInfo.shares}</span>\n                <span className='max-btn-left' onClick={addAll}>REMOVE ALL</span>\n              </div>\n              <div className='add-margin-btn'>\n                <Button click={remove} className='margin-btn' btnText='REMOVE' afterClick={afterRemove}/>\n              </div>\n            </div>\n          </div>    \n        </div>\n      </div>\n      )\n}","import Claim from '../../Claim/Claim';\nimport Liquidity from './Liquidity';\n\n\nfunction LiquidityMining(props){\n  return (\n    <div className=\"liquidity-info\">\n      <Claim {...props}/>\n      <Liquidity {...props}/>\n  </div>)\n}\n\nexport default LiquidityMining","import { useState, useEffect} from 'react'\n\nimport useClaimInfo from \"../../hooks/useClaimInfo\";\nimport useConfig from \"../../hooks/useConfig\";\nimport { mintDToken } from \"../../lib/web3js/indexV2\";\nimport Button from '../Button/Button';\nimport { eqInNumber } from '../../utils/utils';\n\nexport default function Claim({wallet}){\n\tconst [btnText, setBtnText] = useState('Collect Wallet')\n\tconst [claimInfo,claimInfoInterval] = useClaimInfo(wallet);\n\tconst [remainingTime, setRemainingTime] = useState('')\n\tconst config = useConfig(claimInfo.chainId) \n\n  //claim deri\n\tconst claim = async () => {\n\t\tif(!eqInNumber(wallet.detail.chainId,claim.chainId)) {\n\t\t\talert(`Your DERI is on ${ config.text } . Connect to ${ config.text } to claim.`)\n\t\t\treturn ;\n\t\t}\n\t\tif (claimInfo.unclaimed === 0) {\n\t\t\talert('Sorry,no DERI to claim yet');\n\t\t\treturn;\n\t\t}\n\t\tlet now = parseInt(Date.now() / 1000) % (3600 * 8);\n\t\tif (now < 1800) {\n\t\t\talert('Claiming DERI is disabled during first 30 minutes of each epoch');\n\t\t\treturn;\n\t\t}\n\t\tconst res = await mintDToken(wallet.detail.chainId,wallet.detail.account)\n\t\tif(res.success){\n      clearInterval(claimInfoInterval);\n\t\t} else {\n\t\t\talert('Claim failed')\n\t\t}\n  }\n\n\tconst click = async () => {\n\t\tif(wallet.isConnected()){\n\t\t\tawait claim();\n\t\t} \n\t}\n\n\n\t\n\t//初始化按钮文案和事件\n\tconst initButton = () => {\n\t\tif(wallet.isConnected()){\n\t\t\tsetBtnText('CLAIM')\n\t\t} else {\n\t\t\tsetBtnText('Collect Wallet')\n\t\t}\n\t}\n  \n  useEffect(() => {\n    //计数器\n    const interval = window.setInterval(() => {\n      let period = 3600 * 8;\n      let current = parseInt(Date.now()/1000);\n      let epochBegin = parseInt(current / period)*period;\n      let dis = (epochBegin + period - current);\n      let h = parseInt(dis / 3600);\n      let m = parseInt((dis % 3600)/60)\n      let s = parseInt(dis % 60) \n      setRemainingTime(`${h} h ${m} m ${s} s`);\n\t\t},1000);\n\n\t\tinitButton();\t\t\n    return () => {\n      clearInterval(interval);\n\t\t};\n\t\t\n  }, [wallet.detail.account]);\n\n\n  return (\n    <div className='claim-box'>\n\t\t\t\t<div className='odd title'>My Liquidity-Providing Harvest in Current Epoch</div>\n\t\t\t\t<div className='odd text'>\n\t\t\t\t\t\t<div className='text-title'>Current Epoch Remaining Time</div>\n\t\t\t\t\t\t<div className='text-num'>{ remainingTime }</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='odd text'>\n\t\t\t\t\t\t<div className='text-title'>My Harvest in Current Epoch (estimated)</div>\n\t\t\t\t\t\t<div className='text-num'>{ claimInfo.harvestDeriLp } DERI</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='odd text'>\n\t\t\t\t\t\t<div className='text-title'>Claimed DERI</div>\n\t\t\t\t\t\t<div className='text-num'>{ claimInfo.claimed }</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='odd text'>\n\t\t\t\t\t\t<div className='text-title'></div>\n\t\t\t\t\t\t<div className='text-num'></div>\n\t\t\t\t</div>\n\t\t\t\t<div className='odd text'>\n\t\t\t\t\t\t<div className='text-title'>Unclaimed DERI</div>\n\t\t\t\t\t\t<div className='text-num'>{ claimInfo.unclaimed }</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='odd claim-network'>\n\t\t\t\t\t\t<div className='text-title'>Your DERI is on { config.text } . Connect to { config.text } to claim.</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='claim-btn'>\n\t\t\t\t\t<Button btnText={btnText} click={click} className='claim'/>\t\t\t\t\t\n\t\t\t\t</div>\n      </div>\n  ) \n}","import { useState, useEffect } from 'react'\nimport { getUserInfoAll ,deriToNatural} from '../lib/web3js/indexV2';\n\n\nexport default function useClaimInfo(wallet){\n  const [claimInfo, setClaimInfo] = useState({});\n  let interval = null;\n\n  const loadClaimInfo =  async () => {\n    if(wallet.isConnected()){\n      const claimInfo  = await getUserInfoAll(wallet.detail.account);\n      const claimed = deriToNatural(claimInfo.total).toFixed(2);\n      const unclaimed = claimInfo.valid ? (+claimInfo.amount).toFixed(2) : 0;\n      const harvestDeriLp = (+claimInfo.lp).toFixed(2);\n      const harvestDeriTrade = (+claimInfo.trade).toFixed(2);\n      const chainId = claimInfo.chainId\n      setClaimInfo({claimed,unclaimed,harvestDeriLp,harvestDeriTrade,chainId})\n    }\n  }\n\n  useEffect(() => {\n    interval = window.setInterval(loadClaimInfo,1000 * 60 *3);\n      loadClaimInfo();\n    return () => clearInterval(interval);\n  }, [wallet.detail.account])\n  return [claimInfo,interval];\n}","import config from '../config.json'\nimport {DeriEnv} from '../lib/web3js/indexV2'\nexport default function useConfig(chainId,type = 'chainInfo'){\n  return config[DeriEnv.get()][type][chainId] || {};\n}","import { useState, useEffect } from 'react'\nimport {Link} from 'react-router-dom'\nimport { getUserInfoAll,getUserInfoInPool ,getPoolInfoApy} from '../../../lib/web3js/indexV2';\nimport { useHistory } from 'react-router-dom';\nimport { inject, observer } from 'mobx-react';\n\n\n\nfunction Liquidity({wallet = {},trading,chainId,address,symbol}) {\n  const [userInfoInPool,setUserInfoInPool] = useState({})\n  const [tradeSummary, setTradeSummary] = useState({});\n  const history = useHistory();\n\n\tconst loadUserInfoInPool = async () => {\n\t\tconst userInfo = await getUserInfoAll(wallet.account);\n\t\tconst userInfoPool = await getUserInfoInPool(chainId,address,wallet.account);\n\t\tconst harvestDeriTrade = (+userInfo.trade).toFixed(2);\n\t\tconst myTradingVolumeCurrent = userInfoPool.volume1h\n\t\tsetUserInfoInPool({harvestDeriTrade,myTradingVolumeCurrent})\n\t}\n\n\tconst getTradeInfo = async () => {\n\t\tconst poolInfo = await getPoolInfoApy(chainId,address);\n\t\tconst totalTradingVolumeCurrent = poolInfo.volume1h\n\t\tsetTradeSummary({totalTradingVolumeCurrent})\n  }\n  \n  const toTrade = () => {\n    trading.switch({chainId : chainId,pool : address,symbol : symbol})\n    // sessionStorage.setItem('current-trading-pool',JSON.stringify())\n    history.push('/lite')\n  }\n\n\tuseEffect(() => {\n\t\tif(wallet && wallet.account){\n\t\t\tloadUserInfoInPool();\n\t\t\tgetTradeInfo();\n\t\t}\n\t\treturn () => {};\n\t}, []);\n\n  return(\n    <div className=\"liquidity-box\">\n      <div className=\"odd title\">Trade to Earn DERI</div>\n        <div className=\"odd text\">\n            <div className=\"text-title\">Total Trading Volume in Current Hour</div>\n            <div className=\"text-num\">{ tradeSummary.totalTradingVolumeCurrent || 0}</div>\n        </div>\n        <div className=\"odd text\">\n            <div className=\"text-title\">My Trading Volume in Current Hour</div>\n            <div className=\"text-num\">{ userInfoInPool.myTradingVolumeCurrent || 0 }</div>\n        </div>\n        <div className=\"odd text\">\n            <div className=\"text-title\"></div>\n            <div className=\"text-num\"></div>\n        </div>\n        <div className=\"odd text\">\n            <div className=\"text-title\"></div>\n            <div className=\"text-num\"></div>\n        </div>\n        <div className=\"odd text\">\n            <div className=\"text-title\"></div>\n            <div className=\"text-num\"></div>\n        </div>\n        <div className=\"odd claim-network\">\n              \n        </div>\n        <div className=\"claim-btn\">\n            <button className=\"claim\" onClick={toTrade}>\n              TRADE\n            </button>\n        </div>\n    </div> \n  )\n}\nexport default inject('trading')(observer(Liquidity))","import Claim from '../../Claim/Claim';\nimport Liquidity from './Liquidity';\n\nexport default function TradeMining({wallet,...props}){\n  return(\n    <div className=\"trade-info\">\n      <Claim wallet={wallet}/>\n\t\t\t<Liquidity {...props}/>\n  </div>\n  )\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Modal = require(\"./components/Modal\");\n\nvar _Modal2 = _interopRequireDefault(_Modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _Modal2.default;\nmodule.exports = exports[\"default\"];"],"sourceRoot":""}